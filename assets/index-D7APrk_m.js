var Xp=Object.defineProperty;var Zp=(t,e,n)=>e in t?Xp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ru=(t,e,n)=>Zp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();window.addEventListener("error",t=>{const e=t.target,n=e instanceof HTMLScriptElement&&e.src.includes("/src/main.tsx"),r=typeof t.filename=="string"&&t.filename.includes("/src/main.tsx");if(!n&&!r)return;import("/interactive-schedule/assets/branch-main.js")},!0);function eg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wd={exports:{}},oa={},Hd={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=Symbol.for("react.element"),tg=Symbol.for("react.portal"),ng=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),sg=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),ag=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),ug=Symbol.for("react.memo"),cg=Symbol.for("react.lazy"),Nu=Symbol.iterator;function dg(t){return t===null||typeof t!="object"?null:(t=Nu&&t[Nu]||t["@@iterator"],typeof t=="function"?t:null)}var qd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vd=Object.assign,Kd={};function Sr(t,e,n){this.props=t,this.context=e,this.refs=Kd,this.updater=n||qd}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yd(){}Yd.prototype=Sr.prototype;function Rl(t,e,n){this.props=t,this.context=e,this.refs=Kd,this.updater=n||qd}var Nl=Rl.prototype=new Yd;Nl.constructor=Rl;Vd(Nl,Sr.prototype);Nl.isPureReactComponent=!0;var ju=Array.isArray,Gd=Object.prototype.hasOwnProperty,jl={current:null},Jd={key:!0,ref:!0,__self:!0,__source:!0};function Qd(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Gd.call(e,r)&&!Jd.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Ps,type:t,key:i,ref:a,props:s,_owner:jl.current}}function hg(t,e){return{$$typeof:Ps,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Al(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ps}function fg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Au=/\/+/g;function Aa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fg(""+t.key):e.toString(36)}function hi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ps:case tg:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Aa(a,0):r,ju(s)?(n="",t!=null&&(n=t.replace(Au,"$&/")+"/"),hi(s,e,n,"",function(u){return u})):s!=null&&(Al(s)&&(s=hg(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Au,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",ju(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+Aa(i,o);a+=hi(i,e,n,l,s)}else if(l=dg(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+Aa(i,o++),a+=hi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function zs(t,e,n){if(t==null)return t;var r=[],s=0;return hi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oe={current:null},fi={transition:null},gg={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:fi,ReactCurrentOwner:jl};function Xd(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:zs,forEach:function(t,e,n){zs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zs(t,function(){e++}),e},toArray:function(t){return zs(t,function(e){return e})||[]},only:function(t){if(!Al(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=Sr;z.Fragment=ng;z.Profiler=sg;z.PureComponent=Rl;z.StrictMode=rg;z.Suspense=lg;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gg;z.act=Xd;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vd({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=jl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Gd.call(e,l)&&!Jd.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Ps,type:t.type,key:s,ref:i,props:r,_owner:a}};z.createContext=function(t){return t={$$typeof:ag,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ig,_context:t},t.Consumer=t};z.createElement=Qd;z.createFactory=function(t){var e=Qd.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:og,render:t}};z.isValidElement=Al;z.lazy=function(t){return{$$typeof:cg,_payload:{_status:-1,_result:t},_init:pg}};z.memo=function(t,e){return{$$typeof:ug,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=fi.transition;fi.transition={};try{t()}finally{fi.transition=e}};z.unstable_act=Xd;z.useCallback=function(t,e){return Oe.current.useCallback(t,e)};z.useContext=function(t){return Oe.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Oe.current.useDeferredValue(t)};z.useEffect=function(t,e){return Oe.current.useEffect(t,e)};z.useId=function(){return Oe.current.useId()};z.useImperativeHandle=function(t,e,n){return Oe.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return Oe.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Oe.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Oe.current.useMemo(t,e)};z.useReducer=function(t,e,n){return Oe.current.useReducer(t,e,n)};z.useRef=function(t){return Oe.current.useRef(t)};z.useState=function(t){return Oe.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return Oe.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return Oe.current.useTransition()};z.version="18.3.1";Hd.exports=z;var R=Hd.exports;const mg=eg(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg=R,vg=Symbol.for("react.element"),wg=Symbol.for("react.fragment"),_g=Object.prototype.hasOwnProperty,Sg=yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kg={key:!0,ref:!0,__self:!0,__source:!0};function Zd(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)_g.call(e,r)&&!kg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vg,type:t,key:i,ref:a,props:s,_owner:Sg.current}}oa.Fragment=wg;oa.jsx=Zd;oa.jsxs=Zd;Wd.exports=oa;var v=Wd.exports,ko={},eh={exports:{}},qe={},th={exports:{}},nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var D=P.length;P.push(A);e:for(;0<D;){var q=D-1>>>1,ie=P[q];if(0<s(ie,A))P[q]=A,P[D]=ie,D=q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],D=P.pop();if(D!==A){P[0]=D;e:for(var q=0,ie=P.length,Dt=ie>>>1;q<Dt;){var wt=2*(q+1)-1,_t=P[wt],St=wt+1,un=P[St];if(0>s(_t,D))St<ie&&0>s(un,_t)?(P[q]=un,P[St]=D,q=St):(P[q]=_t,P[wt]=D,q=wt);else if(St<ie&&0>s(un,D))P[q]=un,P[St]=D,q=St;else break e}}return A}function s(P,A){var D=P.sortIndex-A.sortIndex;return D!==0?D:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,d=3,p=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=P)r(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(u)}}function _(P){if(w=!1,g(P),!y)if(n(l)!==null)y=!0,dt(x);else{var A=n(u);A!==null&&Ue(_,A.startTime-P)}}function x(P,A){y=!1,w&&(w=!1,m(O),O=-1),p=!0;var D=d;try{for(g(A),h=n(l);h!==null&&(!(h.expirationTime>A)||P&&!Q());){var q=h.callback;if(typeof q=="function"){h.callback=null,d=h.priorityLevel;var ie=q(h.expirationTime<=A);A=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(l)&&r(l),g(A)}else r(l);h=n(l)}if(h!==null)var Dt=!0;else{var wt=n(u);wt!==null&&Ue(_,wt.startTime-A),Dt=!1}return Dt}finally{h=null,d=D,p=!1}}var E=!1,b=null,O=-1,F=5,M=-1;function Q(){return!(t.unstable_now()-M<F)}function De(){if(b!==null){var P=t.unstable_now();M=P;var A=!0;try{A=b(!0,P)}finally{A?$e():(E=!1,b=null)}}else E=!1}var $e;if(typeof f=="function")$e=function(){f(De)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,et=le.port2;le.port1.onmessage=De,$e=function(){et.postMessage(null)}}else $e=function(){S(De,0)};function dt(P){b=P,E||(E=!0,$e())}function Ue(P,A){O=S(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,dt(x))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var D=d;d=A;try{return P()}finally{d=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=d;d=P;try{return A()}finally{d=D}},t.unstable_scheduleCallback=function(P,A,D){var q=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?q+D:q):D=q,P){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=D+ie,P={id:c++,callback:A,priorityLevel:P,startTime:D,expirationTime:ie,sortIndex:-1},D>q?(P.sortIndex=D,e(u,P),n(l)===null&&P===n(u)&&(w?(m(O),O=-1):w=!0,Ue(_,D-q))):(P.sortIndex=ie,e(l,P),y||p||(y=!0,dt(x))),P},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(P){var A=d;return function(){var D=d;d=A;try{return P.apply(this,arguments)}finally{d=D}}}})(nh);th.exports=nh;var bg=th.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=R,He=bg;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rh=new Set,rs={};function Rn(t,e){fr(t,e),fr(t+"Capture",e)}function fr(t,e){for(rs[t]=e,t=0;t<e.length;t++)rh.add(e[t])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=Object.prototype.hasOwnProperty,Eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iu={},Lu={};function Cg(t){return bo.call(Lu,t)?!0:bo.call(Iu,t)?!1:Eg.test(t)?Lu[t]=!0:(Iu[t]=!0,!1)}function Tg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Og(t,e,n,r){if(e===null||typeof e>"u"||Tg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Il=/[\-:]([a-z])/g;function Ll(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Il,Ll);ve[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Il,Ll);ve[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Il,Ll);ve[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dl(t,e,n,r){var s=ve.hasOwnProperty(e)?ve[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Og(e,n,s,r)&&(n=null),r||s===null?Cg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var At=xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bs=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),$l=Symbol.for("react.strict_mode"),xo=Symbol.for("react.profiler"),sh=Symbol.for("react.provider"),ih=Symbol.for("react.context"),Ul=Symbol.for("react.forward_ref"),Eo=Symbol.for("react.suspense"),Co=Symbol.for("react.suspense_list"),Ml=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),ah=Symbol.for("react.offscreen"),Du=Symbol.iterator;function Tr(t){return t===null||typeof t!="object"?null:(t=Du&&t[Du]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,Ia;function Mr(t){if(Ia===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ia=e&&e[1]||""}return`
`+Ia+t}var La=!1;function Da(t,e){if(!t||La)return"";La=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{La=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mr(t):""}function Pg(t){switch(t.tag){case 5:return Mr(t.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 2:case 15:return t=Da(t.type,!1),t;case 11:return t=Da(t.type.render,!1),t;case 1:return t=Da(t.type,!0),t;default:return""}}function To(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yn:return"Fragment";case Kn:return"Portal";case xo:return"Profiler";case $l:return"StrictMode";case Eo:return"Suspense";case Co:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ih:return(t.displayName||"Context")+".Consumer";case sh:return(t._context.displayName||"Context")+".Provider";case Ul:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ml:return e=t.displayName||null,e!==null?e:To(t.type)||"Memo";case Ft:e=t._payload,t=t._init;try{return To(t(e))}catch{}}return null}function Rg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return To(e);case 8:return e===$l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ng(t){var e=oh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ws(t){t._valueTracker||(t._valueTracker=Ng(t))}function lh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oo(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $u(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uh(t,e){e=e.checked,e!=null&&Dl(t,"checked",e,!1)}function Po(t,e){uh(t,e);var n=nn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ro(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ro(t,e.type,nn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ro(t,e,n){(e!=="number"||Ei(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fr=Array.isArray;function ar(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function No(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(Fr(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nn(n)}}function ch(t,e){var n=nn(e.value),r=nn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hs,hh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ss(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jg=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(t){jg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hr[e]=Hr[t]})});function fh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hr.hasOwnProperty(t)&&Hr[t]?(""+e).trim():e+"px"}function ph(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Ag=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(t,e){if(e){if(Ag[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Io(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=null;function Fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Do=null,or=null,lr=null;function zu(t){if(t=js(t)){if(typeof Do!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ha(e),Do(t.stateNode,t.type,e))}}function gh(t){or?lr?lr.push(t):lr=[t]:or=t}function mh(){if(or){var t=or,e=lr;if(lr=or=null,zu(t),e)for(t=0;t<e.length;t++)zu(e[t])}}function yh(t,e){return t(e)}function vh(){}var $a=!1;function wh(t,e,n){if($a)return t(e,n);$a=!0;try{return yh(t,e,n)}finally{$a=!1,(or!==null||lr!==null)&&(vh(),mh())}}function is(t,e){var n=t.stateNode;if(n===null)return null;var r=ha(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var $o=!1;if(Pt)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{$o=!1}function Ig(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var qr=!1,Ci=null,Ti=!1,Uo=null,Lg={onError:function(t){qr=!0,Ci=t}};function Dg(t,e,n,r,s,i,a,o,l){qr=!1,Ci=null,Ig.apply(Lg,arguments)}function $g(t,e,n,r,s,i,a,o,l){if(Dg.apply(this,arguments),qr){if(qr){var u=Ci;qr=!1,Ci=null}else throw Error(T(198));Ti||(Ti=!0,Uo=u)}}function Nn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bu(t){if(Nn(t)!==t)throw Error(T(188))}function Ug(t){var e=t.alternate;if(!e){if(e=Nn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bu(s),t;if(i===r)return Bu(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function Sh(t){return t=Ug(t),t!==null?kh(t):null}function kh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kh(t);if(e!==null)return e;t=t.sibling}return null}var bh=He.unstable_scheduleCallback,Wu=He.unstable_cancelCallback,Mg=He.unstable_shouldYield,Fg=He.unstable_requestPaint,se=He.unstable_now,zg=He.unstable_getCurrentPriorityLevel,zl=He.unstable_ImmediatePriority,xh=He.unstable_UserBlockingPriority,Oi=He.unstable_NormalPriority,Bg=He.unstable_LowPriority,Eh=He.unstable_IdlePriority,la=null,yt=null;function Wg(t){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(la,t,void 0,(t.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:Vg,Hg=Math.log,qg=Math.LN2;function Vg(t){return t>>>=0,t===0?32:31-(Hg(t)/qg|0)|0}var qs=64,Vs=4194304;function zr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=zr(o):(i&=a,i!==0&&(r=zr(i)))}else a=n&~s,a!==0?r=zr(a):i!==0&&(r=zr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lt(e),s=1<<n,r|=t[n],e&=~s;return r}function Kg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-lt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=Kg(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Mo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ch(){var t=qs;return qs<<=1,!(qs&4194240)&&(qs=64),t}function Ua(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lt(e),t[e]=n}function Gg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var H=0;function Th(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Oh,Wl,Ph,Rh,Nh,Fo=!1,Ks=[],Yt=null,Gt=null,Jt=null,as=new Map,os=new Map,Wt=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(t,e){switch(t){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":as.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(e.pointerId)}}function Pr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=js(e),e!==null&&Wl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Qg(t,e,n,r,s){switch(e){case"focusin":return Yt=Pr(Yt,t,e,n,r,s),!0;case"dragenter":return Gt=Pr(Gt,t,e,n,r,s),!0;case"mouseover":return Jt=Pr(Jt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return as.set(i,Pr(as.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,os.set(i,Pr(os.get(i)||null,t,e,n,r,s)),!0}return!1}function jh(t){var e=vn(t.target);if(e!==null){var n=Nn(e);if(n!==null){if(e=n.tag,e===13){if(e=_h(n),e!==null){t.blockedOn=e,Nh(t.priority,function(){Ph(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lo=r,n.target.dispatchEvent(r),Lo=null}else return e=js(n),e!==null&&Wl(e),t.blockedOn=n,!1;e.shift()}return!0}function qu(t,e,n){pi(t)&&n.delete(e)}function Xg(){Fo=!1,Yt!==null&&pi(Yt)&&(Yt=null),Gt!==null&&pi(Gt)&&(Gt=null),Jt!==null&&pi(Jt)&&(Jt=null),as.forEach(qu),os.forEach(qu)}function Rr(t,e){t.blockedOn===e&&(t.blockedOn=null,Fo||(Fo=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Xg)))}function ls(t){function e(s){return Rr(s,t)}if(0<Ks.length){Rr(Ks[0],t);for(var n=1;n<Ks.length;n++){var r=Ks[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yt!==null&&Rr(Yt,t),Gt!==null&&Rr(Gt,t),Jt!==null&&Rr(Jt,t),as.forEach(e),os.forEach(e),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)jh(n),n.blockedOn===null&&Wt.shift()}var ur=At.ReactCurrentBatchConfig,Ri=!0;function Zg(t,e,n,r){var s=H,i=ur.transition;ur.transition=null;try{H=1,Hl(t,e,n,r)}finally{H=s,ur.transition=i}}function em(t,e,n,r){var s=H,i=ur.transition;ur.transition=null;try{H=4,Hl(t,e,n,r)}finally{H=s,ur.transition=i}}function Hl(t,e,n,r){if(Ri){var s=zo(t,e,n,r);if(s===null)Ya(t,e,r,Ni,n),Hu(t,r);else if(Qg(s,t,e,n,r))r.stopPropagation();else if(Hu(t,r),e&4&&-1<Jg.indexOf(t)){for(;s!==null;){var i=js(s);if(i!==null&&Oh(i),i=zo(t,e,n,r),i===null&&Ya(t,e,r,Ni,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ya(t,e,r,null,n)}}var Ni=null;function zo(t,e,n,r){if(Ni=null,t=Fl(r),t=vn(t),t!==null)if(e=Nn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_h(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ni=t,null}function Ah(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zg()){case zl:return 1;case xh:return 4;case Oi:case Bg:return 16;case Eh:return 536870912;default:return 16}default:return 16}}var Vt=null,ql=null,gi=null;function Ih(){if(gi)return gi;var t,e=ql,n=e.length,r,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return gi=s.slice(t,1<r?1-r:void 0)}function mi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ys(){return!0}function Vu(){return!1}function Ve(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ys:Vu,this.isPropagationStopped=Vu,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),e}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=Ve(kr),Ns=ee({},kr,{view:0,detail:0}),tm=Ve(Ns),Ma,Fa,Nr,ua=ee({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nr&&(Nr&&t.type==="mousemove"?(Ma=t.screenX-Nr.screenX,Fa=t.screenY-Nr.screenY):Fa=Ma=0,Nr=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),Ku=Ve(ua),nm=ee({},ua,{dataTransfer:0}),rm=Ve(nm),sm=ee({},Ns,{relatedTarget:0}),za=Ve(sm),im=ee({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),am=Ve(im),om=ee({},kr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lm=Ve(om),um=ee({},kr,{data:0}),Yu=Ve(um),cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hm[t])?!!e[t]:!1}function Kl(){return fm}var pm=ee({},Ns,{key:function(t){if(t.key){var e=cm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(t){return t.type==="keypress"?mi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gm=Ve(pm),mm=ee({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=Ve(mm),ym=ee({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),vm=Ve(ym),wm=ee({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_m=Ve(wm),Sm=ee({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),km=Ve(Sm),bm=[9,13,27,32],Yl=Pt&&"CompositionEvent"in window,Vr=null;Pt&&"documentMode"in document&&(Vr=document.documentMode);var xm=Pt&&"TextEvent"in window&&!Vr,Lh=Pt&&(!Yl||Vr&&8<Vr&&11>=Vr),Ju=" ",Qu=!1;function Dh(t,e){switch(t){case"keyup":return bm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $h(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function Em(t,e){switch(t){case"compositionend":return $h(e);case"keypress":return e.which!==32?null:(Qu=!0,Ju);case"textInput":return t=e.data,t===Ju&&Qu?null:t;default:return null}}function Cm(t,e){if(Gn)return t==="compositionend"||!Yl&&Dh(t,e)?(t=Ih(),gi=ql=Vt=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lh&&e.locale!=="ko"?null:e.data;default:return null}}var Tm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tm[t.type]:e==="textarea"}function Uh(t,e,n,r){gh(r),e=ji(e,"onChange"),0<e.length&&(n=new Vl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kr=null,us=null;function Om(t){Gh(t,0)}function ca(t){var e=Xn(t);if(lh(e))return t}function Pm(t,e){if(t==="change")return e}var Mh=!1;if(Pt){var Ba;if(Pt){var Wa="oninput"in document;if(!Wa){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Wa=typeof Zu.oninput=="function"}Ba=Wa}else Ba=!1;Mh=Ba&&(!document.documentMode||9<document.documentMode)}function ec(){Kr&&(Kr.detachEvent("onpropertychange",Fh),us=Kr=null)}function Fh(t){if(t.propertyName==="value"&&ca(us)){var e=[];Uh(e,us,t,Fl(t)),wh(Om,e)}}function Rm(t,e,n){t==="focusin"?(ec(),Kr=e,us=n,Kr.attachEvent("onpropertychange",Fh)):t==="focusout"&&ec()}function Nm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ca(us)}function jm(t,e){if(t==="click")return ca(e)}function Am(t,e){if(t==="input"||t==="change")return ca(e)}function Im(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:Im;function cs(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bo.call(e,s)||!ct(t[s],e[s]))return!1}return!0}function tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nc(t,e){var n=tc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tc(n)}}function zh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bh(){for(var t=window,e=Ei();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ei(t.document)}return e}function Gl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lm(t){var e=Bh(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zh(n.ownerDocument.documentElement,n)){if(r!==null&&Gl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=nc(n,i);var a=nc(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dm=Pt&&"documentMode"in document&&11>=document.documentMode,Jn=null,Bo=null,Yr=null,Wo=!1;function rc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wo||Jn==null||Jn!==Ei(r)||(r=Jn,"selectionStart"in r&&Gl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yr&&cs(Yr,r)||(Yr=r,r=ji(Bo,"onSelect"),0<r.length&&(e=new Vl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jn)))}function Gs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qn={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Ha={},Wh={};Pt&&(Wh=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function da(t){if(Ha[t])return Ha[t];if(!Qn[t])return t;var e=Qn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wh)return Ha[t]=e[n];return t}var Hh=da("animationend"),qh=da("animationiteration"),Vh=da("animationstart"),Kh=da("transitionend"),Yh=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(t,e){Yh.set(t,e),Rn(e,[t])}for(var qa=0;qa<sc.length;qa++){var Va=sc[qa],$m=Va.toLowerCase(),Um=Va[0].toUpperCase()+Va.slice(1);an($m,"on"+Um)}an(Hh,"onAnimationEnd");an(qh,"onAnimationIteration");an(Vh,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Kh,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function ic(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$g(r,e,void 0,t),t.currentTarget=null}function Gh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;ic(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;ic(s,o,u),i=l}}}if(Ti)throw t=Uo,Ti=!1,Uo=null,t}function Y(t,e){var n=e[Yo];n===void 0&&(n=e[Yo]=new Set);var r=t+"__bubble";n.has(r)||(Jh(e,t,2,!1),n.add(r))}function Ka(t,e,n){var r=0;e&&(r|=4),Jh(n,t,r,e)}var Js="_reactListening"+Math.random().toString(36).slice(2);function ds(t){if(!t[Js]){t[Js]=!0,rh.forEach(function(n){n!=="selectionchange"&&(Mm.has(n)||Ka(n,!1,t),Ka(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Js]||(e[Js]=!0,Ka("selectionchange",!1,e))}}function Jh(t,e,n,r){switch(Ah(e)){case 1:var s=Zg;break;case 4:s=em;break;default:s=Hl}n=s.bind(null,e,n,t),s=void 0,!$o||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ya(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=vn(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}wh(function(){var u=i,c=Fl(n),h=[];e:{var d=Yh.get(t);if(d!==void 0){var p=Vl,y=t;switch(t){case"keypress":if(mi(n)===0)break e;case"keydown":case"keyup":p=gm;break;case"focusin":y="focus",p=za;break;case"focusout":y="blur",p=za;break;case"beforeblur":case"afterblur":p=za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vm;break;case Hh:case qh:case Vh:p=am;break;case Kh:p=_m;break;case"scroll":p=tm;break;case"wheel":p=km;break;case"copy":case"cut":case"paste":p=lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gu}var w=(e&4)!==0,S=!w&&t==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var f=u,g;f!==null;){g=f;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=is(f,m),_!=null&&w.push(hs(f,_,g)))),S)break;f=f.return}0<w.length&&(d=new p(d,y,null,n,c),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Lo&&(y=n.relatedTarget||n.fromElement)&&(vn(y)||y[Rt]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?vn(y):null,y!==null&&(S=Nn(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=Ku,_="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=Gu,_="onPointerLeave",m="onPointerEnter",f="pointer"),S=p==null?d:Xn(p),g=y==null?d:Xn(y),d=new w(_,f+"leave",p,n,c),d.target=S,d.relatedTarget=g,_=null,vn(c)===u&&(w=new w(m,f+"enter",y,n,c),w.target=g,w.relatedTarget=S,_=w),S=_,p&&y)t:{for(w=p,m=y,f=0,g=w;g;g=An(g))f++;for(g=0,_=m;_;_=An(_))g++;for(;0<f-g;)w=An(w),f--;for(;0<g-f;)m=An(m),g--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=An(w),m=An(m)}w=null}else w=null;p!==null&&ac(h,d,p,w,!1),y!==null&&S!==null&&ac(h,S,y,w,!0)}}e:{if(d=u?Xn(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=Pm;else if(Xu(d))if(Mh)x=Am;else{x=Nm;var E=Rm}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=jm);if(x&&(x=x(t,u))){Uh(h,x,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Ro(d,"number",d.value)}switch(E=u?Xn(u):window,t){case"focusin":(Xu(E)||E.contentEditable==="true")&&(Jn=E,Bo=u,Yr=null);break;case"focusout":Yr=Bo=Jn=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,rc(h,n,c);break;case"selectionchange":if(Dm)break;case"keydown":case"keyup":rc(h,n,c)}var b;if(Yl)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Gn?Dh(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Lh&&n.locale!=="ko"&&(Gn||O!=="onCompositionStart"?O==="onCompositionEnd"&&Gn&&(b=Ih()):(Vt=c,ql="value"in Vt?Vt.value:Vt.textContent,Gn=!0)),E=ji(u,O),0<E.length&&(O=new Yu(O,t,null,n,c),h.push({event:O,listeners:E}),b?O.data=b:(b=$h(n),b!==null&&(O.data=b)))),(b=xm?Em(t,n):Cm(t,n))&&(u=ji(u,"onBeforeInput"),0<u.length&&(c=new Yu("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=b))}Gh(h,e)})}function hs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ji(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=is(t,n),i!=null&&r.unshift(hs(t,i,s)),i=is(t,e),i!=null&&r.push(hs(t,i,s))),t=t.return}return r}function An(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ac(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=is(n,i),l!=null&&a.unshift(hs(n,l,o))):s||(l=is(n,i),l!=null&&a.push(hs(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Fm=/\r\n?/g,zm=/\u0000|\uFFFD/g;function oc(t){return(typeof t=="string"?t:""+t).replace(Fm,`
`).replace(zm,"")}function Qs(t,e,n){if(e=oc(e),oc(t)!==e&&n)throw Error(T(425))}function Ai(){}var Ho=null,qo=null;function Vo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,Bm=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,Wm=typeof queueMicrotask=="function"?queueMicrotask:typeof lc<"u"?function(t){return lc.resolve(null).then(t).catch(Hm)}:Ko;function Hm(t){setTimeout(function(){throw t})}function Ga(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ls(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ls(e)}function Qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var br=Math.random().toString(36).slice(2),pt="__reactFiber$"+br,fs="__reactProps$"+br,Rt="__reactContainer$"+br,Yo="__reactEvents$"+br,qm="__reactListeners$"+br,Vm="__reactHandles$"+br;function vn(t){var e=t[pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rt]||n[pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uc(t);t!==null;){if(n=t[pt])return n;t=uc(t)}return e}t=n,n=t.parentNode}return null}function js(t){return t=t[pt]||t[Rt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ha(t){return t[fs]||null}var Go=[],Zn=-1;function on(t){return{current:t}}function G(t){0>Zn||(t.current=Go[Zn],Go[Zn]=null,Zn--)}function K(t,e){Zn++,Go[Zn]=t.current,t.current=e}var rn={},ke=on(rn),Ae=on(!1),En=rn;function pr(t,e){var n=t.type.contextTypes;if(!n)return rn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function Ii(){G(Ae),G(ke)}function cc(t,e,n){if(ke.current!==rn)throw Error(T(168));K(ke,e),K(Ae,n)}function Qh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,Rg(t)||"Unknown",s));return ee({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rn,En=ke.current,K(ke,t),K(Ae,Ae.current),!0}function dc(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=Qh(t,e,En),r.__reactInternalMemoizedMergedChildContext=t,G(Ae),G(ke),K(ke,t)):G(Ae),K(Ae,n)}var Et=null,fa=!1,Ja=!1;function Xh(t){Et===null?Et=[t]:Et.push(t)}function Km(t){fa=!0,Xh(t)}function ln(){if(!Ja&&Et!==null){Ja=!0;var t=0,e=H;try{var n=Et;for(H=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Et=null,fa=!1}catch(s){throw Et!==null&&(Et=Et.slice(t+1)),bh(zl,ln),s}finally{H=e,Ja=!1}}return null}var er=[],tr=0,Di=null,$i=0,Ke=[],Ye=0,Cn=null,Ct=1,Tt="";function hn(t,e){er[tr++]=$i,er[tr++]=Di,Di=t,$i=e}function Zh(t,e,n){Ke[Ye++]=Ct,Ke[Ye++]=Tt,Ke[Ye++]=Cn,Cn=t;var r=Ct;t=Tt;var s=32-lt(r)-1;r&=~(1<<s),n+=1;var i=32-lt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ct=1<<32-lt(e)+s|n<<s|r,Tt=i+t}else Ct=1<<i|n<<s|r,Tt=t}function Jl(t){t.return!==null&&(hn(t,1),Zh(t,1,0))}function Ql(t){for(;t===Di;)Di=er[--tr],er[tr]=null,$i=er[--tr],er[tr]=null;for(;t===Cn;)Cn=Ke[--Ye],Ke[Ye]=null,Tt=Ke[--Ye],Ke[Ye]=null,Ct=Ke[--Ye],Ke[Ye]=null}var We=null,Be=null,J=!1,ot=null;function ef(t,e){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,We=t,Be=Qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,We=t,Be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cn!==null?{id:Ct,overflow:Tt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,We=t,Be=null,!0):!1;default:return!1}}function Jo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qo(t){if(J){var e=Be;if(e){var n=e;if(!hc(t,e)){if(Jo(t))throw Error(T(418));e=Qt(n.nextSibling);var r=We;e&&hc(t,e)?ef(r,n):(t.flags=t.flags&-4097|2,J=!1,We=t)}}else{if(Jo(t))throw Error(T(418));t.flags=t.flags&-4097|2,J=!1,We=t}}}function fc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;We=t}function Xs(t){if(t!==We)return!1;if(!J)return fc(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vo(t.type,t.memoizedProps)),e&&(e=Be)){if(Jo(t))throw tf(),Error(T(418));for(;e;)ef(t,e),e=Qt(e.nextSibling)}if(fc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Be=Qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Be=null}}else Be=We?Qt(t.stateNode.nextSibling):null;return!0}function tf(){for(var t=Be;t;)t=Qt(t.nextSibling)}function gr(){Be=We=null,J=!1}function Xl(t){ot===null?ot=[t]:ot.push(t)}var Ym=At.ReactCurrentBatchConfig;function jr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Zs(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pc(t){var e=t._init;return e(t._payload)}function nf(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=tn(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,f,g,_){return f===null||f.tag!==6?(f=ro(g,m.mode,_),f.return=m,f):(f=s(f,g),f.return=m,f)}function l(m,f,g,_){var x=g.type;return x===Yn?c(m,f,g.props.children,_,g.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ft&&pc(x)===f.type)?(_=s(f,g.props),_.ref=jr(m,f,g),_.return=m,_):(_=bi(g.type,g.key,g.props,null,m.mode,_),_.ref=jr(m,f,g),_.return=m,_)}function u(m,f,g,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=so(g,m.mode,_),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function c(m,f,g,_,x){return f===null||f.tag!==7?(f=bn(g,m.mode,_,x),f.return=m,f):(f=s(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ro(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Bs:return g=bi(f.type,f.key,f.props,null,m.mode,g),g.ref=jr(m,null,f),g.return=m,g;case Kn:return f=so(f,m.mode,g),f.return=m,f;case Ft:var _=f._init;return h(m,_(f._payload),g)}if(Fr(f)||Tr(f))return f=bn(f,m.mode,g,null),f.return=m,f;Zs(m,f)}return null}function d(m,f,g,_){var x=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:o(m,f,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bs:return g.key===x?l(m,f,g,_):null;case Kn:return g.key===x?u(m,f,g,_):null;case Ft:return x=g._init,d(m,f,x(g._payload),_)}if(Fr(g)||Tr(g))return x!==null?null:c(m,f,g,_,null);Zs(m,g)}return null}function p(m,f,g,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,o(f,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bs:return m=m.get(_.key===null?g:_.key)||null,l(f,m,_,x);case Kn:return m=m.get(_.key===null?g:_.key)||null,u(f,m,_,x);case Ft:var E=_._init;return p(m,f,g,E(_._payload),x)}if(Fr(_)||Tr(_))return m=m.get(g)||null,c(f,m,_,x,null);Zs(f,_)}return null}function y(m,f,g,_){for(var x=null,E=null,b=f,O=f=0,F=null;b!==null&&O<g.length;O++){b.index>O?(F=b,b=null):F=b.sibling;var M=d(m,b,g[O],_);if(M===null){b===null&&(b=F);break}t&&b&&M.alternate===null&&e(m,b),f=i(M,f,O),E===null?x=M:E.sibling=M,E=M,b=F}if(O===g.length)return n(m,b),J&&hn(m,O),x;if(b===null){for(;O<g.length;O++)b=h(m,g[O],_),b!==null&&(f=i(b,f,O),E===null?x=b:E.sibling=b,E=b);return J&&hn(m,O),x}for(b=r(m,b);O<g.length;O++)F=p(b,m,O,g[O],_),F!==null&&(t&&F.alternate!==null&&b.delete(F.key===null?O:F.key),f=i(F,f,O),E===null?x=F:E.sibling=F,E=F);return t&&b.forEach(function(Q){return e(m,Q)}),J&&hn(m,O),x}function w(m,f,g,_){var x=Tr(g);if(typeof x!="function")throw Error(T(150));if(g=x.call(g),g==null)throw Error(T(151));for(var E=x=null,b=f,O=f=0,F=null,M=g.next();b!==null&&!M.done;O++,M=g.next()){b.index>O?(F=b,b=null):F=b.sibling;var Q=d(m,b,M.value,_);if(Q===null){b===null&&(b=F);break}t&&b&&Q.alternate===null&&e(m,b),f=i(Q,f,O),E===null?x=Q:E.sibling=Q,E=Q,b=F}if(M.done)return n(m,b),J&&hn(m,O),x;if(b===null){for(;!M.done;O++,M=g.next())M=h(m,M.value,_),M!==null&&(f=i(M,f,O),E===null?x=M:E.sibling=M,E=M);return J&&hn(m,O),x}for(b=r(m,b);!M.done;O++,M=g.next())M=p(b,m,O,M.value,_),M!==null&&(t&&M.alternate!==null&&b.delete(M.key===null?O:M.key),f=i(M,f,O),E===null?x=M:E.sibling=M,E=M);return t&&b.forEach(function(De){return e(m,De)}),J&&hn(m,O),x}function S(m,f,g,_){if(typeof g=="object"&&g!==null&&g.type===Yn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Bs:e:{for(var x=g.key,E=f;E!==null;){if(E.key===x){if(x=g.type,x===Yn){if(E.tag===7){n(m,E.sibling),f=s(E,g.props.children),f.return=m,m=f;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ft&&pc(x)===E.type){n(m,E.sibling),f=s(E,g.props),f.ref=jr(m,E,g),f.return=m,m=f;break e}n(m,E);break}else e(m,E);E=E.sibling}g.type===Yn?(f=bn(g.props.children,m.mode,_,g.key),f.return=m,m=f):(_=bi(g.type,g.key,g.props,null,m.mode,_),_.ref=jr(m,f,g),_.return=m,m=_)}return a(m);case Kn:e:{for(E=g.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=so(g,m.mode,_),f.return=m,m=f}return a(m);case Ft:return E=g._init,S(m,f,E(g._payload),_)}if(Fr(g))return y(m,f,g,_);if(Tr(g))return w(m,f,g,_);Zs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,g),f.return=m,m=f):(n(m,f),f=ro(g,m.mode,_),f.return=m,m=f),a(m)):n(m,f)}return S}var mr=nf(!0),rf=nf(!1),Ui=on(null),Mi=null,nr=null,Zl=null;function eu(){Zl=nr=Mi=null}function tu(t){var e=Ui.current;G(Ui),t._currentValue=e}function Xo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cr(t,e){Mi=t,Zl=nr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function Qe(t){var e=t._currentValue;if(Zl!==t)if(t={context:t,memoizedValue:e,next:null},nr===null){if(Mi===null)throw Error(T(308));nr=t,Mi.dependencies={lanes:0,firstContext:t}}else nr=nr.next=t;return e}var wn=null;function nu(t){wn===null?wn=[t]:wn.push(t)}function sf(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,nu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Nt(t,r)}function Nt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zt=!1;function ru(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function af(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ot(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Nt(t,n)}return s=r.interleaved,s===null?(e.next=e,nu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Nt(t,n)}function yi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bl(t,n)}}function gc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fi(t,e,n,r){var s=t.updateQueue;zt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,c=u=l=null,o=i;do{var d=o.lane,p=o.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,w=o;switch(d=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,d=typeof y=="function"?y.call(p,h,d):y,d==null)break e;h=ee({},h,d);break e;case 2:zt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;d=o,o=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);On|=a,t.lanes=a,t.memoizedState=h}}function mc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var As={},vt=on(As),ps=on(As),gs=on(As);function _n(t){if(t===As)throw Error(T(174));return t}function su(t,e){switch(K(gs,e),K(ps,t),K(vt,As),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jo(e,t)}G(vt),K(vt,e)}function yr(){G(vt),G(ps),G(gs)}function of(t){_n(gs.current);var e=_n(vt.current),n=jo(e,t.type);e!==n&&(K(ps,t),K(vt,n))}function iu(t){ps.current===t&&(G(vt),G(ps))}var X=on(0);function zi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qa=[];function au(){for(var t=0;t<Qa.length;t++)Qa[t]._workInProgressVersionPrimary=null;Qa.length=0}var vi=At.ReactCurrentDispatcher,Xa=At.ReactCurrentBatchConfig,Tn=0,Z=null,ce=null,he=null,Bi=!1,Gr=!1,ms=0,Gm=0;function we(){throw Error(T(321))}function ou(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function lu(t,e,n,r,s,i){if(Tn=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vi.current=t===null||t.memoizedState===null?Zm:ey,t=n(r,s),Gr){i=0;do{if(Gr=!1,ms=0,25<=i)throw Error(T(301));i+=1,he=ce=null,e.updateQueue=null,vi.current=ty,t=n(r,s)}while(Gr)}if(vi.current=Wi,e=ce!==null&&ce.next!==null,Tn=0,he=ce=Z=null,Bi=!1,e)throw Error(T(300));return t}function uu(){var t=ms!==0;return ms=0,t}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Z.memoizedState=he=t:he=he.next=t,he}function Xe(){if(ce===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=he===null?Z.memoizedState:he.next;if(e!==null)he=e,ce=t;else{if(t===null)throw Error(T(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},he===null?Z.memoizedState=he=t:he=he.next=t}return he}function ys(t,e){return typeof e=="function"?e(t):e}function Za(t){var e=Xe(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Tn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,Z.lanes|=c,On|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,ct(r,e.memoizedState)||(je=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,On|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eo(t){var e=Xe(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ct(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lf(){}function uf(t,e){var n=Z,r=Xe(),s=e(),i=!ct(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,cu(hf.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,vs(9,df.bind(null,n,r,s,e),void 0,null),fe===null)throw Error(T(349));Tn&30||cf(n,e,s)}return s}function cf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function df(t,e,n,r){e.value=n,e.getSnapshot=r,ff(e)&&pf(t)}function hf(t,e,n){return n(function(){ff(e)&&pf(t)})}function ff(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function pf(t){var e=Nt(t,1);e!==null&&ut(e,t,1,-1)}function yc(t){var e=ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:t},e.queue=t,t=t.dispatch=Xm.bind(null,Z,t),[e.memoizedState,t]}function vs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gf(){return Xe().memoizedState}function wi(t,e,n,r){var s=ft();Z.flags|=t,s.memoizedState=vs(1|e,n,void 0,r===void 0?null:r)}function pa(t,e,n,r){var s=Xe();r=r===void 0?null:r;var i=void 0;if(ce!==null){var a=ce.memoizedState;if(i=a.destroy,r!==null&&ou(r,a.deps)){s.memoizedState=vs(e,n,i,r);return}}Z.flags|=t,s.memoizedState=vs(1|e,n,i,r)}function vc(t,e){return wi(8390656,8,t,e)}function cu(t,e){return pa(2048,8,t,e)}function mf(t,e){return pa(4,2,t,e)}function yf(t,e){return pa(4,4,t,e)}function vf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wf(t,e,n){return n=n!=null?n.concat([t]):null,pa(4,4,vf.bind(null,e,t),n)}function du(){}function _f(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ou(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sf(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ou(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kf(t,e,n){return Tn&21?(ct(n,e)||(n=Ch(),Z.lanes|=n,On|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=n)}function Jm(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var r=Xa.transition;Xa.transition={};try{t(!1),e()}finally{H=n,Xa.transition=r}}function bf(){return Xe().memoizedState}function Qm(t,e,n){var r=en(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xf(t))Ef(e,n);else if(n=sf(t,e,n,r),n!==null){var s=Te();ut(n,t,r,s),Cf(n,e,r)}}function Xm(t,e,n){var r=en(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xf(t))Ef(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,ct(o,a)){var l=e.interleaved;l===null?(s.next=s,nu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=sf(t,e,s,r),n!==null&&(s=Te(),ut(n,t,r,s),Cf(n,e,r))}}function xf(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Ef(t,e){Gr=Bi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bl(t,n)}}var Wi={readContext:Qe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Zm={readContext:Qe,useCallback:function(t,e){return ft().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:vc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wi(4194308,4,vf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wi(4194308,4,t,e)},useInsertionEffect:function(t,e){return wi(4,2,t,e)},useMemo:function(t,e){var n=ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ft();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Qm.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=ft();return t={current:t},e.memoizedState=t},useState:yc,useDebugValue:du,useDeferredValue:function(t){return ft().memoizedState=t},useTransition:function(){var t=yc(!1),e=t[0];return t=Jm.bind(null,t[1]),ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,s=ft();if(J){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),fe===null)throw Error(T(349));Tn&30||cf(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,vc(hf.bind(null,r,i,t),[t]),r.flags|=2048,vs(9,df.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ft(),e=fe.identifierPrefix;if(J){var n=Tt,r=Ct;n=(r&~(1<<32-lt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ms++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Gm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ey={readContext:Qe,useCallback:_f,useContext:Qe,useEffect:cu,useImperativeHandle:wf,useInsertionEffect:mf,useLayoutEffect:yf,useMemo:Sf,useReducer:Za,useRef:gf,useState:function(){return Za(ys)},useDebugValue:du,useDeferredValue:function(t){var e=Xe();return kf(e,ce.memoizedState,t)},useTransition:function(){var t=Za(ys)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:lf,useSyncExternalStore:uf,useId:bf,unstable_isNewReconciler:!1},ty={readContext:Qe,useCallback:_f,useContext:Qe,useEffect:cu,useImperativeHandle:wf,useInsertionEffect:mf,useLayoutEffect:yf,useMemo:Sf,useReducer:eo,useRef:gf,useState:function(){return eo(ys)},useDebugValue:du,useDeferredValue:function(t){var e=Xe();return ce===null?e.memoizedState=t:kf(e,ce.memoizedState,t)},useTransition:function(){var t=eo(ys)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:lf,useSyncExternalStore:uf,useId:bf,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ga={isMounted:function(t){return(t=t._reactInternals)?Nn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Te(),s=en(t),i=Ot(r,s);i.payload=e,n!=null&&(i.callback=n),e=Xt(t,i,s),e!==null&&(ut(e,t,s,r),yi(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Te(),s=en(t),i=Ot(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Xt(t,i,s),e!==null&&(ut(e,t,s,r),yi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Te(),r=en(t),s=Ot(n,r);s.tag=2,e!=null&&(s.callback=e),e=Xt(t,s,r),e!==null&&(ut(e,t,r,n),yi(e,t,r))}};function wc(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!cs(n,r)||!cs(s,i):!0}function Tf(t,e,n){var r=!1,s=rn,i=e.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(s=Ie(e)?En:ke.current,r=e.contextTypes,i=(r=r!=null)?pr(t,s):rn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ga,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function _c(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ga.enqueueReplaceState(e,e.state,null)}function el(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ru(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qe(i):(i=Ie(e)?En:ke.current,s.context=pr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ga.enqueueReplaceState(s,s.state,null),Fi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vr(t,e){try{var n="",r=e;do n+=Pg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function to(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ny=typeof WeakMap=="function"?WeakMap:Map;function Of(t,e,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qi||(qi=!0,dl=r),tl(t,e)},n}function Pf(t,e,n){n=Ot(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){tl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tl(t,e),typeof r!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Sc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ny;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=my.bind(null,t,e,n),e.then(t,t))}function kc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ot(-1,1),e.tag=2,Xt(n,e,1))),n.lanes|=1),t)}var ry=At.ReactCurrentOwner,je=!1;function Ee(t,e,n,r){e.child=t===null?rf(e,null,n,r):mr(e,t.child,n,r)}function xc(t,e,n,r,s){n=n.render;var i=e.ref;return cr(e,s),r=lu(t,e,n,r,i,s),n=uu(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(J&&n&&Jl(e),e.flags|=1,Ee(t,e,r,s),e.child)}function Ec(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!wu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Rf(t,e,i,r,s)):(t=bi(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:cs,n(a,r)&&t.ref===e.ref)return jt(t,e,s)}return e.flags|=1,t=tn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Rf(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(cs(i,r)&&t.ref===e.ref)if(je=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,jt(t,e,s)}return nl(t,e,n,r,s)}function Nf(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(sr,Fe),Fe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(sr,Fe),Fe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(sr,Fe),Fe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(sr,Fe),Fe|=r;return Ee(t,e,s,n),e.child}function jf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nl(t,e,n,r,s){var i=Ie(n)?En:ke.current;return i=pr(e,i),cr(e,s),n=lu(t,e,n,r,i,s),r=uu(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(J&&r&&Jl(e),e.flags|=1,Ee(t,e,n,s),e.child)}function Cc(t,e,n,r,s){if(Ie(n)){var i=!0;Li(e)}else i=!1;if(cr(e,s),e.stateNode===null)_i(t,e),Tf(e,n,r),el(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=Ie(n)?En:ke.current,u=pr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&_c(e,a,r,u),zt=!1;var d=e.memoizedState;a.state=d,Fi(e,r,a,s),l=e.memoizedState,o!==r||d!==l||Ae.current||zt?(typeof c=="function"&&(Zo(e,n,c,r),l=e.memoizedState),(o=zt||wc(e,n,o,r,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,af(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:rt(e.type,o),a.props=u,h=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qe(l):(l=Ie(n)?En:ke.current,l=pr(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&_c(e,a,r,l),zt=!1,d=e.memoizedState,a.state=d,Fi(e,r,a,s);var y=e.memoizedState;o!==h||d!==y||Ae.current||zt?(typeof p=="function"&&(Zo(e,n,p,r),y=e.memoizedState),(u=zt||wc(e,n,u,r,d,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return rl(t,e,n,r,i,s)}function rl(t,e,n,r,s,i){jf(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&dc(e,n,!1),jt(t,e,i);r=e.stateNode,ry.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=mr(e,t.child,null,i),e.child=mr(e,null,o,i)):Ee(t,e,o,i),e.memoizedState=r.state,s&&dc(e,n,!0),e.child}function Af(t){var e=t.stateNode;e.pendingContext?cc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cc(t,e.context,!1),su(t,e.containerInfo)}function Tc(t,e,n,r,s){return gr(),Xl(s),e.flags|=256,Ee(t,e,n,r),e.child}var sl={dehydrated:null,treeContext:null,retryLane:0};function il(t){return{baseLanes:t,cachePool:null,transitions:null}}function If(t,e,n){var r=e.pendingProps,s=X.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(X,s&1),t===null)return Qo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=va(a,r,0,null),t=bn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=il(n),e.memoizedState=sl,t):hu(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return sy(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=tn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=tn(o,i):(i=bn(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?il(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=sl,r}return i=t.child,t=i.sibling,r=tn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hu(t,e){return e=va({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ei(t,e,n,r){return r!==null&&Xl(r),mr(e,t.child,null,n),t=hu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sy(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=to(Error(T(422))),ei(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=va({mode:"visible",children:r.children},s,0,null),i=bn(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&mr(e,t.child,null,a),e.child.memoizedState=il(a),e.memoizedState=sl,i);if(!(e.mode&1))return ei(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(T(419)),r=to(i,r,void 0),ei(t,e,a,r)}if(o=(a&t.childLanes)!==0,je||o){if(r=fe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(t,s),ut(r,t,s,-1))}return vu(),r=to(Error(T(421))),ei(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yy.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Be=Qt(s.nextSibling),We=e,J=!0,ot=null,t!==null&&(Ke[Ye++]=Ct,Ke[Ye++]=Tt,Ke[Ye++]=Cn,Ct=t.id,Tt=t.overflow,Cn=e),e=hu(e,r.children),e.flags|=4096,e)}function Oc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xo(t.return,e,n)}function no(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Lf(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ee(t,e,r.children,n),r=X.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oc(t,n,e);else if(t.tag===19)Oc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(X,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),no(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}no(e,!0,n,null,i);break;case"together":no(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _i(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),On|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=tn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iy(t,e,n){switch(e.tag){case 3:Af(e),gr();break;case 5:of(e);break;case 1:Ie(e.type)&&Li(e);break;case 4:su(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(Ui,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(X,X.current&1),e.flags|=128,null):n&e.child.childLanes?If(t,e,n):(K(X,X.current&1),t=jt(t,e,n),t!==null?t.sibling:null);K(X,X.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Lf(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(X,X.current),r)break;return null;case 22:case 23:return e.lanes=0,Nf(t,e,n)}return jt(t,e,n)}var Df,al,$f,Uf;Df=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};al=function(){};$f=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_n(vt.current);var i=null;switch(n){case"input":s=Oo(t,s),r=Oo(t,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=No(t,s),r=No(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ai)}Ao(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Y("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Uf=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ar(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ay(t,e,n){var r=e.pendingProps;switch(Ql(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return Ie(e.type)&&Ii(),_e(e),null;case 3:return r=e.stateNode,yr(),G(Ae),G(ke),au(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ot!==null&&(pl(ot),ot=null))),al(t,e),_e(e),null;case 5:iu(e);var s=_n(gs.current);if(n=e.type,t!==null&&e.stateNode!=null)$f(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return _e(e),null}if(t=_n(vt.current),Xs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pt]=e,r[fs]=i,t=(e.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(s=0;s<Br.length;s++)Y(Br[s],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":$u(r,i),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Y("invalid",r);break;case"textarea":Mu(r,i),Y("invalid",r)}Ao(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Qs(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Qs(r.textContent,o,t),s=["children",""+o]):rs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Y("scroll",r)}switch(n){case"input":Ws(r),Uu(r,i,!0);break;case"textarea":Ws(r),Fu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ai)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[pt]=e,t[fs]=r,Df(t,e,!1,!1),e.stateNode=t;e:{switch(a=Io(n,r),n){case"dialog":Y("cancel",t),Y("close",t),s=r;break;case"iframe":case"object":case"embed":Y("load",t),s=r;break;case"video":case"audio":for(s=0;s<Br.length;s++)Y(Br[s],t);s=r;break;case"source":Y("error",t),s=r;break;case"img":case"image":case"link":Y("error",t),Y("load",t),s=r;break;case"details":Y("toggle",t),s=r;break;case"input":$u(t,r),s=Oo(t,r),Y("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),Y("invalid",t);break;case"textarea":Mu(t,r),s=No(t,r),Y("invalid",t);break;default:s=r}Ao(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?ph(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hh(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ss(t,l):typeof l=="number"&&ss(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Y("scroll",t):l!=null&&Dl(t,i,l,a))}switch(n){case"input":Ws(t),Uu(t,r,!1);break;case"textarea":Ws(t),Fu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ar(t,!!r.multiple,i,!1):r.defaultValue!=null&&ar(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ai)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)Uf(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=_n(gs.current),_n(vt.current),Xs(e)){if(r=e.stateNode,n=e.memoizedProps,r[pt]=e,(i=r.nodeValue!==n)&&(t=We,t!==null))switch(t.tag){case 3:Qs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pt]=e,e.stateNode=r}return _e(e),null;case 13:if(G(X),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Be!==null&&e.mode&1&&!(e.flags&128))tf(),gr(),e.flags|=98560,i=!1;else if(i=Xs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[pt]=e}else gr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),i=!1}else ot!==null&&(pl(ot),ot=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?de===0&&(de=3):vu())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return yr(),al(t,e),t===null&&ds(e.stateNode.containerInfo),_e(e),null;case 10:return tu(e.type._context),_e(e),null;case 17:return Ie(e.type)&&Ii(),_e(e),null;case 19:if(G(X),i=e.memoizedState,i===null)return _e(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ar(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zi(t),a!==null){for(e.flags|=128,Ar(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&se()>wr&&(e.flags|=128,r=!0,Ar(i,!1),e.lanes=4194304)}else{if(!r)if(t=zi(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ar(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!J)return _e(e),null}else 2*se()-i.renderingStartTime>wr&&n!==1073741824&&(e.flags|=128,r=!0,Ar(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=se(),e.sibling=null,n=X.current,K(X,r?n&1|2:n&1),e):(_e(e),null);case 22:case 23:return yu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fe&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function oy(t,e){switch(Ql(e),e.tag){case 1:return Ie(e.type)&&Ii(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yr(),G(Ae),G(ke),au(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iu(e),null;case 13:if(G(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));gr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(X),null;case 4:return yr(),null;case 10:return tu(e.type._context),null;case 22:case 23:return yu(),null;case 24:return null;default:return null}}var ti=!1,Se=!1,ly=typeof WeakSet=="function"?WeakSet:Set,N=null;function rr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(t,e,r)}else n.current=null}function ol(t,e,n){try{n()}catch(r){re(t,e,r)}}var Pc=!1;function uy(t,e){if(Ho=Ri,t=Bh(),Gl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===s&&(o=a),d===i&&++c===r&&(l=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:t,selectionRange:n},Ri=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:rt(e.type,w),S);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return y=Pc,Pc=!1,y}function Jr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ol(e,n,i)}s=s.next}while(s!==r)}}function ma(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ll(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mf(t){var e=t.alternate;e!==null&&(t.alternate=null,Mf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pt],delete e[fs],delete e[Yo],delete e[qm],delete e[Vm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ff(t){return t.tag===5||t.tag===3||t.tag===4}function Rc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ff(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ul(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ai));else if(r!==4&&(t=t.child,t!==null))for(ul(t,e,n),t=t.sibling;t!==null;)ul(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cl(t,e,n),t=t.sibling;t!==null;)cl(t,e,n),t=t.sibling}var me=null,it=!1;function $t(t,e,n){for(n=n.child;n!==null;)zf(t,e,n),n=n.sibling}function zf(t,e,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(la,n)}catch{}switch(n.tag){case 5:Se||rr(n,e);case 6:var r=me,s=it;me=null,$t(t,e,n),me=r,it=s,me!==null&&(it?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(it?(t=me,n=n.stateNode,t.nodeType===8?Ga(t.parentNode,n):t.nodeType===1&&Ga(t,n),ls(t)):Ga(me,n.stateNode));break;case 4:r=me,s=it,me=n.stateNode.containerInfo,it=!0,$t(t,e,n),me=r,it=s;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ol(n,e,a),s=s.next}while(s!==r)}$t(t,e,n);break;case 1:if(!Se&&(rr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){re(n,e,o)}$t(t,e,n);break;case 21:$t(t,e,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,$t(t,e,n),Se=r):$t(t,e,n);break;default:$t(t,e,n)}}function Nc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ly),e.forEach(function(r){var s=vy.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:me=o.stateNode,it=!1;break e;case 3:me=o.stateNode.containerInfo,it=!0;break e;case 4:me=o.stateNode.containerInfo,it=!0;break e}o=o.return}if(me===null)throw Error(T(160));zf(i,a,s),me=null,it=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){re(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bf(e,t),e=e.sibling}function Bf(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tt(e,t),ht(t),r&4){try{Jr(3,t,t.return),ma(3,t)}catch(w){re(t,t.return,w)}try{Jr(5,t,t.return)}catch(w){re(t,t.return,w)}}break;case 1:tt(e,t),ht(t),r&512&&n!==null&&rr(n,n.return);break;case 5:if(tt(e,t),ht(t),r&512&&n!==null&&rr(n,n.return),t.flags&32){var s=t.stateNode;try{ss(s,"")}catch(w){re(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&uh(s,i),Io(o,a);var u=Io(o,i);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?ph(s,h):c==="dangerouslySetInnerHTML"?hh(s,h):c==="children"?ss(s,h):Dl(s,c,h,u)}switch(o){case"input":Po(s,i);break;case"textarea":ch(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ar(s,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?ar(s,!!i.multiple,i.defaultValue,!0):ar(s,!!i.multiple,i.multiple?[]:"",!1))}s[fs]=i}catch(w){re(t,t.return,w)}}break;case 6:if(tt(e,t),ht(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){re(t,t.return,w)}}break;case 3:if(tt(e,t),ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(e.containerInfo)}catch(w){re(t,t.return,w)}break;case 4:tt(e,t),ht(t);break;case 13:tt(e,t),ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gu=se())),r&4&&Nc(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Se=(u=Se)||c,tt(e,t),Se=u):tt(e,t),ht(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(N=t,c=t.child;c!==null;){for(h=N=c;N!==null;){switch(d=N,p=d.child,d.tag){case 0:case 11:case 14:case 15:Jr(4,d,d.return);break;case 1:rr(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){re(r,n,w)}}break;case 5:rr(d,d.return);break;case 22:if(d.memoizedState!==null){Ac(h);continue}}p!==null?(p.return=d,N=p):Ac(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=fh("display",a))}catch(w){re(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){re(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tt(e,t),ht(t),r&4&&Nc(t);break;case 21:break;default:tt(e,t),ht(t)}}function ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ff(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ss(s,""),r.flags&=-33);var i=Rc(t);cl(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Rc(t);ul(t,o,a);break;default:throw Error(T(161))}}catch(l){re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cy(t,e,n){N=t,Wf(t)}function Wf(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ti;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Se;o=ti;var u=Se;if(ti=a,(Se=l)&&!u)for(N=s;N!==null;)a=N,l=a.child,a.tag===22&&a.memoizedState!==null?Ic(s):l!==null?(l.return=a,N=l):Ic(s);for(;i!==null;)N=i,Wf(i),i=i.sibling;N=s,ti=o,Se=u}jc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):jc(t)}}function jc(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||ma(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Se)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mc(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mc(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ls(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Se||e.flags&512&&ll(e)}catch(d){re(e,e.return,d)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function Ac(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function Ic(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ma(4,e)}catch(l){re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){re(e,s,l)}}var i=e.return;try{ll(e)}catch(l){re(e,i,l)}break;case 5:var a=e.return;try{ll(e)}catch(l){re(e,a,l)}}}catch(l){re(e,e.return,l)}if(e===t){N=null;break}var o=e.sibling;if(o!==null){o.return=e.return,N=o;break}N=e.return}}var dy=Math.ceil,Hi=At.ReactCurrentDispatcher,fu=At.ReactCurrentOwner,Je=At.ReactCurrentBatchConfig,B=0,fe=null,oe=null,ye=0,Fe=0,sr=on(0),de=0,ws=null,On=0,ya=0,pu=0,Qr=null,Ne=null,gu=0,wr=1/0,bt=null,qi=!1,dl=null,Zt=null,ni=!1,Kt=null,Vi=0,Xr=0,hl=null,Si=-1,ki=0;function Te(){return B&6?se():Si!==-1?Si:Si=se()}function en(t){return t.mode&1?B&2&&ye!==0?ye&-ye:Ym.transition!==null?(ki===0&&(ki=Ch()),ki):(t=H,t!==0||(t=window.event,t=t===void 0?16:Ah(t.type)),t):1}function ut(t,e,n,r){if(50<Xr)throw Xr=0,hl=null,Error(T(185));Rs(t,n,r),(!(B&2)||t!==fe)&&(t===fe&&(!(B&2)&&(ya|=n),de===4&&Ht(t,ye)),Le(t,r),n===1&&B===0&&!(e.mode&1)&&(wr=se()+500,fa&&ln()))}function Le(t,e){var n=t.callbackNode;Yg(t,e);var r=Pi(t,t===fe?ye:0);if(r===0)n!==null&&Wu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wu(n),e===1)t.tag===0?Km(Lc.bind(null,t)):Xh(Lc.bind(null,t)),Wm(function(){!(B&6)&&ln()}),n=null;else{switch(Th(r)){case 1:n=zl;break;case 4:n=xh;break;case 16:n=Oi;break;case 536870912:n=Eh;break;default:n=Oi}n=Qf(n,Hf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hf(t,e){if(Si=-1,ki=0,B&6)throw Error(T(327));var n=t.callbackNode;if(dr()&&t.callbackNode!==n)return null;var r=Pi(t,t===fe?ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ki(t,r);else{e=r;var s=B;B|=2;var i=Vf();(fe!==t||ye!==e)&&(bt=null,wr=se()+500,kn(t,e));do try{py();break}catch(o){qf(t,o)}while(!0);eu(),Hi.current=i,B=s,oe!==null?e=0:(fe=null,ye=0,e=de)}if(e!==0){if(e===2&&(s=Mo(t),s!==0&&(r=s,e=fl(t,s))),e===1)throw n=ws,kn(t,0),Ht(t,r),Le(t,se()),n;if(e===6)Ht(t,r);else{if(s=t.current.alternate,!(r&30)&&!hy(s)&&(e=Ki(t,r),e===2&&(i=Mo(t),i!==0&&(r=i,e=fl(t,i))),e===1))throw n=ws,kn(t,0),Ht(t,r),Le(t,se()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:fn(t,Ne,bt);break;case 3:if(Ht(t,r),(r&130023424)===r&&(e=gu+500-se(),10<e)){if(Pi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Te(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ko(fn.bind(null,t,Ne,bt),e);break}fn(t,Ne,bt);break;case 4:if(Ht(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-lt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dy(r/1960))-r,10<r){t.timeoutHandle=Ko(fn.bind(null,t,Ne,bt),r);break}fn(t,Ne,bt);break;case 5:fn(t,Ne,bt);break;default:throw Error(T(329))}}}return Le(t,se()),t.callbackNode===n?Hf.bind(null,t):null}function fl(t,e){var n=Qr;return t.current.memoizedState.isDehydrated&&(kn(t,e).flags|=256),t=Ki(t,e),t!==2&&(e=Ne,Ne=n,e!==null&&pl(e)),t}function pl(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function hy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ht(t,e){for(e&=~pu,e&=~ya,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lt(e),r=1<<n;t[n]=-1,e&=~r}}function Lc(t){if(B&6)throw Error(T(327));dr();var e=Pi(t,0);if(!(e&1))return Le(t,se()),null;var n=Ki(t,e);if(t.tag!==0&&n===2){var r=Mo(t);r!==0&&(e=r,n=fl(t,r))}if(n===1)throw n=ws,kn(t,0),Ht(t,e),Le(t,se()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fn(t,Ne,bt),Le(t,se()),null}function mu(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(wr=se()+500,fa&&ln())}}function Pn(t){Kt!==null&&Kt.tag===0&&!(B&6)&&dr();var e=B;B|=1;var n=Je.transition,r=H;try{if(Je.transition=null,H=1,t)return t()}finally{H=r,Je.transition=n,B=e,!(B&6)&&ln()}}function yu(){Fe=sr.current,G(sr)}function kn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Bm(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Ql(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ii();break;case 3:yr(),G(Ae),G(ke),au();break;case 5:iu(r);break;case 4:yr();break;case 13:G(X);break;case 19:G(X);break;case 10:tu(r.type._context);break;case 22:case 23:yu()}n=n.return}if(fe=t,oe=t=tn(t.current,null),ye=Fe=e,de=0,ws=null,pu=ya=On=0,Ne=Qr=null,wn!==null){for(e=0;e<wn.length;e++)if(n=wn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}wn=null}return t}function qf(t,e){do{var n=oe;try{if(eu(),vi.current=Wi,Bi){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bi=!1}if(Tn=0,he=ce=Z=null,Gr=!1,ms=0,fu.current=null,n===null||n.return===null){de=1,ws=e,oe=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=ye,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=kc(a);if(p!==null){p.flags&=-257,bc(p,a,o,i,e),p.mode&1&&Sc(i,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Sc(i,u,e),vu();break e}l=Error(T(426))}}else if(J&&o.mode&1){var S=kc(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),bc(S,a,o,i,e),Xl(vr(l,o));break e}}i=l=vr(l,o),de!==4&&(de=2),Qr===null?Qr=[i]:Qr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Of(i,l,e);gc(i,m);break e;case 1:o=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zt===null||!Zt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Pf(i,o,e);gc(i,_);break e}}i=i.return}while(i!==null)}Yf(n)}catch(x){e=x,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Vf(){var t=Hi.current;return Hi.current=Wi,t===null?Wi:t}function vu(){(de===0||de===3||de===2)&&(de=4),fe===null||!(On&268435455)&&!(ya&268435455)||Ht(fe,ye)}function Ki(t,e){var n=B;B|=2;var r=Vf();(fe!==t||ye!==e)&&(bt=null,kn(t,e));do try{fy();break}catch(s){qf(t,s)}while(!0);if(eu(),B=n,Hi.current=r,oe!==null)throw Error(T(261));return fe=null,ye=0,de}function fy(){for(;oe!==null;)Kf(oe)}function py(){for(;oe!==null&&!Mg();)Kf(oe)}function Kf(t){var e=Jf(t.alternate,t,Fe);t.memoizedProps=t.pendingProps,e===null?Yf(t):oe=e,fu.current=null}function Yf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oy(n,e),n!==null){n.flags&=32767,oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,oe=null;return}}else if(n=ay(n,e,Fe),n!==null){oe=n;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);de===0&&(de=5)}function fn(t,e,n){var r=H,s=Je.transition;try{Je.transition=null,H=1,gy(t,e,n,r)}finally{Je.transition=s,H=r}return null}function gy(t,e,n,r){do dr();while(Kt!==null);if(B&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gg(t,i),t===fe&&(oe=fe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ni||(ni=!0,Qf(Oi,function(){return dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var a=H;H=1;var o=B;B|=4,fu.current=null,uy(t,n),Bf(n,t),Lm(qo),Ri=!!Ho,qo=Ho=null,t.current=n,cy(n),Fg(),B=o,H=a,Je.transition=i}else t.current=n;if(ni&&(ni=!1,Kt=t,Vi=s),i=t.pendingLanes,i===0&&(Zt=null),Wg(n.stateNode),Le(t,se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qi)throw qi=!1,t=dl,dl=null,t;return Vi&1&&t.tag!==0&&dr(),i=t.pendingLanes,i&1?t===hl?Xr++:(Xr=0,hl=t):Xr=0,ln(),null}function dr(){if(Kt!==null){var t=Th(Vi),e=Je.transition,n=H;try{if(Je.transition=null,H=16>t?16:t,Kt===null)var r=!1;else{if(t=Kt,Kt=null,Vi=0,B&6)throw Error(T(331));var s=B;for(B|=4,N=t.current;N!==null;){var i=N,a=i.child;if(N.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:Jr(8,c,i)}var h=c.child;if(h!==null)h.return=c,N=h;else for(;N!==null;){c=N;var d=c.sibling,p=c.return;if(Mf(c),c===u){N=null;break}if(d!==null){d.return=p,N=d;break}N=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}N=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,N=a;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,N=m;break e}N=i.return}}var f=t.current;for(N=f;N!==null;){a=N;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,N=g;else e:for(a=f;N!==null;){if(o=N,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ma(9,o)}}catch(x){re(o,o.return,x)}if(o===a){N=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,N=_;break e}N=o.return}}if(B=s,ln(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(la,t)}catch{}r=!0}return r}finally{H=n,Je.transition=e}}return!1}function Dc(t,e,n){e=vr(n,e),e=Of(t,e,1),t=Xt(t,e,1),e=Te(),t!==null&&(Rs(t,1,e),Le(t,e))}function re(t,e,n){if(t.tag===3)Dc(t,t,n);else for(;e!==null;){if(e.tag===3){Dc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zt===null||!Zt.has(r))){t=vr(n,t),t=Pf(e,t,1),e=Xt(e,t,1),t=Te(),e!==null&&(Rs(e,1,t),Le(e,t));break}}e=e.return}}function my(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Te(),t.pingedLanes|=t.suspendedLanes&n,fe===t&&(ye&n)===n&&(de===4||de===3&&(ye&130023424)===ye&&500>se()-gu?kn(t,0):pu|=n),Le(t,e)}function Gf(t,e){e===0&&(t.mode&1?(e=Vs,Vs<<=1,!(Vs&130023424)&&(Vs=4194304)):e=1);var n=Te();t=Nt(t,e),t!==null&&(Rs(t,e,n),Le(t,n))}function yy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gf(t,n)}function vy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),Gf(t,n)}var Jf;Jf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return je=!1,iy(t,e,n);je=!!(t.flags&131072)}else je=!1,J&&e.flags&1048576&&Zh(e,$i,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_i(t,e),t=e.pendingProps;var s=pr(e,ke.current);cr(e,n),s=lu(null,e,r,t,s,n);var i=uu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(r)?(i=!0,Li(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ru(e),s.updater=ga,e.stateNode=s,s._reactInternals=e,el(e,r,t,n),e=rl(null,e,r,!0,i,n)):(e.tag=0,J&&i&&Jl(e),Ee(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_i(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=_y(r),t=rt(r,t),s){case 0:e=nl(null,e,r,t,n);break e;case 1:e=Cc(null,e,r,t,n);break e;case 11:e=xc(null,e,r,t,n);break e;case 14:e=Ec(null,e,r,rt(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),nl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),Cc(t,e,r,s,n);case 3:e:{if(Af(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,af(t,e),Fi(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=vr(Error(T(423)),e),e=Tc(t,e,r,n,s);break e}else if(r!==s){s=vr(Error(T(424)),e),e=Tc(t,e,r,n,s);break e}else for(Be=Qt(e.stateNode.containerInfo.firstChild),We=e,J=!0,ot=null,n=rf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),r===s){e=jt(t,e,n);break e}Ee(t,e,r,n)}e=e.child}return e;case 5:return of(e),t===null&&Qo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Vo(r,s)?a=null:i!==null&&Vo(r,i)&&(e.flags|=32),jf(t,e),Ee(t,e,a,n),e.child;case 6:return t===null&&Qo(e),null;case 13:return If(t,e,n);case 4:return su(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mr(e,null,r,n):Ee(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),xc(t,e,r,s,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,K(Ui,r._currentValue),r._currentValue=a,i!==null)if(ct(i.value,a)){if(i.children===s.children&&!Ae.current){e=jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ot(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Xo(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Xo(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ee(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,cr(e,n),s=Qe(s),r=r(s),e.flags|=1,Ee(t,e,r,n),e.child;case 14:return r=e.type,s=rt(r,e.pendingProps),s=rt(r.type,s),Ec(t,e,r,s,n);case 15:return Rf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),_i(t,e),e.tag=1,Ie(r)?(t=!0,Li(e)):t=!1,cr(e,n),Tf(e,r,s),el(e,r,s,n),rl(null,e,r,!0,t,n);case 19:return Lf(t,e,n);case 22:return Nf(t,e,n)}throw Error(T(156,e.tag))};function Qf(t,e){return bh(t,e)}function wy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,r){return new wy(t,e,n,r)}function wu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _y(t){if(typeof t=="function")return wu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ul)return 11;if(t===Ml)return 14}return 2}function tn(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bi(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")wu(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Yn:return bn(n.children,s,i,e);case $l:a=8,s|=8;break;case xo:return t=Ge(12,n,e,s|2),t.elementType=xo,t.lanes=i,t;case Eo:return t=Ge(13,n,e,s),t.elementType=Eo,t.lanes=i,t;case Co:return t=Ge(19,n,e,s),t.elementType=Co,t.lanes=i,t;case ah:return va(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sh:a=10;break e;case ih:a=9;break e;case Ul:a=11;break e;case Ml:a=14;break e;case Ft:a=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=Ge(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function bn(t,e,n,r){return t=Ge(7,t,r,e),t.lanes=n,t}function va(t,e,n,r){return t=Ge(22,t,r,e),t.elementType=ah,t.lanes=n,t.stateNode={isHidden:!1},t}function ro(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function so(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sy(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _u(t,e,n,r,s,i,a,o,l){return t=new Sy(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ge(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(i),t}function ky(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xf(t){if(!t)return rn;t=t._reactInternals;e:{if(Nn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(Ie(n))return Qh(t,n,e)}return e}function Zf(t,e,n,r,s,i,a,o,l){return t=_u(n,r,!0,t,s,i,a,o,l),t.context=Xf(null),n=t.current,r=Te(),s=en(n),i=Ot(r,s),i.callback=e??null,Xt(n,i,s),t.current.lanes=s,Rs(t,s,r),Le(t,r),t}function wa(t,e,n,r){var s=e.current,i=Te(),a=en(s);return n=Xf(n),e.context===null?e.context=n:e.pendingContext=n,e=Ot(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xt(s,e,a),t!==null&&(ut(t,s,a,i),yi(t,s,a)),a}function Yi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $c(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Su(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}function by(){return null}var ep=typeof reportError=="function"?reportError:function(t){console.error(t)};function ku(t){this._internalRoot=t}_a.prototype.render=ku.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));wa(t,e,null,null)};_a.prototype.unmount=ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pn(function(){wa(null,t,null,null)}),e[Rt]=null}};function _a(t){this._internalRoot=t}_a.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wt.length&&e!==0&&e<Wt[n].priority;n++);Wt.splice(n,0,t),n===0&&jh(t)}};function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uc(){}function xy(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Yi(a);i.call(u)}}var a=Zf(e,r,t,0,null,!1,!1,"",Uc);return t._reactRootContainer=a,t[Rt]=a.current,ds(t.nodeType===8?t.parentNode:t),Pn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Yi(l);o.call(u)}}var l=_u(t,0,!1,null,null,!1,!1,"",Uc);return t._reactRootContainer=l,t[Rt]=l.current,ds(t.nodeType===8?t.parentNode:t),Pn(function(){wa(e,l,n,r)}),l}function ka(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Yi(a);o.call(l)}}wa(e,a,t,s)}else a=xy(n,e,t,s,r);return Yi(a)}Oh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zr(e.pendingLanes);n!==0&&(Bl(e,n|1),Le(e,se()),!(B&6)&&(wr=se()+500,ln()))}break;case 13:Pn(function(){var r=Nt(t,1);if(r!==null){var s=Te();ut(r,t,1,s)}}),Su(t,1)}};Wl=function(t){if(t.tag===13){var e=Nt(t,134217728);if(e!==null){var n=Te();ut(e,t,134217728,n)}Su(t,134217728)}};Ph=function(t){if(t.tag===13){var e=en(t),n=Nt(t,e);if(n!==null){var r=Te();ut(n,t,e,r)}Su(t,e)}};Rh=function(){return H};Nh=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};Do=function(t,e,n){switch(e){case"input":if(Po(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ha(r);if(!s)throw Error(T(90));lh(r),Po(r,s)}}}break;case"textarea":ch(t,n);break;case"select":e=n.value,e!=null&&ar(t,!!n.multiple,e,!1)}};yh=mu;vh=Pn;var Ey={usingClientEntryPoint:!1,Events:[js,Xn,ha,gh,mh,mu]},Ir={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cy={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sh(t),t===null?null:t.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||by,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{la=ri.inject(Cy),yt=ri}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ey;qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(e))throw Error(T(200));return ky(t,e,null,n)};qe.createRoot=function(t,e){if(!bu(t))throw Error(T(299));var n=!1,r="",s=ep;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_u(t,1,!1,null,null,n,!1,r,s),t[Rt]=e.current,ds(t.nodeType===8?t.parentNode:t),new ku(e)};qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Sh(e),t=t===null?null:t.stateNode,t};qe.flushSync=function(t){return Pn(t)};qe.hydrate=function(t,e,n){if(!Sa(e))throw Error(T(200));return ka(null,t,e,!0,n)};qe.hydrateRoot=function(t,e,n){if(!bu(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=ep;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Zf(e,null,t,1,n??null,s,!1,i,a),t[Rt]=e.current,ds(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _a(e)};qe.render=function(t,e,n){if(!Sa(e))throw Error(T(200));return ka(null,t,e,!1,n)};qe.unmountComponentAtNode=function(t){if(!Sa(t))throw Error(T(40));return t._reactRootContainer?(Pn(function(){ka(null,null,t,!1,function(){t._reactRootContainer=null,t[Rt]=null})}),!0):!1};qe.unstable_batchedUpdates=mu;qe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sa(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ka(t,e,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function tp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tp)}catch(t){console.error(t)}}tp(),eh.exports=qe;var Ty=eh.exports,Mc=Ty;ko.createRoot=Mc.createRoot,ko.hydrateRoot=Mc.hydrateRoot;const Oy="modulepreload",Py=function(t){return"/"+t},Fc={},Ry=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Py(l),l in Fc)return;Fc[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Oy,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((d,p)=>{h.addEventListener("load",d),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function Ny(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];xn(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const zc={};function gl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];xn(e[0])&&zc[e[0]]||(xn(e[0])&&(zc[e[0]]=new Date),Ny(...e))}const np=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Bc=(t,e,n)=>{t.loadNamespaces(e,np(t,n))},Wc=(t,e,n,r)=>{xn(n)&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,np(t,r))},jy=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,t)&&(!s||a(i,t)))},Ay=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(gl("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):jy(t,e,n)},xn=t=>typeof t=="string",Iy=t=>typeof t=="object"&&t!==null,Ly=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Dy={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},$y=t=>Dy[t],Uy=t=>t.replace(Ly,$y);let ml={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Uy};const My=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ml={...ml,...t}},Fy=()=>ml;let rp;const zy=t=>{rp=t},By=()=>rp,Wy={type:"3rdParty",init(t){My(t.options.react),zy(t)}},Hy=R.createContext();class qy{constructor(){Ru(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const Vy=(t,e)=>{const n=R.useRef();return R.useEffect(()=>{n.current=t},[t,e]),n.current},sp=(t,e,n,r)=>t.getFixedT(e,n,r),Ky=(t,e,n,r)=>R.useCallback(sp(t,e,n,r),[t,e,n,r]),xr=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:s}=R.useContext(Hy)||{},i=n||r||By();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new qy),!i){gl("You will need to pass in an i18next instance by using initReactI18next");const _=(E,b)=>xn(b)?b:Iy(b)&&xn(b.defaultValue)?b.defaultValue:Array.isArray(E)?E[E.length-1]:E,x=[_,{},!1];return x.t=_,x.i18n={},x.ready=!1,x}i.options.react&&i.options.react.wait!==void 0&&gl("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Fy(),...i.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=s||i.options&&i.options.defaultNS;u=xn(u)?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every(_=>Ay(_,i,a)),h=Ky(i,e.lng||null,a.nsMode==="fallback"?u:u[0],l),d=()=>h,p=()=>sp(i,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[y,w]=R.useState(d);let S=u.join();e.lng&&(S=`${e.lng}${S}`);const m=Vy(S),f=R.useRef(!0);R.useEffect(()=>{const{bindI18n:_,bindI18nStore:x}=a;f.current=!0,!c&&!o&&(e.lng?Wc(i,e.lng,u,()=>{f.current&&w(p)}):Bc(i,u,()=>{f.current&&w(p)})),c&&m&&m!==S&&f.current&&w(p);const E=()=>{f.current&&w(p)};return _&&i&&i.on(_,E),x&&i&&i.store.on(x,E),()=>{f.current=!1,_&&i&&_.split(" ").forEach(b=>i.off(b,E)),x&&i&&x.split(" ").forEach(b=>i.store.off(b,E))}},[i,S]),R.useEffect(()=>{f.current&&c&&w(d)},[i,l,c]);const g=[y,i,c];if(g.t=y,g.i18n=i,g.ready=c,c||!c&&!o)return g;throw new Promise(_=>{e.lng?Wc(i,e.lng,u,()=>_()):Bc(i,u,()=>_())})};function ip(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ip(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ip(t))&&(r&&(r+=" "),r+=e);return r}function Yy(){return Intl.DateTimeFormat().resolvedOptions().timeZone||"Europe/Chisinau"}function Gy(){const t=new URL(window.location.href),e=t.searchParams.get("lang")??void 0,n=t.searchParams.get("tz")??void 0;return{lang:e,tz:n}}function Jy(t){const e=new URL(window.location.href);e.searchParams.set("lang",t.lang),e.searchParams.set("tz",t.tz),window.history.replaceState(window.history.state,"",e.toString())}var gt=(t=>(t.Available="Available",t.FewLeft="FewLeft",t.Full="Full",t.Occupied="Occupied",t.Hidden="Hidden",t))(gt||{});function ba(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Qy(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(h){a(h)}}function l(c){try{u(r.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}const Xy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class xu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Zy extends xu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hc extends xu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qc extends xu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yl||(yl={}));class ev{constructor(e,{headers:n={},customFetch:r,region:s=yl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Xy(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Qy(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:h}=r;let d={},{region:p}=r;p||(p=this.region);const y=new URL(`${this.url}/${n}`);p&&p!=="any"&&(d["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(d["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(d["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let S=c;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),c?(S=a.signal,c.addEventListener("abort",()=>a.abort())):S=a.signal);const m=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:w,signal:S}).catch(x=>{throw new Zy(x)}),f=m.headers.get("x-relay-error");if(f&&f==="true")throw new Hc(m);if(!m.ok)throw new qc(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield m.json():g==="application/octet-stream"||g==="application/pdf"?_=yield m.blob():g==="text/event-stream"?_=m:g==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(o){return{data:null,error:o,response:o instanceof qc||o instanceof Hc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var tv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},nv=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,d;if(n.method!=="HEAD"){var p;const m=await i.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=m:o=JSON.parse(m))}const w=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&S&&S.length>1&&(l=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var y;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new tv(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const c=i==null?void 0:i.cause;if(c){var h,d,p,y;const m=(h=c==null?void 0:c.message)!==null&&h!==void 0?h:"",f=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";o=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"Error"}: ${m}`,f&&(o+=` (${f})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var w;o=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const S=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(l+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},rv=class extends nv{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Vc=new RegExp("[,()]");var Wn=class extends rv{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Vc.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Vc.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},sv=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new Wn({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Wn({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",c.join(","))}}return new Wn({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Wn({method:r,url:s,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Wn({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function iv(t,e){if(_s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function av(t){var e=iv(t,"string");return _s(e)=="symbol"?e:e+""}function ov(t,e,n){return(e=av(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kc(Object(n),!0).forEach(function(r){ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lv=class ap{constructor(e,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,h=setTimeout(()=>c.abort(),i),d=u==null?void 0:u.signal;if(d){if(d.aborted)return clearTimeout(h),o(l,u);const p=()=>{clearTimeout(h),c.abort()};return d.addEventListener("abort",p,{once:!0}),o(l,si(si({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(h),d.removeEventListener("abort",p)})}return o(l,si(si({},u),{},{signal:c.signal})).finally(()=>clearTimeout(h))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sv(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new ap(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(c)),h=r&&Object.values(n).some(c);h?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{l.searchParams.append(p,y)})):(o="POST",u=n);const d=new Headers(this.headers);return h?d.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&d.set("Prefer",`count=${i}`),new Wn({method:o,url:l,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class uv{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cv="2.95.3",dv=`realtime-js/${cv}`,hv="1.0.0",op="2.0.0",Yc=op,vl=1e4,fv=1e3,pv=100;var Bt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bt||(Bt={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var at;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(at||(at={}));var wl;(function(t){t.websocket="websocket"})(wl||(wl={}));var mn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mn||(mn={}));class gv{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+d);let y=new DataView(p),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,o.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,h.length),y.setUint8(w++,n),Array.from(l,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(o,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(a,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(u,m=>y.setUint8(w++,m.charCodeAt(0))),Array.from(h,m=>y.setUint8(w++,m.charCodeAt(0)));var S=new Uint8Array(p.byteLength+r.byteLength);return S.set(new Uint8Array(p),0),S.set(new Uint8Array(r),p.byteLength),S.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,a,o,l]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+a));l=l+a;const d=e.slice(l,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,y={type:this.BROADCAST_EVENT,event:c,payload:p};return a>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class lp{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Gc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=mv(a,t,e,s),i),{}):{}},mv=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?up(i,a):_l(a)},up=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return _v(e,n)}switch(t){case V.bool:return yv(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return vv(e);case V.json:case V.jsonb:return wv(e);case V.timestamp:return Sv(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return _l(e);default:return _l(e)}},_l=t=>t,yv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},_v=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>up(e,o))}return t},Sv=t=>typeof t=="string"?t.replace(" ","T"):t,cp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class io{constructor(e,n,r={},s=vl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jc||(Jc={}));class Zr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zr.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Zr.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zr.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const h=i[u];if(h){const d=c.map(S=>S.presence_ref),p=h.map(S=>S.presence_ref),y=c.filter(S=>p.indexOf(S.presence_ref)<0),w=h.filter(S=>d.indexOf(S.presence_ref)<0);y.length>0&&(o[u]=y),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const h=e[o].map(p=>p.presence_ref),d=c.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...d)}r(o,c,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qc||(Qc={}));var es;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(es||(es={}));var xt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class ir{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new io(this,at.join,this.params,this.timeout),this.rejoinTimer=new lp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Zr(this),this.broadcastEndpointURL=cp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[es.PRESENCE]&&this.bindings[es.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(xt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(xt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(xt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,m=[];for(let f=0;f<S;f++){const g=w[f],{filter:{event:_,schema:x,table:E,filter:b}}=g,O=p&&p[f];if(O&&O.event===_&&ir.isFilterValueEqual(O.schema,x)&&ir.isFilterValueEqual(O.table,E)&&ir.isFilterValueEqual(O.filter,b))m.push(Object.assign(Object.assign({},g),{id:O.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(xt.SUBSCRIBED);return}}).receive("error",p=>{this.state=ue.errored,e==null||e(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ue.joined&&e===es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new io(this,at.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new io(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>pv){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=at;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let d=this._onMessage(a,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,w,S;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(w=p.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(p=>p.callback(d,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var y,w,S,m,f,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,x=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(f=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:w,table:S,commit_timestamp:m,type:f,errors:g}=y;d=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:m,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(y))}p.callback(d,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ir.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(at.close,{},e)}_onError(e){this._on(at.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gc(e.columns,e.old_record)),n}}const ao=()=>{},ii={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kv=[1e3,2e3,5e3,1e4],bv=1e4,xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ev{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vl,this.transport=null,this.heartbeatIntervalMs=ii.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ao,this.ref=0,this.reconnectTimer=null,this.vsn=Yc,this.logger=ao,this.conn=null,this.sendBuffer=[],this.serializer=new gv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${wl.websocket}`,this.httpEndpoint=cp(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bt.connecting:return mn.Connecting;case Bt.open:return mn.Open;case Bt.closing:return mn.Closing;default:return mn.Closed}}isConnected(){return this.connectionState()===mn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ir(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ii.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Bt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bt.open||this.conn.readyState===Bt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(at.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([xv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:dv};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(at.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ii.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,o,l,u,c,h,d,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:vl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ii.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:ao,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Yc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>kv[y-1]||bv,this.vsn){case hv:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(y,w)=>w(JSON.parse(y));break;case op:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ss=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Cv(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function Tv(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Ov(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=Cv(t.baseUrl,r,s),l=await Tv(t.auth),u=await e(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){const p=h?d:void 0,y=p==null?void 0:p.error;throw new Ss((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:d}}}}function ai(t){return t.join("")}var Pv=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ai(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ai(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ai(t.namespace)}`}),!0}catch(e){if(e instanceof Ss&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ss&&n.status===409)return;throw n}}};function In(t){return t.join("")}var Rv=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${In(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${In(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${In(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${In(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${In(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${In(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ss&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ss&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Nv=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Ov({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Pv(this.client,e),this.tableOps=new Rv(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},xa=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ea(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var oi=class extends xa{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dp=class extends xa{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const jv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Av=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sl=t=>{if(Array.isArray(t))return t.map(n=>Sl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Sl(r)}),e},Iv=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function Lv(t,e){if(ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dv(t){var e=Lv(t,"string");return ks(e)=="symbol"?e:e+""}function $v(t,e,n){return(e=Dv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xc(Object(n),!0).forEach(function(r){$v(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Zc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Uv=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new oi(Zc(a),i,o,r))}).catch(()=>{if(r==="vectors"){const a=i+"";e(new oi(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";e(new oi(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";e(new oi(s.statusText||`HTTP ${i} error`,i,a,r))}}else e(new dp(Zc(t),t,r))},Mv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?L(L({},s),n):(Av(r)?(s.headers=L({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),L(L({},s),n))};async function Lr(t,e,n,r,s,i,a){return new Promise((o,l)=>{t(n,Mv(e,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>Uv(u,l,r,a))})}function hp(t="storage"){return{get:async(e,n,r,s)=>Lr(e,"GET",n,r,s,void 0,t),post:async(e,n,r,s,i)=>Lr(e,"POST",n,s,i,r,t),put:async(e,n,r,s,i)=>Lr(e,"PUT",n,s,i,r,t),head:async(e,n,r,s)=>Lr(e,"HEAD",n,L(L({},r),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,n,r,s,i)=>Lr(e,"DELETE",n,s,i,r,t)}}const Fv=hp("storage"),{get:bs,post:st,put:kl,head:zv,remove:Eu}=Fv,ze=hp("vectors");var Er=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=jv(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ea(n))return{data:null,error:n};throw n}}},Bv=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ea(e))return{data:null,error:e};throw e}}};let fp;fp=Symbol.toStringTag;var Wv=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[fp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Bv(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ea(e))return{data:null,error:e};throw e}}};const Hv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ed={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var qv=class extends Er{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=L(L({},ed),r);let o=L(L({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=L(L({},o),r.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),h=await(t=="PUT"?kl:st)(s.fetch,`${s.url}/object/${c}`,i,L({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),s.handleOperation(async()=>{let l;const u=L({upsert:ed.upsert},r),c=L(L({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await kl(s.fetch,o.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const s=L({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await st(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new xa("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await st(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await st(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t),i=await st(r.fetch,`${r.url}/object/sign/${s}`,L({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const s=await st(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>L(L({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(t,e,n){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(t),o=()=>bs(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0},n);return new Wv(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>Sl(await bs(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await zv(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ea(r)&&r instanceof dp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Eu(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const s=L(L(L({},Hv),e),{},{prefix:t||""});return await st(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=L({},t);return await st(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Vv="2.95.3",Is={"X-Client-Info":`storage-js/${Vv}`};var Kv=class extends Er{constructor(t,e={},n,r){const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=L(L({},Is),e);super(i,a,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await bs(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await bs(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await st(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await kl(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await st(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Eu(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Yv=class extends Er{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=L(L({},Is),e);super(r,s,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await st(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await bs(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Eu(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Iv(t))throw new xa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Nv({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},Gv=class extends Er{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=L(L({},Is),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await ze.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await ze.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},Jv=class extends Er{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=L(L({},Is),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Qv=class extends Er{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=L(L({},Is),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ze.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Xv=class extends Qv{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Zv(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Zv=class extends Gv{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new e0(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},e0=class extends Jv{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},t0=class extends Kv{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new qv(this.url,this.headers,t,this.fetch)}get vectors(){return new Xv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Yv(this.url+"/iceberg",this.headers,this.fetch)}};const pp="2.95.3",Hn=30*1e3,bl=3,oo=bl*Hn,n0="http://localhost:9999",r0="supabase.auth.token",s0={"X-Client-Info":`gotrue-js/${pp}`},xl="X-Supabase-Api-Version",gp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a0=10*60*1e3;class xs extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function j(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class o0 extends xs{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function l0(t){return j(t)&&t.name==="AuthApiError"}class yn extends xs{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class It extends xs{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Me extends It{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lo(t){return j(t)&&t.name==="AuthSessionMissingError"}class Ln extends It{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class li extends It{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ui extends It{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u0(t){return j(t)&&t.name==="AuthImplicitGrantRedirectError"}class td extends It{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c0 extends It{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class El extends It{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function uo(t){return j(t)&&t.name==="AuthRetryableFetchError"}class nd extends It{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cl extends It{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rd=` 	
\r=`.split(""),d0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rd.length;e+=1)t[rd[e].charCodeAt(0)]=-2;for(let e=0;e<Gi.length;e+=1)t[Gi[e].charCodeAt(0)]=e;return t})();function sd(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gi[r]),e.queuedBits-=6}}function mp(t,e,n){const r=d0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function id(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{p0(a,r,n)};for(let a=0;a<t.length;a+=1)mp(t.charCodeAt(a),s,i);return e.join("")}function h0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function f0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}h0(r,e)}}function p0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function hr(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)mp(t.charCodeAt(s),n,r);return new Uint8Array(e)}function g0(t){const e=[];return f0(t,n=>e.push(n)),new Uint8Array(e)}function Sn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>sd(s,n,r)),sd(null,n,r),e.join("")}function m0(t){return Math.round(Date.now()/1e3)+t}function y0(){return Symbol("auth-callback")}const ge=()=>typeof window<"u"&&typeof document<"u",cn={tested:!1,writable:!1},yp=()=>{if(!ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cn.tested)return cn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),cn.tested=!0,cn.writable=!0}catch{cn.tested=!0,cn.writable=!1}return cn.writable};function v0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const vp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),w0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},dn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pe=async(t,e)=>{await t.removeItem(e)};class Ca{constructor(){this.promise=new Ca.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ca.promiseConstructor=Promise;function ci(t){const e=t.split(".");if(e.length!==3)throw new Cl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!i0.test(e[r]))throw new Cl("JWT not in base64url format");return{header:JSON.parse(id(e[0])),payload:JSON.parse(id(e[1])),signature:hr(e[2]),raw:{header:e[0],payload:e[1]}}}async function _0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function S0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function k0(t){return("0"+t.toString(16)).substr(-2)}function b0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,k0).join("")}async function x0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function E0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await x0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dn(t,e,n=!1){const r=b0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await qn(t,`${e}-code-verifier`,s);const i=await E0(r);return[i,r===i?"plain":"s256"]}const C0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T0(t){const e=t.headers.get(xl);if(!e||!e.match(C0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function O0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function P0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const R0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $n(t){if(!R0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function co(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N0(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function ad(t){return JSON.parse(JSON.stringify(t))}const pn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),j0=[502,503,504];async function od(t){var e;if(!w0(t))throw new El(pn(t),0);if(j0.includes(t.status))throw new El(pn(t),t.status);let n;try{n=await t.json()}catch(i){throw new yn(pn(i),i)}let r;const s=T0(t);if(s&&s.getTime()>=gp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new nd(pn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Me}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new nd(pn(n),t.status,n.weak_password.reasons);throw new o0(pn(n),t.status||500,r)}const A0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function I(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[xl]||(i[xl]=gp["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await I0(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function I0(t,e,n,r,s,i){const a=A0(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new El(pn(l),0)}if(o.ok||await od(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await od(l)}}function nt(t){var e;let n=null;$0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=m0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ld(t){const e=nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function L0(t){return{data:t,error:null}}function D0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=ba(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function ud(t){return t}function $0(t){return t.access_token&&t.refresh_token&&t.expires_in}const ho=["global","local","others"];class U0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ho[0]){if(ho.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ho.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qt})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ba(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:D0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(j(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qt})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ud});if(c.error)throw c.error;const h=await c.json(),d=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(j(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$n(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qt})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){$n(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:qt})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){$n(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:qt})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){$n(e.userId);try{const{data:n,error:r}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(j(n))return{data:null,error:n};throw n}}async _deleteFactor(e){$n(e.userId),$n(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ud});if(c.error)throw c.error;const h=await c.json(),d=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(j(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await I(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}}function cd(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Un={debug:!!(globalThis&&yp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class M0 extends wp{}async function F0(t,e,n){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new M0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Un.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function z0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _p(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function B0(t){return parseInt(t,16)}function W0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function H0(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:h,version:d}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=_p(t.address),y=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",S=`${y} wants you to sign in with your Ethereum account:
${p}

${w}`;let m=`URI: ${h}
Version: ${d}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),o&&(m+=`
Not Before: ${o.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);f+=`
- ${g}`}m+=f}return`${S}
${m}`}class ae extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ji extends ae{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function q0({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Sp(a)){if(i.rp.id!==a)return new ae({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function V0({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Sp(r)){if(n.rpId!==r)return new ae({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class K0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Y0=new K0;function G0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=ba(t,["challenge","user","excludeCredentials"]),i=hr(e).buffer,a=Object.assign(Object.assign({},n),{id:hr(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:hr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function J0(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ba(t,["challenge","allowCredentials"]),s=hr(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:hr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Q0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Sn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Sn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function X0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Sn(new Uint8Array(s.authenticatorData)),clientDataJSON:Sn(new Uint8Array(s.clientDataJSON)),signature:Sn(new Uint8Array(s.signature)),userHandle:s.userHandle?Sn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function dd(){var t,e;return!!(ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Z0(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ji("Browser returned unexpected credential type",e)}:{data:null,error:new Ji("Empty credential response",e)}}catch(e){return{data:null,error:q0({error:e,options:t})}}}async function ew(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ji("Browser returned unexpected credential type",e)}:{data:null,error:new Ji("Empty credential response",e)}}catch(e){return{data:null,error:V0({error:e,options:t})}}}const tw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const o=r[i];e(o)?r[i]=Qi(o,a):r[i]=Qi(a)}else r[i]=a}return r}function rw(t,e){return Qi(tw,t,e||{})}function sw(t,e){return Qi(nw,t,e||{})}class iw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const u=s??Y0.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;if(!c.name){const h=r;if(h)c.name=`${c.id}:${h}`;else{const p=(await this.client.getUser()).data.user,y=((a=p==null?void 0:p.user_metadata)===null||a===void 0?void 0:a.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";c.name=`${c.id}:${y}`}}c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=rw(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:d}=await Z0({publicKey:c,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const c=sw(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:d}=await ew(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(o){return j(o)?{data:null,error:o}:{data:null,error:new yn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new xs("rpId is required for WebAuthn authentication")};try{if(!dd())return{data:null,error:new yn("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return j(a)?{data:null,error:a}:{data:null,error:new yn("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new xs("rpId is required for WebAuthn registration")};try{if(!dd())return{data:null,error:new yn("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return j(a)?{data:null,error:a}:{data:null,error:new yn("Unexpected error in register",a)}}}}z0();const aw={url:n0,storageKey:r0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hd(t,e,n){return await n()}const Mn={};class Es{get jwks(){var e,n;return(n=(e=Mn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Mn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},aw),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Es.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Es.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ge()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new U0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vp(i.fetch),this.lock=i.lock||hd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ge()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=F0:this.lock=hd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:yp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=cd(this.memoryStorage)),ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ge()&&(n=v0(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ge()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),u0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return j(n)?this._returnResult({error:n}):this._returnResult({error:new yn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(j(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Dn(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:y},xform:nt})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:nt})}else throw new li("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),j(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ld})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ld})}else throw new li("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Ln;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(j(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,o,l,u,c,h,d;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:w,wallet:S,statement:m,options:f}=e;let g;if(ge())if(typeof S=="object")g=S;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")g=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=S}const _=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href),x=await g.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=_p(x[0]);let b=(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!b){const F=await g.request({method:"eth_chainId"});b=B0(F)}const O={domain:_.host,address:E,statement:m,uri:_.href,version:"1",chainId:b,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=H0(O),y=await g.request({method:"personal_sign",params:[W0(p),E]})}try{const{data:w,error:S}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:nt});if(S)throw S;if(!w||!w.session||!w.user){const m=new Ln;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(j(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,a,o,l,u,c,h,d,p;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:S,wallet:m,statement:f,options:g}=e;let _;if(ge())if(typeof m=="object")_=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const x=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),f?{statement:f}:null));let b;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")b=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)b=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),w=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:S,error:m}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Sn(w)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:nt});if(m)throw m;if(!S||!S.session||!S.user){const f=new Ln;return this._returnResult({data:{user:null,session:null},error:f})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:m})}catch(S){if(j(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await dn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new c0;const{data:i,error:a}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:nt});if(await pe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),j(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Ln;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(j(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Dn(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new li("You must provide either an email or phone number.")}catch(o){if(await pe(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(j(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Dn(this.storage,this.storageKey));const u=await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:L0});return!((i=u.data)===null||i===void 0)&&i.url&&ge()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await pe(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Me;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(j(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await I(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await I(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new li("You must provide either an email or phone number and a type")}catch(n){if(j(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<oo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await dn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=co()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=N0(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qt}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Me}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qt})})}catch(n){if(j(n))return lo(n)&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Me;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Dn(this.storage,this.storageKey));const{data:u,error:c}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:qt});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await pe(this.storage,`${this.storageKey}-code-verifier`),j(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Me;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=ci(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(j(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Me;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(j(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ge())throw new ui("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ui(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new td("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ui("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new td("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new ui("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(o);let d=c+h;l&&(d=parseInt(l));const p=d-c;p*1e3<=Hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=d-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,c);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(r){if(j(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await dn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!lo(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(l0(o)&&(o.status===404||o.status===401||o.status===403)||lo(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=y0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Dn(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),j(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:h,error:d}=i;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ge()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(j(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=e,h=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nt}),{data:d,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Ln}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:p}))}catch(s){if(await pe(this.storage,`${this.storageKey}-code-verifier`),j(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await S0(async s=>(s>0&&await _0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&uo(i)&&Date.now()+a-r<Hn})}catch(r){if(this._debug(n,"error",r),j(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ge()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await dn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await qn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:co()}else if(s&&!s.user&&!s.user){const a=await dn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await pe(this.storage,this.storageKey+"-user"),await qn(this.storage,this.storageKey,s)):s.user=co()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<oo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${oo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),uo(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Me;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ca;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Me;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),j(i)){const a={data:null,error:i};return uo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await qn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ad(s);await qn(this.storage,this.storageKey,i)}else{const s=ad(n);await qn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pe(this.storage,this.storageKey),await pe(this.storage,this.storageKey+"-code-verifier"),await pe(this.storage,this.storageKey+"-user"),this.userStorage&&await pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Hn}ms, refresh threshold is ${bl} ticks`),s<=bl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Dn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Q0(e.webauthn.credential_response):X0(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:G0(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:J0(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,s,i;if(e)try{const{payload:p}=ci(e);let y=null;p.aal&&(y=p.aal);let w=y;const{data:{user:S},error:m}=await this.getUser(e);if(m)return this._returnResult({data:null,error:m});((r=(n=S==null?void 0:S.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const g=p.amr||[];return{data:{currentLevel:y,nextLevel:w,currentAuthenticationMethods:g},error:null}}catch(p){if(j(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ci(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await I(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Me})})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Me});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ge()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Me});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ge()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await I(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Me})})}catch(e){if(j(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await I(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Me})})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+a0>s)return r;const{data:i,error:a}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=ci(r);n!=null&&n.allowExpired||O0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const c=P0(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,g0(`${o}.${l}`)))throw new Cl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}}Es.nextInstanceID={};const ow=Es,lw="2.95.3";let Wr="";typeof Deno<"u"?Wr="deno":typeof document<"u"?Wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wr="react-native":Wr="node";const uw={"X-Client-Info":`supabase-js-${Wr}/${lw}`},cw={headers:uw},dw={schema:"public"},hw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fw={};function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function pw(t,e){if(Cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gw(t){var e=pw(t,"string");return Cs(e)=="symbol"?e:e+""}function mw(t,e,n){return(e=gw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fd(Object(n),!0).forEach(function(r){mw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const yw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vw=()=>Headers,ww=(t,e,n)=>{const r=yw(n),s=vw();return async(i,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,ne(ne({},a),{},{headers:u}))}};function _w(t){return t.endsWith("/")?t:t+"/"}function Sw(t,e){var n,r;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:ne(ne({},l),s),auth:ne(ne({},u),i),realtime:ne(ne({},c),a),storage:{},global:ne(ne(ne({},h),o),{},{headers:ne(ne({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function kw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_w(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var bw=class extends ow{constructor(t){super(t)}},xw=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=kw(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:dw,realtime:fw,auth:ne(ne({},hw),{},{storageKey:a}),global:cw},l=Sw(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=ww(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new lv(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new t0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new ev(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bw({url:this.authUrl.href,headers:ne(ne({},d),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ev(this.realtimeUrl.href,ne(ne({},t),{},{params:ne(ne({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ew=(t,e,n)=>new xw(t,e,n);function Cw(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Cw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Tw="https://ysswamnkarliovhfoczj.supabase.co",Ow="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlzc3dhbW5rYXJsaW92aGZvY3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2NjQwNzUsImV4cCI6MjA4NjI0MDA3NX0.gSoDBZ_oMczmZnHkHN4n0v_NUCUPkWj5I-ajUX81Wzs",Lt=Ew(Tw,Ow),Tl="schedule-sync-admin-password";function kp(){try{return localStorage.getItem(Tl)}catch{return null}}function Xi(t){try{t?localStorage.setItem(Tl,t):localStorage.removeItem(Tl)}catch{}}function Ls(){const t=kp();if(!t)throw new Error("Admin session not found. Login required.");return t}async function Pw(){const{data:t,error:e}=await Lt.from("schedule_configs").select("*").eq("id",1).single();if(e){if(e.code==="PGRST116")return null;throw e}return t}async function Rw(){const{data:t,error:e}=await Lt.from("slots").select("*").order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(e)throw e;return t??[]}async function Nw(t){const e=Ls(),{data:n,error:r}=await Lt.rpc("admin_upsert_slot",{input_password:e,payload:t});if(r)throw r;return n}async function jw(t){const e=Ls(),{error:n}=await Lt.rpc("admin_delete_slot",{input_password:e,p_id:t});if(n)throw n}async function bp(t){const{data:e,error:n}=await Lt.rpc("verify_admin_password",{input_password:t});if(n)throw n;const r=e===!0;return r&&Xi(t),r}async function Aw(){const t=kp();if(!t)return!1;try{const e=await bp(t);return e||Xi(null),e}catch{return Xi(null),!1}}function Iw(){Xi(null)}async function Lw(t){const{data:e,error:n}=await Lt.rpc("submit_slot_request",{p_slot_id:t.slotId,p_student_name:t.studentName,p_student_contact:t.studentContact,p_student_class:t.studentClass,p_student_note:t.studentNote});if(n)throw n;return e}async function Dw(){const t=Ls(),{data:e,error:n}=await Lt.rpc("admin_get_slot_requests",{input_password:t});if(n)throw n;return e??[]}async function $w(t){const e=Ls(),{data:n,error:r}=await Lt.rpc("admin_review_slot_request",{input_password:e,p_request_id:t.requestId,p_status:t.status,p_admin_note:t.adminNote});if(r)throw r;return n}async function Uw(t){const e=Ls(),{data:n,error:r}=await Lt.rpc("admin_update_slot_request",{input_password:e,p_request_id:t.requestId,p_student_name:t.studentName,p_student_contact:t.studentContact,p_student_class:t.studentClass,p_student_note:t.studentNote});if(r)throw r;return n}const xe={getConfig:Pw,getSlots:Rw,saveSlot:Nw,deleteSlot:jw,loginAdmin:bp,restoreAdminSession:Aw,logoutAdmin:Iw,submitSlotRequest:Lw,getAdminSlotRequests:Dw,reviewSlotRequest:$w,updateSlotRequest:Uw};function Ze(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function sn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function xp(t,e){const n=Ze(t);return isNaN(e)?sn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const Ep=6048e5,Mw=864e5;let Fw={};function Ds(){return Fw}function _r(t,e){var o,l,u,c;const n=Ds(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=Ze(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Zi(t){return _r(t,{weekStartsOn:1})}function Cp(t){const e=Ze(t),n=e.getFullYear(),r=sn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Zi(r),i=sn(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Zi(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function pd(t){const e=Ze(t);return e.setHours(0,0,0,0),e}function gd(t){const e=Ze(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function zw(t,e){const n=pd(t),r=pd(e),s=+n-gd(n),i=+r-gd(r);return Math.round((s-i)/Mw)}function Bw(t){const e=Cp(t),n=sn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Zi(n)}function Ww(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Hw(t){if(!Ww(t)&&typeof t!="number")return!1;const e=Ze(t);return!isNaN(Number(e))}function qw(t){const e=Ze(t),n=sn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Vw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kw=(t,e,n)=>{let r;const s=Vw[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fo(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Yw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qw={date:fo({formats:Yw,defaultWidth:"full"}),time:fo({formats:Gw,defaultWidth:"full"}),dateTime:fo({formats:Jw,defaultWidth:"full"})},Xw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zw=(t,e,n,r)=>Xw[t];function Dr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const e_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},n_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a_=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},o_={ordinalNumber:a_,era:Dr({values:e_,defaultWidth:"wide"}),quarter:Dr({values:t_,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dr({values:n_,defaultWidth:"wide"}),day:Dr({values:r_,defaultWidth:"wide"}),dayPeriod:Dr({values:s_,defaultWidth:"wide",formattingValues:i_,defaultFormattingWidth:"wide"})};function $r(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?u_(o,h=>h.test(a)):l_(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function l_(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function u_(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function c_(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const d_=/^(\d+)(th|st|nd|rd)?/i,h_=/\d+/i,f_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},p_={any:[/^b/i,/^(a|c)/i]},g_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m_={any:[/1/i,/2/i,/3/i,/4/i]},y_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},v_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},w_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},__={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},S_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b_={ordinalNumber:c_({matchPattern:d_,parsePattern:h_,valueCallback:t=>parseInt(t,10)}),era:$r({matchPatterns:f_,defaultMatchWidth:"wide",parsePatterns:p_,defaultParseWidth:"any"}),quarter:$r({matchPatterns:g_,defaultMatchWidth:"wide",parsePatterns:m_,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$r({matchPatterns:y_,defaultMatchWidth:"wide",parsePatterns:v_,defaultParseWidth:"any"}),day:$r({matchPatterns:w_,defaultMatchWidth:"wide",parsePatterns:__,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:S_,defaultMatchWidth:"any",parsePatterns:k_,defaultParseWidth:"any"})},x_={code:"en-US",formatDistance:Kw,formatLong:Qw,formatRelative:Zw,localize:o_,match:b_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function E_(t){const e=Ze(t);return zw(e,qw(e))+1}function C_(t){const e=Ze(t),n=+Zi(e)-+Bw(e);return Math.round(n/Ep)+1}function Tp(t,e){var c,h,d,p;const n=Ze(t),r=n.getFullYear(),s=Ds(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(d=s.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=sn(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=_r(a,e),l=sn(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=_r(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function T_(t,e){var o,l,u,c;const n=Ds(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=Tp(t,e),i=sn(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),_r(i,e)}function O_(t,e){const n=Ze(t),r=+_r(n,e)-+T_(n,e);return Math.round(r/Ep)+1}function W(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ut={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return W(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):W(n+1,2)},d(t,e){return W(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return W(t.getHours()%12||12,e.length)},H(t,e){return W(t.getHours(),e.length)},m(t,e){return W(t.getMinutes(),e.length)},s(t,e){return W(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return W(s,e.length)}},Fn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},md={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ut.y(t,e)},Y:function(t,e,n,r){const s=Tp(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return W(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):W(i,e.length)},R:function(t,e){const n=Cp(t);return W(n,e.length)},u:function(t,e){const n=t.getFullYear();return W(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return W(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return W(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ut.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return W(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=O_(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):W(s,e.length)},I:function(t,e,n){const r=C_(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):W(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ut.d(t,e)},D:function(t,e,n){const r=E_(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):W(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return W(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return W(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return W(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Fn.noon:r===0?s=Fn.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Fn.evening:r>=12?s=Fn.afternoon:r>=4?s=Fn.morning:s=Fn.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ut.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ut.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):W(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):W(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ut.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ut.s(t,e)},S:function(t,e){return Ut.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vd(r);case"XXXX":case"XX":return gn(r);case"XXXXX":case"XXX":default:return gn(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vd(r);case"xxxx":case"xx":return gn(r);case"xxxxx":case"xxx":default:return gn(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yd(r,":");case"OOOO":default:return"GMT"+gn(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yd(r,":");case"zzzz":default:return"GMT"+gn(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return W(r,e.length)},T:function(t,e,n){const r=t.getTime();return W(r,e.length)}};function yd(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+W(i,2)}function vd(t,e){return t%60===0?(t>0?"-":"+")+W(Math.abs(t)/60,2):gn(t,e)}function gn(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=W(Math.trunc(r/60),2),i=W(r%60,2);return n+s+e+i}const wd=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Op=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},P_=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return wd(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",wd(r,e)).replace("{{time}}",Op(s,e))},R_={p:Op,P:P_},N_=/^D+$/,j_=/^Y+$/,A_=["D","DD","YY","YYYY"];function I_(t){return N_.test(t)}function L_(t){return j_.test(t)}function D_(t,e,n){const r=$_(t,e,n);if(console.warn(r),A_.includes(t))throw new RangeError(r)}function $_(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const U_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F_=/^'([^]*?)'?$/,z_=/''/g,B_=/[a-zA-Z]/;function xi(t,e,n){var c,h,d,p,y,w,S,m;const r=Ds(),s=(n==null?void 0:n.locale)??r.locale??x_,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((w=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((m=(S=r.locale)==null?void 0:S.options)==null?void 0:m.weekStartsOn)??0,o=Ze(t);if(!Hw(o))throw new RangeError("Invalid time value");let l=e.match(M_).map(f=>{const g=f[0];if(g==="p"||g==="P"){const _=R_[g];return _(f,s.formatLong)}return f}).join("").match(U_).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const g=f[0];if(g==="'")return{isToken:!1,value:W_(f)};if(md[g])return{isToken:!0,value:f};if(g.match(B_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:f}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(f=>{if(!f.isToken)return f.value;const g=f.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&L_(g)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&I_(g))&&D_(g,e,String(t));const _=md[g[0]];return _(o,g,s.localize,u)}).join("")}function W_(t){const e=t.match(F_);return e?e[1].replace(z_,"'"):t}function H_(){return Object.assign({},Ds())}function _d(t,e,n){const r=H_(),s=K_(t,n.timeZone,n.locale??r.locale);return"formatToParts"in s?q_(s,e):V_(s,e)}function q_(t,e){const n=t.formatToParts(e);for(let r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function V_(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function K_(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function Y_(t,e){const n=Z_(e);return"formatToParts"in n?J_(n,t):Q_(n,t)}const G_={year:0,month:1,day:2,hour:3,minute:4,second:5};function J_(t,e){try{const n=t.formatToParts(e),r=[];for(let s=0;s<n.length;s++){const i=G_[n[s].type];i!==void 0&&(r[i]=parseInt(n[s].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function Q_(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const po={},Sd=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),X_=Sd==="06/25/2014, 00:00:00"||Sd==="06/25/2014 00:00:00";function Z_(t){return po[t]||(po[t]=X_?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),po[t]}function Cu(t,e,n,r,s,i,a){const o=new Date(0);return o.setUTCFullYear(t,e,n),o.setUTCHours(r,s,i,a),o}const kd=36e5,eS=6e4,go={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ta(t,e,n){if(!t)return 0;let r=go.timezoneZ.exec(t);if(r)return 0;let s,i;if(r=go.timezoneHH.exec(t),r)return s=parseInt(r[1],10),bd(s)?-(s*kd):NaN;if(r=go.timezoneHHMM.exec(t),r){s=parseInt(r[2],10);const a=parseInt(r[3],10);return bd(s,a)?(i=Math.abs(s)*kd+a*eS,r[1]==="+"?-i:i):NaN}if(rS(t)){e=new Date(e||Date.now());const a=n?e:tS(e),o=Ol(a,t);return-(n?o:nS(e,o,t))}return NaN}function tS(t){return Cu(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Ol(t,e){const n=Y_(t,e),r=Cu(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let s=t.getTime();const i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function nS(t,e,n){let s=t.getTime()-e;const i=Ol(new Date(s),n);if(e===i)return e;s-=i-e;const a=Ol(new Date(s),n);return i===a?i:Math.max(i,a)}function bd(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const xd={};function rS(t){if(xd[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),xd[t]=!0,!0}catch{return!1}}const sS=60*1e3,iS={X:function(t,e,n){const r=mo(n.timeZone,t);if(r===0)return"Z";switch(e){case"X":return Ed(r);case"XXXX":case"XX":return Vn(r);case"XXXXX":case"XXX":default:return Vn(r,":")}},x:function(t,e,n){const r=mo(n.timeZone,t);switch(e){case"x":return Ed(r);case"xxxx":case"xx":return Vn(r);case"xxxxx":case"xxx":default:return Vn(r,":")}},O:function(t,e,n){const r=mo(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+aS(r,":");case"OOOO":default:return"GMT"+Vn(r,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return _d("short",t,n);case"zzzz":default:return _d("long",t,n)}}};function mo(t,e){const n=t?Ta(t,e,!0)/sS:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function ea(t,e){const n=t<0?"-":"";let r=Math.abs(t).toString();for(;r.length<e;)r="0"+r;return n+r}function Vn(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ea(Math.floor(r/60),2),i=ea(Math.floor(r%60),2);return n+s+e+i}function Ed(t,e){return t%60===0?(t>0?"-":"+")+ea(Math.abs(t)/60,2):Vn(t,e)}function aS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ea(i,2)}function Cd(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Pp=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,yo=36e5,Td=6e4,oS=2,Ce={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Pp};function ta(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?oS:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=lS(t),{year:s,restDateString:i}=uS(r.date,n),a=cS(i,s);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const o=a.getTime();let l=0,u;if(r.time&&(l=dS(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(u=Ta(r.timeZone||e.timeZone,new Date(o+l)),isNaN(u))return new Date(NaN)}else u=Cd(new Date(o+l)),u=Cd(new Date(o+l+u));return new Date(o+l+u)}else return new Date(NaN)}function lS(t){const e={};let n=Ce.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Ce.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const s=Ce.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function uS(t,e){if(t){const n=Ce.YYY[e],r=Ce.YYYYY[e];let s=Ce.YYYY.exec(t)||r.exec(t);if(s){const i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=Ce.YY.exec(t)||n.exec(t),s){const i=s[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function cS(t,e){if(e===null)return null;let n,r,s;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=Ce.MM.exec(t);if(i)return n=new Date(0),r=parseInt(i[1],10)-1,Pd(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(i=Ce.DDD.exec(t),i){n=new Date(0);const a=parseInt(i[1],10);return pS(e,a)?(n.setUTCFullYear(e,0,a),n):new Date(NaN)}if(i=Ce.MMDD.exec(t),i){n=new Date(0),r=parseInt(i[1],10)-1;const a=parseInt(i[2],10);return Pd(e,r,a)?(n.setUTCFullYear(e,r,a),n):new Date(NaN)}if(i=Ce.Www.exec(t),i)return s=parseInt(i[1],10)-1,Rd(s)?Od(e,s):new Date(NaN);if(i=Ce.WwwD.exec(t),i){s=parseInt(i[1],10)-1;const a=parseInt(i[2],10)-1;return Rd(s,a)?Od(e,s,a):new Date(NaN)}return null}function dS(t){let e,n,r=Ce.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),vo(e)?e%24*yo:NaN;if(r=Ce.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),vo(e,n)?e%24*yo+n*Td:NaN;if(r=Ce.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const s=parseFloat(r[3].replace(",","."));return vo(e,n,s)?e%24*yo+n*Td+s*1e3:NaN}return null}function Od(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const hS=[31,28,31,30,31,30,31,31,30,31,30,31],fS=[31,29,31,30,31,30,31,31,30,31,30,31];function Rp(t){return t%400===0||t%4===0&&t%100!==0}function Pd(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=Rp(t);if(r&&n>fS[e]||!r&&n>hS[e])return!1}return!0}function pS(t,e){if(e<1)return!1;const n=Rp(t);return!(n&&e>366||!n&&e>365)}function Rd(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function vo(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const gS=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function mS(t,e,n={}){e=String(e);const r=e.match(gS);if(r){const s=ta(n.originalDate||t,n);e=r.reduce(function(i,a){if(a[0]==="'")return i;const o=i.indexOf(a),l=i[o-1]==="'",u=i.replace(a,"'"+iS[a[0]](s,a,n)+"'");return l?u.substring(0,o-1)+u.substring(o+1):u},e)}return xi(t,e,n)}function na(t,e,n){t=ta(t,n);const r=Ta(e,t,!0),s=new Date(t.getTime()-r),i=new Date(0);return i.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),i.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),i}function ts(t,e,n,r){return r={...r,timeZone:e,originalDate:t},mS(na(t,e,{timeZone:r.timeZone}),n,r)}function Nd(t,e,n){if(typeof t=="string"&&!t.match(Pp))return ta(t,{...n,timeZone:e});t=ta(t,n);const r=Cu(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).getTime(),s=Ta(e,new Date(r));return new Date(r+s)}const yS=1;function Np(t){const n=na(new Date,t);return _r(n,{weekStartsOn:yS})}function vS(t,e){const n=Np(t),r=xp(n,6),s="d MMM",i=ts(n,t,s),a=ts(r,t,s);return e==="ro"?`Sptmna: ${i}${a}`:e==="ru"?`: ${i}${a}`:`Week: ${i}${a}`}function wS(t,e,n){const r=Np(n),s=t.day_of_week===0?6:t.day_of_week-1,i=xp(r,s),a=xi(i,"yyyy"),o=xi(i,"MM"),l=xi(i,"dd"),u=`${a}-${o}-${l}T${t.start_time}:00`,c=`${a}-${o}-${l}T${t.end_time}:00`,h=Nd(u,e),d=Nd(c,e);return{start:na(h,n),end:na(d,n)}}function Ts(t,e,n,r){const{start:s,end:i}=wS(t,e,n),a=ts(s,n,"EEE, d MMM"),o=ts(s,n,"HH:mm"),l=ts(i,n,"HH:mm");return{dayLabel:a,range:`${o}${l}`}}function _S(t){const e=t.lang==="ro"?`Bun! A dori s rezerv o sesiune.

${t.title}
${t.weekRangeLabel}`:t.lang==="ru"?`!     .

${t.title}
${t.weekRangeLabel}`:`Hi! I would like to book a session.

${t.title}
${t.weekRangeLabel}`,n=t.slots.length===0?t.lang==="ro"?"- (nimic selectat)":t.lang==="ru"?"- (  )":"- (nothing selected)":t.slots.map(s=>{const i=Ts(s,t.configTimezone,t.viewTimezone);return`- ${i.dayLabel} ${i.range}  ${s.label}`}).join(`
`),r=t.lang==="ro"?`

Fus orar: ${t.viewTimezone}`:t.lang==="ru"?`

 : ${t.viewTimezone}`:`

Timezone: ${t.viewTimezone}`;return`${e}

${n}${r}`}const SS=[{code:"ro",name:"Romn"},{code:"en",name:"English"},{code:"ru",name:""}],kS={en:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ro:["Lun","Mar","Mie","Joi","Vin","Sm","Dum"],ru:["","","","","","",""]};function bS(t){return t===0?6:t-1}function wo(t){return t===gt.Available||t===gt.FewLeft}function xS(){const{i18n:t,t:e}=xr(),[n,r]=R.useState(null),[s,i]=R.useState([]),[a,o]=R.useState(!0),[l,u]=R.useState("ro"),[c,h]=R.useState(Yy()),[d,p]=R.useState(!1),[y,w]=R.useState([]),[S,m]=R.useState(()=>{const C=new Date().getDay();return C===0?6:C-1}),[f,g]=R.useState(""),[_,x]=R.useState(!1),[E,b]=R.useState(null),[O,F]=R.useState(!1),[M,Q]=R.useState(!1),[De,$e]=R.useState("schedule"),[le,et]=R.useState(!1),[dt,Ue]=R.useState(!1),[P,A]=R.useState(null),[D,q]=R.useState(null),[ie,Dt]=R.useState(!1),[wt,_t]=R.useState([]),[St,un]=R.useState(!1),Pa=R.useRef(null),jn=R.useMemo(()=>{const k=(n==null?void 0:n.show_full_slots)??!0;return s.filter(C=>(C.visibility??!0)===!0).filter(C=>k?!0:C.status!==gt.Full).slice().sort((C,U)=>C.day_of_week-U.day_of_week||C.start_time.localeCompare(U.start_time))},[n==null?void 0:n.show_full_slots,s]),$s=R.useMemo(()=>{const k=new Map(jn.map(C=>[C.id,C]));return y.map(C=>k.get(C)).filter(Boolean)},[y,jn]),Ra=R.useMemo(()=>vS(c,l),[c,l]);R.useEffect(()=>{const k=Gy();k.lang&&(k.lang==="ro"||k.lang==="en"||k.lang==="ru")?(u(k.lang),t.changeLanguage(k.lang)):t.changeLanguage("ro"),k.tz&&h(k.tz)},[t]),R.useEffect(()=>{Jy({lang:l,tz:c})},[l,c]),R.useEffect(()=>{t.changeLanguage(l)},[t,l]),R.useEffect(()=>{let k=!0;return(async()=>{o(!0);try{const[C,U]=await Promise.all([xe.getConfig(),xe.getSlots()]);if(!k)return;r(C),C!=null&&C.default_language&&(C.default_language==="ro"||C.default_language==="en"||C.default_language==="ru")&&u(C.default_language),C!=null&&C.timezone&&h(C.timezone),i(U)}catch{}finally{k&&o(!1)}})(),()=>{k=!1}},[]),R.useEffect(()=>{let k=!0;return(async()=>{const C=await xe.restoreAdminSession();k&&(F(C),C||(et(!1),$e("schedule")))})(),()=>{k=!1}},[]),R.useEffect(()=>{const k=C=>{(C.ctrlKey||C.metaKey)&&C.shiftKey&&C.key.toLowerCase()==="a"&&(C.preventDefault(),Q(U=>!U))};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[]);const Cr=R.useCallback(async()=>{if(O){un(!0);try{const k=await xe.getAdminSlotRequests();_t(k)}finally{un(!1)}}},[O]);R.useEffect(()=>{if(!O){_t([]);return}Cr()},[O,Cr]);const Us=(n==null?void 0:n.title)??e("title"),Lp=R.useCallback(k=>{if(le){A(k),Ue(!0);return}wo(k.status)&&w(C=>C.includes(k.id)?C.filter(U=>U!==k.id):C.length>=3?C:[...C,k.id])},[le]),Dp=R.useCallback(()=>w([]),[]),$p=R.useCallback(async()=>{const k=_S({lang:l,title:Us,configTimezone:(n==null?void 0:n.timezone)??c,viewTimezone:c,weekRangeLabel:Ra,slots:$s});try{await navigator.clipboard.writeText(k)}catch{window.prompt(e("copyFallback"),k);return}b(e("copied")),window.setTimeout(()=>b(null),2e3)},[n==null?void 0:n.timezone,l,$s,e,c,Us,Ra]),Up=R.useCallback(async()=>{if(!Pa.current)return;const{toPng:k}=await Ry(async()=>{const{toPng:te}=await import("./index-xVp0PEHv.js");return{toPng:te}},[]),C=await k(Pa.current,{cacheBust:!0,pixelRatio:Math.max(2,window.devicePixelRatio||1),backgroundColor:"transparent"}),U=document.createElement("a");U.download=`availability-${l}.png`,U.href=C,U.click()},[l]),Mp=R.useCallback(async()=>{const k=f.trim();if(k){x(!0),b(null);try{await xe.loginAdmin(k)?(F(!0),Q(!1),$e("schedule"),b(e("adminLoginSuccess")),g("")):b(e("adminLoginFailed"))}catch{b(e("adminLoginFailed"))}finally{x(!1)}}},[f,e]),Fp=R.useCallback(()=>{xe.logoutAdmin(),F(!1),Q(!1),$e("schedule"),et(!1),_t([]),b(e("adminLoggedOut"))},[e]),zp=R.useCallback(async k=>{await xe.submitSlotRequest({slotId:k.slot.id,studentName:k.name,studentContact:k.contact,studentClass:k.classGrade,studentNote:k.note}),Dt(!1),q(null),b(e("joinSubmitted")),window.setTimeout(()=>b(null),2400),O&&Cr()},[O,Cr,e]),Bp=R.useCallback(async k=>{const C=await xe.updateSlotRequest(k);_t(U=>U.map(te=>te.id===C.id?{...te,student_name:C.student_name,student_contact:C.student_contact,student_class:C.student_class,student_note:C.student_note}:te)),b(e("requestUpdated")),window.setTimeout(()=>b(null),2200)},[e]),Wp=R.useCallback(async(k,C,U)=>{await xe.reviewSlotRequest({requestId:k,status:C,adminNote:U}),_t(te=>te.map(kt=>kt.id===k?{...kt,status:C,admin_note:U||null,reviewed_at:new Date().toISOString()}:kt)),b(e(C==="approved"?"requestApproved":"requestRejected")),window.setTimeout(()=>b(null),2200)},[e]),Hp=R.useCallback(async k=>{const C=await xe.saveSlot(k);i(U=>{const te=U.findIndex(Fs=>Fs.id===C.id);if(te===-1)return[...U,C];const kt=U.slice();return kt[te]=C,kt}),Ue(!1)},[]),qp=R.useCallback(async k=>{window.confirm(e("confirmDelete"))&&(await xe.deleteSlot(k),i(C=>C.filter(U=>U.id!==k)),Ue(!1))},[e]),Vp=R.useCallback(async k=>{const C={...k,id:crypto.randomUUID(),label:`${k.label} (Copy)`},U=await xe.saveSlot(C);i(te=>[...te,U]),A(U),Ue(!0)},[]),Kp=R.useCallback(async()=>{const k=s.map(C=>C.day_of_week===0||C.day_of_week===6?{...C,visibility:!1}:C);i(k),await Promise.all(k.filter(C=>C.day_of_week===0||C.day_of_week===6).map(C=>xe.saveSlot(C)))},[s]),Yp=R.useCallback(async()=>{const k=s.map(C=>({...C,status:gt.Occupied}));i(k),await Promise.all(k.map(C=>xe.saveSlot(C)))},[s]),Gp=R.useCallback(async()=>{const k=window.prompt(e("capacityPrompt"),"3");if(!k)return;const C=Number.parseInt(k,10);if(!Number.isFinite(C)||C<0)return;const U=s.map(te=>({...te,spots_total:C,spots_available:Math.min(te.spots_available??C,C)}));i(U),await Promise.all(U.map(te=>xe.saveSlot(te)))},[s,e]),Jp=R.useMemo(()=>{var U;const k=Intl,C=(U=k.supportedValuesOf)==null?void 0:U.call(k,"timeZone");return Array.isArray(C)&&C.length?C:["Europe/Chisinau","Europe/Bucharest","Europe/London","Europe/Berlin","America/New_York","America/Los_Angeles","Asia/Tokyo"]},[]),Tu=k=>{const C=y.includes(k.id),U=Ts(k,(n==null?void 0:n.timezone)??c,c),te=k.status===gt.Available?"statusAvailable":k.status===gt.FewLeft?"statusFew":"statusFull",kt=!le&&!wo(k.status),Fs=typeof k.spots_total=="number"&&k.spots_total>0?`${k.spots_available??0}/${k.spots_total} ${e("spotsLeft")}`:null;return v.jsxs("button",{className:Re("slotCard",C&&"slotCardSelected"),type:"button","aria-disabled":kt,disabled:kt,onClick:()=>Lp(k),children:[v.jsxs("div",{className:"slotTop",children:[v.jsx("div",{style:{minWidth:0},children:v.jsx("div",{className:Re("statusPill",te),children:e(k.status)})}),C?v.jsx("div",{className:Re("statusPill","statusAvailable"),children:""}):null]}),v.jsx("div",{className:"slotLabel",children:U.range}),v.jsx("div",{className:"slotMeta",children:U.dayLabel}),v.jsx("div",{className:"slotMeta",children:k.label}),Fs?v.jsx("div",{className:"slotMeta",children:Fs}):null,k.note?v.jsx("div",{className:"slotMeta",children:k.note}):null,!le&&wo(k.status)?v.jsx("div",{style:{marginTop:8},children:v.jsx("button",{className:Re("btn","btnPrimary"),type:"button",onClick:Pu=>{Pu.preventDefault(),Pu.stopPropagation(),q(k),Dt(!0)},children:e("joinSlot")})}):null]},k.id)},Na=R.useMemo(()=>{const k=new Map;for(const C of jn){const U=bS(C.day_of_week),te=k.get(U)??[];te.push(C),k.set(U,te)}return k},[jn]),Ms=kS[l],ja=!O||De==="schedule",Qp=O&&De==="requests",Ou=R.useCallback(k=>{const C=k===6?0:k+1,U={id:crypto.randomUUID(),day_of_week:C,start_time:"10:00",end_time:"11:00",status:gt.Available,spots_total:1,spots_available:1,label:"New Slot",note:null,visibility:!0};A(U),Ue(!0)},[]);return v.jsxs("div",{className:"appShell",children:[v.jsxs("div",{className:"header",children:[v.jsxs("div",{className:"headerInner",children:[v.jsxs("div",{className:"titleBlock",children:[v.jsx("h1",{className:"title",children:Us}),v.jsx("p",{className:"subtitle",children:e("subtitle")})]}),v.jsxs("div",{className:"pillRow",children:[O?v.jsxs("div",{className:"viewTabs",role:"tablist","aria-label":e("adminAccess"),children:[v.jsx("button",{type:"button",role:"tab","aria-selected":De==="schedule",className:Re("viewTab",De==="schedule"&&"viewTabActive"),onClick:()=>$e("schedule"),children:e("scheduleTab")}),v.jsx("button",{type:"button",role:"tab","aria-selected":De==="requests",className:Re("viewTab",De==="requests"&&"viewTabActive"),onClick:()=>$e("requests"),children:e("requestsTab")})]}):null,O?v.jsx("button",{className:"toggleBtn",type:"button",onClick:()=>{et(k=>!k),w([])},"aria-pressed":le,children:e(le?"viewPublic":"editMode")}):null,O?v.jsx("button",{className:"toggleBtn",type:"button",onClick:()=>void Cr(),children:e("refreshRequests")}):null,O?v.jsx("button",{className:"pillLink",type:"button",onClick:Fp,children:e("logoutAdmin")}):null,v.jsxs("div",{className:"pill",children:[v.jsx("span",{"aria-hidden":!0,children:""}),v.jsx("select",{value:l,onChange:k=>u(k.target.value),"aria-label":e("language"),children:SS.map(k=>v.jsx("option",{value:k.code,children:k.code},k.code))})]}),v.jsx("div",{className:"pill",children:v.jsxs("div",{style:{display:"flex",flexDirection:"column",lineHeight:1.1},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,letterSpacing:"0.08em",textTransform:"uppercase",color:"var(--muted)"},children:e("timesShownIn")}),d?v.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[v.jsx("select",{value:c,onChange:k=>h(k.target.value),"aria-label":e("timesShownIn"),style:{textTransform:"none",fontWeight:800},children:Jp.map(k=>v.jsx("option",{value:k,children:k},k))}),v.jsx("button",{className:"pillLink",type:"button",onClick:()=>p(!1),children:e("done")})]}):v.jsxs("div",{style:{display:"flex",gap:8,alignItems:"baseline"},children:[v.jsx("span",{style:{fontSize:12,fontWeight:900},children:c}),v.jsx("button",{className:"pillLink",type:"button",onClick:()=>p(!0),children:e("change")})]})]})})]})]}),O?null:v.jsx("div",{className:"headerInner secretAdminWrap",children:v.jsx("button",{className:Re("secretAdminTrigger",M&&"secretAdminTriggerOpen"),type:"button",onClick:()=>Q(k=>!k),"aria-label":e(M?"adminClose":"adminOpen"),title:e("adminShortcut")})})]}),v.jsxs("main",{className:"container",children:[E?v.jsx("div",{className:"pill",style:{borderColor:"var(--brand-border)",marginBottom:14,fontWeight:800},children:E}):null,a?v.jsx("div",{className:"pill",style:{justifyContent:"center",padding:18,fontWeight:900},children:e("loading")}):null,ja&&!a&&jn.length===0?v.jsx("div",{className:"pill",style:{justifyContent:"center",padding:18,fontWeight:900},children:e("noOpenings")}):null,Qp?v.jsx(CS,{requests:wt,loading:St,timezone:c,onReview:Wp,onUpdate:Bp}):null,ja?v.jsxs(v.Fragment,{children:[v.jsx("section",{className:"scheduleGrid calendarSurface","aria-label":e("schedule"),children:Ms.map((k,C)=>{const U=Na.get(C)??[];return v.jsxs("div",{className:"dayCol",children:[v.jsxs("div",{className:"dayHeader",children:[v.jsx("span",{children:k}),le?v.jsxs("button",{className:"pillLink",type:"button",onClick:()=>Ou(C),children:["+ ",e("add")]}):U.length?v.jsx("small",{children:e("tapToSelect")}):v.jsx("small",{children:e("noOpeningsDay")})]}),U.map(Tu)]},k)})}),v.jsxs("section",{className:"mobileOnly calendarSurface","aria-label":e("schedule"),children:[v.jsx("div",{className:"dayTabs",role:"tablist","aria-label":e("days"),children:Ms.map((k,C)=>v.jsx("button",{type:"button",role:"tab","aria-selected":S===C,className:Re("tab",S===C&&"tabActive"),onClick:()=>m(C),children:k},k))}),v.jsxs("div",{className:"dayCol",children:[le?v.jsxs("div",{className:"dayHeader",children:[v.jsx("span",{children:Ms[S]}),v.jsxs("button",{className:"pillLink",type:"button",onClick:()=>Ou(S),children:["+ ",e("add")]})]}):null,(Na.get(S)??[]).length===0?v.jsx("div",{className:"pill",style:{justifyContent:"center",padding:18,fontWeight:900},children:e("noSessionsOn",{day:Ms[S]})}):(Na.get(S)??[]).map(Tu)]})]})]}):null]}),ja&&y.length>0&&!le?v.jsx("div",{className:"selectionBarWrap",children:v.jsxs("section",{className:"selectionBar","aria-label":e("selection"),children:[v.jsxs("div",{className:"selectionLeft",children:[v.jsx("div",{className:"countBubble",children:y.length}),v.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[v.jsx("div",{style:{fontSize:13,fontWeight:900},children:e("selected",{count:y.length})}),v.jsx("button",{className:"clearBtn",type:"button",onClick:Dp,children:e("clearAll")})]})]}),v.jsxs("div",{className:"actions",children:[v.jsx("button",{className:"btn",type:"button",onClick:Up,title:e("downloadImage"),children:e("downloadImage")}),v.jsx("button",{className:Re("btn","btnPrimary"),type:"button",onClick:$p,children:e("copyMessage")})]})]})}):null,v.jsx("div",{style:{position:"fixed",left:-9999,top:0,width:900,padding:20},children:v.jsxs("div",{ref:Pa,style:{border:"1px solid var(--border)",borderRadius:18,background:"color-mix(in oklab, var(--panel) 92%, transparent)",padding:18,width:900,color:"var(--text)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:16,alignItems:"flex-start"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:950,fontSize:18},children:Us}),v.jsx("div",{style:{fontWeight:800,fontSize:12,color:"var(--subtle)",marginTop:4},children:Ra}),v.jsxs("div",{style:{fontWeight:800,fontSize:12,color:"var(--subtle)",marginTop:4},children:[e("timesShownIn"),": ",c]})]}),v.jsxs("div",{className:"statusPill statusAvailable",style:{alignSelf:"flex-start"},children:[e("selectedShort"),": ",y.length]})]}),v.jsx("div",{style:{marginTop:14,display:"grid",gap:10},children:($s.length?$s:jn).slice(0,18).map(k=>{const C=Ts(k,(n==null?void 0:n.timezone)??c,c);return v.jsxs("div",{style:{border:"1px solid var(--border)",borderRadius:14,padding:12,display:"flex",justifyContent:"space-between",gap:14},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:950},children:C.dayLabel}),v.jsx("div",{style:{fontWeight:900,color:"var(--subtle)",marginTop:2},children:k.label})]}),v.jsx("div",{style:{fontWeight:950},children:C.range})]},k.id)})}),v.jsxs("div",{style:{marginTop:14,fontSize:11,color:"var(--subtle)",fontWeight:800},children:[e("legend"),": ",e("Available")," / ",e("FewLeft")," / ",e("Full")]})]})}),le&&dt&&P?v.jsx(PS,{slot:P,onClose:()=>Ue(!1),onSave:Hp,onDelete:qp,onDuplicate:Vp,onBulkHideWeekends:Kp,onBulkMarkAllOccupied:Yp,onBulkSetCapacity:Gp}):null,ie&&D?v.jsx(OS,{slot:D,lang:l,timezone:c,configTimezone:(n==null?void 0:n.timezone)??c,onClose:()=>{Dt(!1),q(null)},onSubmit:zp}):null,!O&&M?v.jsx(ES,{adminPassword:f,authSending:_,onChangePassword:g,onClose:()=>Q(!1),onSubmit:Mp}):null]})}function ES(t){const{t:e}=xr();return v.jsx("div",{role:"dialog","aria-modal":"true",className:"modalBackdrop",onMouseDown:n=>{n.target===n.currentTarget&&t.onClose()},children:v.jsxs("div",{className:"adminLoginModal",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10,alignItems:"baseline"},children:[v.jsx("h3",{style:{margin:0},children:e("adminAccess")}),v.jsx("button",{className:"pillLink",type:"button",onClick:t.onClose,children:e("close")})]}),v.jsxs("form",{className:"modalForm",onSubmit:n=>{n.preventDefault(),t.onSubmit()},children:[v.jsx("div",{className:"slotMeta",children:e("adminHint")}),v.jsx("div",{className:"slotMeta",children:e("adminShortcut")}),v.jsx("input",{value:t.adminPassword,onChange:n=>t.onChangePassword(n.target.value),placeholder:e("password"),type:"password",autoComplete:"current-password",className:"modalInput"}),v.jsxs("div",{className:"actions",style:{justifyContent:"flex-end"},children:[v.jsx("button",{className:"btn",type:"button",onClick:t.onClose,children:e("cancel")}),v.jsx("button",{className:Re("btn","btnPrimary"),type:"submit",disabled:t.authSending||!t.adminPassword.trim(),children:t.authSending?e("sending"):e("login")})]})]})]})})}function CS(t){const{t:e}=xr();return v.jsxs("section",{className:"adminPanel","aria-label":e("adminRequests"),children:[v.jsxs("div",{className:"adminPanelHeader",children:[v.jsx("h2",{className:"adminPanelTitle",children:e("adminRequests")}),v.jsxs("span",{className:"statusPill statusFew",children:[t.requests.filter(n=>n.status==="pending").length," ",e("pending")]})]}),t.loading?v.jsx("div",{className:"pill",style:{justifyContent:"center",padding:14,fontWeight:900},children:e("loading")}):t.requests.length===0?v.jsx("div",{className:"pill",style:{justifyContent:"center",padding:14,fontWeight:900},children:e("noRequests")}):v.jsx("div",{className:"adminRequestsGrid",children:t.requests.map(n=>{const r=n.slot_day_of_week??1,s={id:n.slot_id,day_of_week:r,start_time:n.slot_start_time??"00:00",end_time:n.slot_end_time??"00:00",status:gt.Available,label:n.slot_label??""},i=Ts(s,t.timezone,t.timezone);return v.jsx(TS,{request:n,display:i,onReview:t.onReview,onUpdate:t.onUpdate},n.id)})})]})}function TS(t){const{t:e}=xr(),[n,r]=R.useState(t.request.student_name??""),[s,i]=R.useState(t.request.student_contact??""),[a,o]=R.useState(t.request.student_class??""),[l,u]=R.useState(t.request.student_note??""),[c,h]=R.useState(t.request.admin_note??""),[d,p]=R.useState(!1),y=async S=>{p(!0);try{await t.onReview(t.request.id,S,c)}finally{p(!1)}},w=async()=>{if(s.trim()){p(!0);try{await t.onUpdate({requestId:t.request.id,studentName:n,studentContact:s,studentClass:a,studentNote:l})}finally{p(!1)}}};return v.jsxs("article",{className:"adminRequestCard",children:[v.jsxs("div",{className:"adminRequestTop",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"slotLabel",style:{margin:0,fontSize:16},children:[t.display.dayLabel,"  ",t.display.range]}),v.jsx("div",{className:"slotMeta",children:t.request.slot_label??""})]}),v.jsx("div",{className:Re("statusPill",t.request.status==="pending"?"statusFew":t.request.status==="approved"?"statusAvailable":"statusFull"),children:e(t.request.status)})]}),v.jsx("input",{value:n,onChange:S=>r(S.target.value),placeholder:e("student"),className:"modalInput"}),v.jsx("input",{value:s,onChange:S=>i(S.target.value),placeholder:e("contact"),className:"modalInput"}),v.jsx("input",{value:a,onChange:S=>o(S.target.value),placeholder:e("classGrade"),className:"modalInput"}),v.jsx("textarea",{value:l,onChange:S=>u(S.target.value),placeholder:e("message"),className:"adminNote",style:{minHeight:84}}),v.jsx("textarea",{value:c,onChange:S=>h(S.target.value),placeholder:e("adminNote"),className:"adminNote"}),v.jsxs("div",{className:"actions",style:{marginTop:8},children:[v.jsx("button",{className:"btn",type:"button",onClick:()=>void w(),disabled:d||!s.trim(),children:e("saveChanges")}),v.jsx("button",{className:Re("btn","btnPrimary"),type:"button",onClick:()=>void y("approved"),disabled:d||t.request.status!=="pending",children:e("accept")}),v.jsx("button",{className:"btn",type:"button",onClick:()=>void y("rejected"),disabled:d||t.request.status!=="pending",children:e("reject")})]})]})}function OS(t){const{t:e}=xr(),[n,r]=R.useState(""),[s,i]=R.useState(""),[a,o]=R.useState(""),[l,u]=R.useState(""),[c,h]=R.useState(!1),d=Ts(t.slot,t.configTimezone,t.timezone,t.lang),p=async()=>{if(s.trim()){h(!0);try{await t.onSubmit({slot:t.slot,name:n,contact:s,classGrade:a,note:l})}finally{h(!1)}}};return v.jsx("div",{role:"dialog","aria-modal":"true",className:"modalBackdrop",onMouseDown:y=>{y.target===y.currentTarget&&t.onClose()},children:v.jsxs("div",{className:"joinModal",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10,alignItems:"baseline"},children:[v.jsx("h3",{style:{margin:0},children:e("joinSlot")}),v.jsx("button",{className:"pillLink",type:"button",onClick:t.onClose,children:e("close")})]}),v.jsxs("form",{className:"modalForm",onSubmit:y=>{y.preventDefault(),p()},children:[v.jsxs("div",{className:"slotMeta",style:{marginTop:2},children:[d.dayLabel,"  ",d.range]}),v.jsx("div",{className:"slotMeta",children:t.slot.label}),v.jsx("input",{className:"modalInput",value:n,onChange:y=>r(y.target.value),placeholder:e("yourName")}),v.jsx("input",{className:"modalInput",value:s,onChange:y=>i(y.target.value),placeholder:e("yourContact")}),v.jsx("input",{className:"modalInput",value:a,onChange:y=>o(y.target.value),placeholder:e("classGrade")}),v.jsx("textarea",{className:"modalInput",value:l,onChange:y=>u(y.target.value),placeholder:e("yourMessage"),rows:4}),v.jsxs("div",{className:"actions",style:{justifyContent:"flex-end"},children:[v.jsx("button",{className:"btn",type:"button",onClick:t.onClose,children:e("cancel")}),v.jsx("button",{className:Re("btn","btnPrimary"),type:"submit",disabled:c||!s.trim(),children:e(c?"sending":"submitJoin")})]})]})]})})}function PS(t){const{t:e}=xr(),[n,r]=R.useState(()=>structuredClone(t.slot)),[s,i]=R.useState(!1);R.useEffect(()=>{r(structuredClone(t.slot))},[t.slot]);const a=async()=>{i(!0);try{await t.onSave(n)}finally{i(!1)}};return v.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,zIndex:120,background:"color-mix(in oklab, var(--bg) 55%, transparent)",backdropFilter:"blur(10px)",display:"grid",placeItems:"center",padding:16},onMouseDown:o=>{o.target===o.currentTarget&&t.onClose()},children:v.jsxs("div",{className:"pill",style:{width:"min(720px, 100%)",borderRadius:18,padding:16,flexDirection:"column",alignItems:"stretch",gap:14,boxShadow:"var(--shadow)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"baseline"},children:[v.jsx("div",{style:{fontWeight:950,fontSize:16},children:e("editSlot")}),v.jsx("button",{className:"pillLink",type:"button",onClick:t.onClose,children:e("close")})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[v.jsxs("label",{style:{display:"grid",gap:6},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("start")}),v.jsx("input",{type:"time",value:n.start_time,onChange:o=>r(l=>({...l,start_time:o.target.value})),style:Mt})]}),v.jsxs("label",{style:{display:"grid",gap:6},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("end")}),v.jsx("input",{type:"time",value:n.end_time,onChange:o=>r(l=>({...l,end_time:o.target.value})),style:Mt})]})]}),v.jsxs("label",{style:{display:"grid",gap:6},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("label")}),v.jsx("input",{value:n.label,onChange:o=>r(l=>({...l,label:o.target.value})),style:Mt})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[v.jsxs("label",{style:{display:"grid",gap:6},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("status")}),v.jsx("select",{value:n.status,onChange:o=>r(l=>({...l,status:o.target.value})),style:Mt,children:Object.values(gt).map(o=>v.jsx("option",{value:o,children:e(o)},o))})]}),v.jsxs("label",{style:{display:"grid",gap:6},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("visible")}),v.jsxs("select",{value:n.visibility??!0?"1":"0",onChange:o=>r(l=>({...l,visibility:o.target.value==="1"})),style:Mt,children:[v.jsx("option",{value:"1",children:e("yes")}),v.jsx("option",{value:"0",children:e("no")})]})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[v.jsxs("label",{style:{display:"grid",gap:6},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("spotsAvailable")}),v.jsx("input",{type:"number",value:n.spots_available??0,onChange:o=>r(l=>({...l,spots_available:Number.parseInt(o.target.value||"0",10)})),style:Mt})]}),v.jsxs("label",{style:{display:"grid",gap:6},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("spotsTotal")}),v.jsx("input",{type:"number",value:n.spots_total??0,onChange:o=>r(l=>({...l,spots_total:Number.parseInt(o.target.value||"0",10)})),style:Mt})]})]}),v.jsxs("label",{style:{display:"grid",gap:6},children:[v.jsx("span",{style:{fontSize:10,fontWeight:900,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("note")}),v.jsx("textarea",{value:n.note??"",onChange:o=>r(l=>({...l,note:o.target.value||null})),style:{...Mt,minHeight:86,resize:"vertical"}})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[v.jsxs("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[v.jsx("button",{className:"btn",type:"button",onClick:()=>t.onDuplicate(n),children:e("duplicate")}),v.jsx("button",{className:"btn",type:"button",onClick:()=>t.onDelete(n.id),children:e("delete")})]}),v.jsx("button",{className:Re("btn","btnPrimary"),type:"button",onClick:a,disabled:s,children:e(s?"saving":"save")})]}),v.jsxs("div",{style:{borderTop:"1px solid var(--border)",paddingTop:12,display:"flex",gap:10,flexWrap:"wrap"},children:[v.jsx("span",{style:{fontSize:10,fontWeight:950,color:"var(--muted)",letterSpacing:"0.08em",textTransform:"uppercase"},children:e("bulkActions")}),v.jsx("button",{className:"btn",type:"button",onClick:t.onBulkMarkAllOccupied,children:e("markAllOccupied")}),v.jsx("button",{className:"btn",type:"button",onClick:t.onBulkHideWeekends,children:e("hideWeekends")}),v.jsx("button",{className:"btn",type:"button",onClick:t.onBulkSetCapacity,children:e("setCapacity")})]})]})})}const Mt={borderRadius:12,border:"1px solid var(--border)",padding:"10px 12px",font:"inherit",background:"color-mix(in oklab, var(--panel) 92%, transparent)",color:"inherit"},$=t=>typeof t=="string",Ur=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},jd=t=>t==null?"":""+t,RS=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},NS=/###/g,Ad=t=>t&&t.indexOf("###")>-1?t.replace(NS,"."):t,Id=t=>!t||$(t),ns=(t,e,n)=>{const r=$(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(Id(t))return{};const i=Ad(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Id(t)?{}:{obj:t,k:Ad(r[s])}},Ld=(t,e,n)=>{const{obj:r,k:s}=ns(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=ns(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=ns(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},jS=(t,e,n,r)=>{const{obj:s,k:i}=ns(t,e,Object);s[i]=s[i]||[],s[i].push(n)},ra=(t,e)=>{const{obj:n,k:r}=ns(t,e);if(n)return n[r]},AS=(t,e,n)=>{const r=ra(t,n);return r!==void 0?r:ra(e,n)},jp=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?$(t[r])||t[r]instanceof String||$(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):jp(t[r],e[r],n):t[r]=e[r]);return t},zn=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var IS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const LS=t=>$(t)?t.replace(/[&<>"'\/]/g,e=>IS[e]):t;class DS{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const $S=[" ",",","?","!",";"],US=new DS(20),MS=(t,e,n)=>{e=e||"",n=n||"";const r=$S.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=US.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},Pl=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=n),o+=r[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=a}return s},sa=t=>t&&t.replace("_","-"),FS={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ia{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||FS,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:($(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ia(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ia(this.logger,e)}}var mt=new ia;class Oa{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...r])})}}class Dd extends Oa{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):$(r)&&i?o.push(...r.split(i)):o.push(r)));const l=ra(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!$(r)?l:Pl(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=n,n=o[1]),this.addNamespaces(n),Ld(this.data,o,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)($(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let l=ra(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?jp(l,r,i):l={...l,...r},Ld(this.data,o,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Ap={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const $d={};class aa extends Oa{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),RS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=mt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!MS(e,r,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:$(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:$(i)?[i]:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],n),l=o[o.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const _=n.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${_}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${_}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const h=this.resolve(e,n);let d=h&&h.res;const p=h&&h.usedKey||a,y=h&&h.exactUsedKey||a,w=Object.prototype.toString.apply(d),S=["[object Number]","[object Function]","[object RegExp]"],m=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,g=!$(d)&&typeof d!="boolean"&&typeof d!="number";if(f&&d&&g&&S.indexOf(w)<0&&!($(m)&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...n,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(h.res=_,h.usedParams=this.getUsedParamsDetails(n),h):_}if(i){const _=Array.isArray(d),x=_?[]:{},E=_?y:p;for(const b in d)if(Object.prototype.hasOwnProperty.call(d,b)){const O=`${E}${i}${b}`;x[b]=this.translate(O,{...n,joinArrays:!1,ns:o}),x[b]===O&&(x[b]=d[b])}d=x}}else if(f&&$(m)&&Array.isArray(d))d=d.join(m),d&&(d=this.extendTranslation(d,e,n,r));else{let _=!1,x=!1;const E=n.count!==void 0&&!$(n.count),b=aa.hasDefaultValue(n),O=E?this.pluralResolver.getSuffix(u,n.count,n):"",F=n.ordinal&&E?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",M=E&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),Q=M&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${O}`]||n[`defaultValue${F}`]||n.defaultValue;!this.isValidLookup(d)&&b&&(_=!0,d=Q),this.isValidLookup(d)||(x=!0,d=a);const $e=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:d,le=b&&Q!==d&&this.options.updateMissing;if(x||_||le){if(this.logger.log(le?"updateKey":"missingKey",u,l,a,le?Q:d),i){const P=this.resolve(a,{...n,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let et=[];const dt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&dt&&dt[0])for(let P=0;P<dt.length;P++)et.push(dt[P]);else this.options.saveMissingTo==="all"?et=this.languageUtils.toResolveHierarchy(n.lng||this.language):et.push(n.lng||this.language);const Ue=(P,A,D)=>{const q=b&&D!==d?D:$e;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,A,q,le,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,A,q,le,n),this.emit("missingKey",P,l,A,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?et.forEach(P=>{const A=this.pluralResolver.getSuffixes(P,n);M&&n[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(D=>{Ue([P],a+D,n[`defaultValue${D}`]||Q)})}):Ue(et,a,Q))}d=this.extendTranslation(d,e,n,h,r),x&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(x||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,_?d:void 0):d=this.options.parseMissingKeyHandler(d))}return s?(h.res=d,h.usedParams=this.getUsedParamsDetails(n),h):d}extendTranslation(e,n,r,s,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=$(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let h=r.replace&&!$(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];return i&&i[0]===p[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):a.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=$(o)?[o]:o;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=Ap.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,a,o;return $(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;s=c;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=n.count!==void 0&&!$(n.count),p=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&($(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(S=>{this.isValidLookup(r)||(o=S,!$d[`${w[0]}-${S}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&($d[`${w[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(m=>{if(this.isValidLookup(r))return;a=m;const f=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(f,c,m,S,n);else{let _;d&&(_=this.pluralResolver.getSuffix(m,n.count,n));const x=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(f.push(c+_),n.ordinal&&_.indexOf(E)===0&&f.push(c+_.replace(E,this.options.pluralSeparator)),p&&f.push(c+x)),y){const b=`${c}${this.options.contextSeparator}${n.context}`;f.push(b),d&&(f.push(b+_),n.ordinal&&_.indexOf(E)===0&&f.push(b+_.replace(E,this.options.pluralSeparator)),p&&f.push(b+x))}}let g;for(;g=f.pop();)this.isValidLookup(r)||(i=g,r=this.getResource(m,S,g,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!$(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const _o=t=>t.charAt(0).toUpperCase()+t.slice(1);class Ud{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mt.create("languageUtils")}getScriptPartFromCode(e){if(e=sa(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=sa(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if($(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=_o(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=_o(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=_o(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),$(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return $(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):$(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}let zS=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],BS={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const WS=["v1","v2","v3"],HS=["v4"],Md={zero:0,one:1,two:2,few:3,many:4,other:5},qS=()=>{const t={};return zS.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:BS[e.fc]}})}),t};class VS{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=mt.create("pluralResolver"),(!this.options.compatibilityJSON||HS.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=qS(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=sa(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>Md[s]-Md[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!WS.includes(this.options.compatibilityJSON)}}const Fd=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=AS(t,e,n);return!i&&s&&$(n)&&(i=Pl(t,n,r),i===void 0&&(i=Pl(e,n,r))),i},So=t=>t.replace(/\$/g,"$$$$");class KS{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=mt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:w,nestingOptionsSeparator:S,maxReplaces:m,alwaysFormat:f}=e.interpolation;this.escape=n!==void 0?n:LS,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?zn(i):a||"{{",this.suffix=o?zn(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?zn(d):p||zn("$t("),this.nestingSuffix=y?zn(y):w||zn(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=m||1e3,this.alwaysFormat=f!==void 0?f:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const m=Fd(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...s,...n,interpolationkey:p}):m}const y=p.split(this.formatSeparator),w=y.shift().trim(),S=y.join(this.formatSeparator).trim();return this.format(Fd(n,l,w,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...s,...n,interpolationkey:w})};this.resetRegExp();const c=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>So(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?So(this.escape(p)):So(p)}].forEach(p=>{for(o=0;i=p.regex.exec(e);){const y=i[1].trim();if(a=u(y),a===void 0)if(typeof c=="function"){const S=c(e,i,s);a=$(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!$(a)&&!this.useRawValueToEscape&&(a=jd(a));const w=p.safeValue(a);if(e=e.replace(i[0],w),h?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const h=l.split(new RegExp(`${c}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,a);const p=d.match(/'/g),y=d.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),u&&(a={...u,...a})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${c}${d}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!$(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const c=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=c.shift(),l=c,u=!0}if(i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!$(i))return i;$(i)||(i=jd(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((c,h)=>this.format(c,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const YS=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Bn=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=e[a];return o||(o=t(sa(r),s),e[a]=o),o(n)}};class GS{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=mt.create("formatter"),this.options=e,this.formats={number:Bn((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:Bn((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:Bn((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:Bn((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:Bn((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Bn(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:u,formatOptions:c}=YS(l);if(this.formats[u]){let h=o;try{const d=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=d.locale||d.lng||s.locale||s.lng||r;h=this.formats[u](o,p,{...c,...s,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const JS=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class QS extends Oa{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=mt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},a={},o={},l={};return e.forEach(u=>{let c=!0;n.forEach(h=>{const d=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),i[d]===void 0&&(i[d]=!0),l[h]===void 0&&(l[h]=!0)))}),c||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{jS(l.loaded,[i],a),JS(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,a)},i);return}a(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();$(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,n,r,s,l):c=u(e,n,r,s),c&&typeof c.then=="function"?c.then(h=>o(null,h)).catch(o):o(null,c)}catch(c){o(c)}else u(e,n,r,s,o,l)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const zd=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),$(t[1])&&(e.defaultValue=t[1]),$(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Bd=t=>($(t.ns)&&(t.ns=[t.ns]),$(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),$(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),di=()=>{},XS=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Os extends Oa{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Bd(e),this.services={},this.logger=mt,this.modules={external:[]},XS(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&($(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=zd();this.options={...s,...this.options,...Bd(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?mt.init(i(this.modules.logger),this.options):mt.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=GS);const h=new Ud(this.options);this.store=new Dd(this.options.resources,this.options);const d=this.services;d.logger=mt,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new VS(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=i(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new KS(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new QS(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),S=1;S<y;S++)w[S-1]=arguments[S];e.emit(p,...w)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new aa(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,w=new Array(y>1?y-1:0),S=1;S<y;S++)w[S-1]=arguments[S];e.emit(p,...w)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=di),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=Ur(),u=()=>{const c=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:di;const s=$(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const s=Ur();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=di),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ap.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=Ur();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=$(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,n,r){var s=this;const i=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([a,o].concat(c))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const d=s.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(a)?p=a.map(y=>`${l.keyPrefix}${d}${y}`):p=l.keyPrefix?`${l.keyPrefix}${d}${a}`:a,s.t(p,l)};return $(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,n){const r=Ur();return this.options.ns?($(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ur();$(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Ud(zd());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Os(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:di;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Os(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Dd(this.store.data,s),i.services.resourceStore=i.store),i.translator=new aa(i.services,s),i.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];i.emit(o,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const be=Os.createInstance();be.createInstance=Os.createInstance;be.createInstance;be.dir;be.init;be.loadResources;be.reloadResources;be.use;be.changeLanguage;be.getFixedT;be.t;be.exists;be.setDefaultNamespace;be.hasLoadedNamespace;be.loadNamespaces;be.loadLanguages;const ZS={en:{translation:{title:"Tutoring Availability",subtitle:"Pick 23 times that work for you, then send me the generated message.",language:"Language",timesShownIn:"Times shown in",change:"Change",done:"Done",schedule:"Schedule",days:"Days",tapToSelect:"Tap to select",noOpeningsDay:"No openings",noOpenings:"No openings this week. Switch to next week or message me for alternatives.",noSessionsOn:"No openings on {{day}}.",selection:"Selection",selected:"Selected: {{count}}",selectedShort:"Selected",clearAll:"Clear",copyMessage:"Copy message",downloadImage:"Download image",copied:"Copied",copyFallback:"Copy this message:",loading:"Loading",Available:"Available",FewLeft:"Few left",Full:"Full",Occupied:"Occupied",Hidden:"Hidden",spotsLeft:"spots left",legend:"Legend",viewPublic:"View public",editMode:"Edit mode",adminAccess:"Admin access",adminHint:"Enter admin password to enable edit mode.",adminOpen:"Open admin login",adminClose:"Close admin login",adminShortcut:"Shortcut: Ctrl/Cmd + Shift + A",password:"Password",login:"Login",logoutAdmin:"Logout",sending:"Sending",adminLoginSuccess:"Admin mode enabled.",adminLoginFailed:"Invalid password.",adminLoggedOut:"Admin logged out.",refreshRequests:"Refresh requests",joinSlot:"Join slot",submitJoin:"Send request",joinSubmitted:"Your request was sent. Waiting for admin review.",adminRequests:"Join requests",noRequests:"No requests yet.",pending:"Pending",approved:"Approved",rejected:"Rejected",accept:"Accept",reject:"Reject",student:"Student",contact:"Contact",message:"Message",adminNote:"Admin note (optional)",requestApproved:"Request approved.",requestRejected:"Request rejected.",requestUpdated:"Request updated.",yourName:"Your name",yourContact:"Your contact (phone/email/telegram)",classGrade:"Class / grade",yourMessage:"Extra details (optional)",cancel:"Cancel",saveChanges:"Save changes",scheduleTab:"Schedule",requestsTab:"Requests",add:"Add",editSlot:"Edit slot",close:"Close",start:"Start",end:"End",label:"Label",note:"Note (optional)",status:"Status",visible:"Visible",yes:"Yes",no:"No",spotsAvailable:"Spots available",spotsTotal:"Spots total",duplicate:"Duplicate",delete:"Delete",save:"Save",saving:"Saving",confirmDelete:"Delete this slot?",bulkActions:"Bulk actions",markAllOccupied:"Mark all occupied",hideWeekends:"Hide weekends",setCapacity:"Set capacity",capacityPrompt:"Set capacity for all slots:"}},ro:{translation:{title:"Disponibilitate Tutorat",subtitle:"Alege 23 intervale care i se potrivesc, apoi trimite-mi mesajul generat.",language:"Limb",timesShownIn:"Orele afiate n",change:"Schimb",done:"Gata",schedule:"Program",days:"Zile",tapToSelect:"Atinge pentru selectare",noOpeningsDay:"Nicio opiune",noOpenings:"Nu sunt locuri disponibile sptmna aceasta. Schimb sptmna sau scrie-mi pentru alternative.",noSessionsOn:"Nicio sesiune n {{day}}.",selection:"Selecie",selected:"Selectate: {{count}}",selectedShort:"Selectate",clearAll:"terge",copyMessage:"Copiaz mesajul",downloadImage:"Descarc imaginea",copied:"Copiat",copyFallback:"Copiaz mesajul:",loading:"Se ncarc",Available:"Disponibil",FewLeft:"Locuri puine",Full:"Ocupat",Occupied:"Rezervat",Hidden:"Ascuns",spotsLeft:"locuri",legend:"Legend",viewPublic:"Vizualizare public",editMode:"Mod editare",adminAccess:"Acces admin",adminHint:"Introdu parola de admin pentru modul editare.",adminOpen:"Deschide login admin",adminClose:"nchide login admin",adminShortcut:"Scurttur: Ctrl/Cmd + Shift + A",password:"Parol",login:"Autentificare",logoutAdmin:"Ieire admin",sending:"Se trimite",adminLoginSuccess:"Mod admin activat.",adminLoginFailed:"Parol invalid.",adminLoggedOut:"Ai ieit din modul admin.",refreshRequests:"Rencarc cereri",joinSlot:"nscrie-m",submitJoin:"Trimite cererea",joinSubmitted:"Cererea a fost trimis. Ateapt revizuirea adminului.",adminRequests:"Cereri de nscriere",noRequests:"Nu exist cereri nc.",pending:"n ateptare",approved:"Acceptat",rejected:"Respins",accept:"Accept",reject:"Respinge",student:"Elev",contact:"Contact",message:"Mesaj",adminNote:"Not admin (opional)",requestApproved:"Cererea a fost acceptat.",requestRejected:"Cererea a fost respins.",requestUpdated:"Cererea a fost actualizat.",yourName:"Numele tu",yourContact:"Contactul tu (telefon/email/telegram)",classGrade:"Clasa / grupa",yourMessage:"Detalii extra (opional)",cancel:"Anuleaz",saveChanges:"Salveaz schimbrile",scheduleTab:"Program",requestsTab:"Cereri",add:"Adaug",editSlot:"Editeaz slot",close:"nchide",start:"Start",end:"Final",label:"Etichet",note:"Not (opional)",status:"Status",visible:"Vizibil",yes:"Da",no:"Nu",spotsAvailable:"Locuri disponibile",spotsTotal:"Locuri total",duplicate:"Duplic",delete:"terge",save:"Salveaz",saving:"Se salveaz",confirmDelete:"tergi acest slot?",bulkActions:"Aciuni bulk",markAllOccupied:"Marcheaz toate ocupate",hideWeekends:"Ascunde weekend",setCapacity:"Seteaz capacitate",capacityPrompt:"Seteaz capacitatea pentru toate sloturile:"}},ru:{translation:{title:" ",subtitle:" 23       .",language:"",timesShownIn:"  ",change:"",done:"",schedule:"",days:"",tapToSelect:"  ",noOpeningsDay:"  ",noOpenings:"     .      .",noSessionsOn:"    {{day}}.",selection:"",selected:": {{count}}",selectedShort:"",clearAll:"",copyMessage:" ",downloadImage:" ",copied:"",copyFallback:" :",loading:"",Available:"",FewLeft:" ",Full:"",Occupied:"",Hidden:"",spotsLeft:"",legend:"",viewPublic:" ",editMode:" ",adminAccess:" ",adminHint:"     .",adminOpen:"  ",adminClose:"  ",adminShortcut:": Ctrl/Cmd + Shift + A",password:"",login:"",logoutAdmin:"",sending:"",adminLoginSuccess:"  .",adminLoginFailed:" .",adminLoggedOut:"    .",refreshRequests:" ",joinSlot:"",submitJoin:" ",joinSubmitted:" .   .",adminRequests:"  ",noRequests:"  .",pending:" ",approved:"",rejected:"",accept:"",reject:"",student:"",contact:"",message:"",adminNote:"  ()",requestApproved:" .",requestRejected:" .",requestUpdated:" .",yourName:" ",yourContact:"  (/email/telegram)",classGrade:" / ",yourMessage:"  ()",cancel:"",saveChanges:" ",scheduleTab:"",requestsTab:"",add:"",editSlot:" ",close:"",start:"",end:"",label:"",note:" ()",status:"",visible:"",yes:"",no:"",spotsAvailable:" ",spotsTotal:" ",duplicate:"",delete:"",save:"",saving:"",confirmDelete:"  ?",bulkActions:" ",markAllOccupied:" ",hideWeekends:" ",setCapacity:" ",capacityPrompt:"   :"}}};be.use(Wy).init({resources:ZS,lng:"ro",fallbackLng:"ro",interpolation:{escapeValue:!1}});const Ip=document.getElementById("root");if(!Ip)throw new Error("Missing #root element");ko.createRoot(Ip).render(v.jsx(mg.StrictMode,{children:v.jsx(xS,{})}));
