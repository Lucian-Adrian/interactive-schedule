var Cg=Object.defineProperty;var Tg=(t,e,n)=>e in t?Cg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gu=(t,e,n)=>Tg(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Og(){return[`${(window.location.pathname||"/").startsWith("/interactive-schedule/")?"/interactive-schedule/":"/"}assets/branch-main.js`,"/interactive-schedule/assets/branch-main.js","/assets/branch-main.js","./assets/branch-main.js"]}async function Ng(){for(const t of Og())try{await import(t);return}catch{}}window.addEventListener("error",t=>{const e=t.target,n=e instanceof HTMLScriptElement&&e.src.includes("/src/main.tsx"),r=typeof t.filename=="string"&&t.filename.includes("/src/main.tsx");!n&&!r||Ng()},!0);function Pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uh={exports:{}},ya={},ch={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=Symbol.for("react.element"),Rg=Symbol.for("react.portal"),jg=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),Dg=Symbol.for("react.context"),$g=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),Mg=Symbol.for("react.memo"),Fg=Symbol.for("react.lazy"),Ju=Symbol.iterator;function zg(t){return t===null||typeof t!="object"?null:(t=Ju&&t[Ju]||t["@@iterator"],typeof t=="function"?t:null)}var dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hh=Object.assign,fh={};function Lr(t,e,n){this.props=t,this.context=e,this.refs=fh,this.updater=n||dh}Lr.prototype.isReactComponent={};Lr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ph(){}ph.prototype=Lr.prototype;function Hl(t,e,n){this.props=t,this.context=e,this.refs=fh,this.updater=n||dh}var Kl=Hl.prototype=new ph;Kl.constructor=Hl;hh(Kl,Lr.prototype);Kl.isPureReactComponent=!0;var Qu=Array.isArray,gh=Object.prototype.hasOwnProperty,Yl={current:null},mh={key:!0,ref:!0,__self:!0,__source:!0};function yh(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)gh.call(e,r)&&!mh.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Vs,type:t,key:i,ref:a,props:s,_owner:Yl.current}}function Bg(t,e){return{$$typeof:Vs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vs}function Vg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xu=/\/+/g;function Ga(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vg(""+t.key):e.toString(36)}function xi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vs:case Rg:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Ga(a,0):r,Qu(s)?(n="",t!=null&&(n=t.replace(Xu,"$&/")+"/"),xi(s,e,n,"",function(u){return u})):s!=null&&(Gl(s)&&(s=Bg(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Xu,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Qu(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+Ga(i,o);a+=xi(i,e,n,l,s)}else if(l=zg(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+Ga(i,o++),a+=xi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Xs(t,e,n){if(t==null)return t;var r=[],s=0;return xi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function qg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Le={current:null},Ei={transition:null},Wg={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:Ei,ReactCurrentOwner:Yl};function vh(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Xs,forEach:function(t,e,n){Xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xs(t,function(){e++}),e},toArray:function(t){return Xs(t,function(e){return e})||[]},only:function(t){if(!Gl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=Lr;V.Fragment=jg;V.Profiler=Ig;V.PureComponent=Hl;V.StrictMode=Ag;V.Suspense=Ug;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wg;V.act=vh;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hh({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Yl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)gh.call(e,l)&&!mh.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Vs,type:t.type,key:s,ref:i,props:r,_owner:a}};V.createContext=function(t){return t={$$typeof:Dg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lg,_context:t},t.Consumer=t};V.createElement=yh;V.createFactory=function(t){var e=yh.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:$g,render:t}};V.isValidElement=Gl;V.lazy=function(t){return{$$typeof:Fg,_payload:{_status:-1,_result:t},_init:qg}};V.memo=function(t,e){return{$$typeof:Mg,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=Ei.transition;Ei.transition={};try{t()}finally{Ei.transition=e}};V.unstable_act=vh;V.useCallback=function(t,e){return Le.current.useCallback(t,e)};V.useContext=function(t){return Le.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Le.current.useDeferredValue(t)};V.useEffect=function(t,e){return Le.current.useEffect(t,e)};V.useId=function(){return Le.current.useId()};V.useImperativeHandle=function(t,e,n){return Le.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return Le.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Le.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Le.current.useMemo(t,e)};V.useReducer=function(t,e,n){return Le.current.useReducer(t,e,n)};V.useRef=function(t){return Le.current.useRef(t)};V.useState=function(t){return Le.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return Le.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return Le.current.useTransition()};V.version="18.3.1";ch.exports=V;var O=ch.exports;const Hg=Pg(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=O,Yg=Symbol.for("react.element"),Gg=Symbol.for("react.fragment"),Jg=Object.prototype.hasOwnProperty,Qg=Kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xg={key:!0,ref:!0,__self:!0,__source:!0};function wh(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Jg.call(e,r)&&!Xg.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Yg,type:t,key:i,ref:a,props:s,_owner:Qg.current}}ya.Fragment=Gg;ya.jsx=wh;ya.jsxs=wh;uh.exports=ya;var g=uh.exports,Uo={},_h={exports:{}},Ye={},Sh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,D){var L=N.length;N.push(D);e:for(;0<L;){var H=L-1>>>1,ue=N[H];if(0<s(ue,D))N[H]=D,N[L]=ue,L=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],L=N.pop();if(L!==D){N[0]=L;e:for(var H=0,ue=N.length,gn=ue>>>1;H<gn;){var wt=2*(H+1)-1,oe=N[wt],Ot=wt+1,zt=N[Ot];if(0>s(oe,L))Ot<ue&&0>s(zt,oe)?(N[H]=zt,N[Ot]=L,H=Ot):(N[H]=oe,N[wt]=L,H=wt);else if(Ot<ue&&0>s(zt,L))N[H]=zt,N[Ot]=L,H=Ot;else break e}}return D}function s(N,D){var L=N.sortIndex-D.sortIndex;return L!==0?L:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,d=3,p=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=N)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function _(N){if(w=!1,y(N),!v)if(n(l)!==null)v=!0,G(x);else{var D=n(u);D!==null&&vt(_,D.startTime-N)}}function x(N,D){v=!1,w&&(w=!1,m(P),P=-1),p=!0;var L=d;try{for(y(D),h=n(l);h!==null&&(!(h.expirationTime>D)||N&&!fe());){var H=h.callback;if(typeof H=="function"){h.callback=null,d=h.priorityLevel;var ue=H(h.expirationTime<=D);D=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(l)&&r(l),y(D)}else r(l);h=n(l)}if(h!==null)var gn=!0;else{var wt=n(u);wt!==null&&vt(_,wt.startTime-D),gn=!1}return gn}finally{h=null,d=L,p=!1}}var b=!1,C=null,P=-1,B=5,z=-1;function fe(){return!(t.unstable_now()-z<B)}function at(){if(C!==null){var N=t.unstable_now();z=N;var D=!0;try{D=C(!0,N)}finally{D?Je():(b=!1,C=null)}}else b=!1}var Je;if(typeof f=="function")Je=function(){f(at)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,yt=Qe.port2;Qe.port1.onmessage=at,Je=function(){yt.postMessage(null)}}else Je=function(){k(at,0)};function G(N){C=N,b||(b=!0,Je())}function vt(N,D){P=k(function(){N(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,G(x))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var L=d;d=D;try{return N()}finally{d=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=d;d=N;try{return D()}finally{d=L}},t.unstable_scheduleCallback=function(N,D,L){var H=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,N){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=L+ue,N={id:c++,callback:D,priorityLevel:N,startTime:L,expirationTime:ue,sortIndex:-1},L>H?(N.sortIndex=L,e(u,N),n(l)===null&&N===n(u)&&(w?(m(P),P=-1):w=!0,vt(_,L-H))):(N.sortIndex=ue,e(l,N),v||p||(v=!0,G(x))),N},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(N){var D=d;return function(){var L=d;d=D;try{return N.apply(this,arguments)}finally{d=L}}}})(kh);Sh.exports=kh;var Zg=Sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=O,Ke=Zg;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bh=new Set,ms={};function Mn(t,e){Tr(t,e),Tr(t+"Capture",e)}function Tr(t,e){for(ms[t]=e,t=0;t<e.length;t++)bh.add(e[t])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zu={},ec={};function nm(t){return Mo.call(ec,t)?!0:Mo.call(Zu,t)?!1:tm.test(t)?ec[t]=!0:(Zu[t]=!0,!1)}function rm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sm(t,e,n,r){if(e===null||typeof e>"u"||rm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function De(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new De(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new De(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new De(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new De(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new De(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new De(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new De(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new De(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new De(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jl=/[\-:]([a-z])/g;function Ql(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jl,Ql);xe[e]=new De(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jl,Ql);xe[e]=new De(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jl,Ql);xe[e]=new De(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new De(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new De(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xl(t,e,n,r){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sm(e,n,s,r)&&(n=null),r||s===null?nm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mt=em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),or=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Zl=Symbol.for("react.strict_mode"),Fo=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),Eh=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Bo=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Ch=Symbol.for("react.offscreen"),tc=Symbol.iterator;function zr(t){return t===null||typeof t!="object"?null:(t=tc&&t[tc]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,Ja;function Zr(t){if(Ja===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ja=e&&e[1]||""}return`
`+Ja+t}var Qa=!1;function Xa(t,e){if(!t||Qa)return"";Qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Qa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zr(t):""}function im(t){switch(t.tag){case 5:return Zr(t.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return t=Xa(t.type,!1),t;case 11:return t=Xa(t.type.render,!1),t;case 1:return t=Xa(t.type,!0),t;default:return""}}function Vo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lr:return"Fragment";case or:return"Portal";case Fo:return"Profiler";case Zl:return"StrictMode";case zo:return"Suspense";case Bo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Eh:return(t.displayName||"Context")+".Consumer";case xh:return(t._context.displayName||"Context")+".Provider";case eu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tu:return e=t.displayName||null,e!==null?e:Vo(t.type)||"Memo";case Ht:e=t._payload,t=t._init;try{return Vo(t(e))}catch{}}return null}function am(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vo(e);case 8:return e===Zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Th(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function om(t){var e=Th(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ei(t){t._valueTracker||(t._valueTracker=om(t))}function Oh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Th(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qo(t,e){var n=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nh(t,e){e=e.checked,e!=null&&Xl(t,"checked",e,!1)}function Wo(t,e){Nh(t,e);var n=un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ho(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ho(t,e.type,un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ho(t,e,n){(e!=="number"||Di(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var es=Array.isArray;function _r(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+un(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(es(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:un(n)}}function Ph(t,e){var n=un(e.value),r=un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ic(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ti,jh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ti.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lm=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(t){lm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ss[e]=ss[t]})});function Ah(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ss.hasOwnProperty(t)&&ss[t]?(""+e).trim():e+"px"}function Ih(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ah(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var um=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(t,e){if(e){if(um[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Jo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=null;function nu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xo=null,Sr=null,kr=null;function ac(t){if(t=Hs(t)){if(typeof Xo!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ka(e),Xo(t.stateNode,t.type,e))}}function Lh(t){Sr?kr?kr.push(t):kr=[t]:Sr=t}function Dh(){if(Sr){var t=Sr,e=kr;if(kr=Sr=null,ac(t),e)for(t=0;t<e.length;t++)ac(e[t])}}function $h(t,e){return t(e)}function Uh(){}var Za=!1;function Mh(t,e,n){if(Za)return t(e,n);Za=!0;try{return $h(t,e,n)}finally{Za=!1,(Sr!==null||kr!==null)&&(Uh(),Dh())}}function vs(t,e){var n=t.stateNode;if(n===null)return null;var r=ka(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Zo=!1;if(Lt)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Zo=!1}function cm(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var is=!1,$i=null,Ui=!1,el=null,dm={onError:function(t){is=!0,$i=t}};function hm(t,e,n,r,s,i,a,o,l){is=!1,$i=null,cm.apply(dm,arguments)}function fm(t,e,n,r,s,i,a,o,l){if(hm.apply(this,arguments),is){if(is){var u=$i;is=!1,$i=null}else throw Error(T(198));Ui||(Ui=!0,el=u)}}function Fn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oc(t){if(Fn(t)!==t)throw Error(T(188))}function pm(t){var e=t.alternate;if(!e){if(e=Fn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return oc(s),t;if(i===r)return oc(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function zh(t){return t=pm(t),t!==null?Bh(t):null}function Bh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bh(t);if(e!==null)return e;t=t.sibling}return null}var Vh=Ke.unstable_scheduleCallback,lc=Ke.unstable_cancelCallback,gm=Ke.unstable_shouldYield,mm=Ke.unstable_requestPaint,le=Ke.unstable_now,ym=Ke.unstable_getCurrentPriorityLevel,ru=Ke.unstable_ImmediatePriority,qh=Ke.unstable_UserBlockingPriority,Mi=Ke.unstable_NormalPriority,vm=Ke.unstable_LowPriority,Wh=Ke.unstable_IdlePriority,va=null,Et=null;function wm(t){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(va,t,void 0,(t.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:km,_m=Math.log,Sm=Math.LN2;function km(t){return t>>>=0,t===0?32:31-(_m(t)/Sm|0)|0}var ni=64,ri=4194304;function ts(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ts(o):(i&=a,i!==0&&(r=ts(i)))}else a=n&~s,a!==0?r=ts(a):i!==0&&(r=ts(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pt(e),s=1<<n,r|=t[n],e&=~s;return r}function bm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xm(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-pt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=bm(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function tl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hh(){var t=ni;return ni<<=1,!(ni&4194240)&&(ni=64),t}function eo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pt(e),t[e]=n}function Em(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-pt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function su(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Y=0;function Kh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yh,iu,Gh,Jh,Qh,nl=!1,si=[],en=null,tn=null,nn=null,ws=new Map,_s=new Map,Gt=[],Cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(t,e){switch(t){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(e.pointerId)}}function Vr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hs(e),e!==null&&iu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Tm(t,e,n,r,s){switch(e){case"focusin":return en=Vr(en,t,e,n,r,s),!0;case"dragenter":return tn=Vr(tn,t,e,n,r,s),!0;case"mouseover":return nn=Vr(nn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ws.set(i,Vr(ws.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_s.set(i,Vr(_s.get(i)||null,t,e,n,r,s)),!0}return!1}function Xh(t){var e=Cn(t.target);if(e!==null){var n=Fn(e);if(n!==null){if(e=n.tag,e===13){if(e=Fh(n),e!==null){t.blockedOn=e,Qh(t.priority,function(){Gh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ci(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qo=r,n.target.dispatchEvent(r),Qo=null}else return e=Hs(n),e!==null&&iu(e),t.blockedOn=n,!1;e.shift()}return!0}function cc(t,e,n){Ci(t)&&n.delete(e)}function Om(){nl=!1,en!==null&&Ci(en)&&(en=null),tn!==null&&Ci(tn)&&(tn=null),nn!==null&&Ci(nn)&&(nn=null),ws.forEach(cc),_s.forEach(cc)}function qr(t,e){t.blockedOn===e&&(t.blockedOn=null,nl||(nl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,Om)))}function Ss(t){function e(s){return qr(s,t)}if(0<si.length){qr(si[0],t);for(var n=1;n<si.length;n++){var r=si[n];r.blockedOn===t&&(r.blockedOn=null)}}for(en!==null&&qr(en,t),tn!==null&&qr(tn,t),nn!==null&&qr(nn,t),ws.forEach(e),_s.forEach(e),n=0;n<Gt.length;n++)r=Gt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)Xh(n),n.blockedOn===null&&Gt.shift()}var br=Mt.ReactCurrentBatchConfig,zi=!0;function Nm(t,e,n,r){var s=Y,i=br.transition;br.transition=null;try{Y=1,au(t,e,n,r)}finally{Y=s,br.transition=i}}function Pm(t,e,n,r){var s=Y,i=br.transition;br.transition=null;try{Y=4,au(t,e,n,r)}finally{Y=s,br.transition=i}}function au(t,e,n,r){if(zi){var s=rl(t,e,n,r);if(s===null)co(t,e,r,Bi,n),uc(t,r);else if(Tm(s,t,e,n,r))r.stopPropagation();else if(uc(t,r),e&4&&-1<Cm.indexOf(t)){for(;s!==null;){var i=Hs(s);if(i!==null&&Yh(i),i=rl(t,e,n,r),i===null&&co(t,e,r,Bi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else co(t,e,r,null,n)}}var Bi=null;function rl(t,e,n,r){if(Bi=null,t=nu(r),t=Cn(t),t!==null)if(e=Fn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bi=t,null}function Zh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ym()){case ru:return 1;case qh:return 4;case Mi:case vm:return 16;case Wh:return 536870912;default:return 16}default:return 16}}var Xt=null,ou=null,Ti=null;function ef(){if(Ti)return Ti;var t,e=ou,n=e.length,r,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Ti=s.slice(t,1<r?1-r:void 0)}function Oi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function dc(){return!1}function Ge(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ii:dc,this.isPropagationStopped=dc,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=Ge(Dr),Ws=se({},Dr,{view:0,detail:0}),Rm=Ge(Ws),to,no,Wr,wa=se({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wr&&(Wr&&t.type==="mousemove"?(to=t.screenX-Wr.screenX,no=t.screenY-Wr.screenY):no=to=0,Wr=t),to)},movementY:function(t){return"movementY"in t?t.movementY:no}}),hc=Ge(wa),jm=se({},wa,{dataTransfer:0}),Am=Ge(jm),Im=se({},Ws,{relatedTarget:0}),ro=Ge(Im),Lm=se({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=Ge(Lm),$m=se({},Dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Um=Ge($m),Mm=se({},Dr,{data:0}),fc=Ge(Mm),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bm[t])?!!e[t]:!1}function uu(){return Vm}var qm=se({},Ws,{key:function(t){if(t.key){var e=Fm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(t){return t.type==="keypress"?Oi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wm=Ge(qm),Hm=se({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=Ge(Hm),Km=se({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),Ym=Ge(Km),Gm=se({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jm=Ge(Gm),Qm=se({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xm=Ge(Qm),Zm=[9,13,27,32],cu=Lt&&"CompositionEvent"in window,as=null;Lt&&"documentMode"in document&&(as=document.documentMode);var ey=Lt&&"TextEvent"in window&&!as,tf=Lt&&(!cu||as&&8<as&&11>=as),gc=" ",mc=!1;function nf(t,e){switch(t){case"keyup":return Zm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function ty(t,e){switch(t){case"compositionend":return rf(e);case"keypress":return e.which!==32?null:(mc=!0,gc);case"textInput":return t=e.data,t===gc&&mc?null:t;default:return null}}function ny(t,e){if(ur)return t==="compositionend"||!cu&&nf(t,e)?(t=ef(),Ti=ou=Xt=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tf&&e.locale!=="ko"?null:e.data;default:return null}}var ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ry[t.type]:e==="textarea"}function sf(t,e,n,r){Lh(r),e=Vi(e,"onChange"),0<e.length&&(n=new lu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var os=null,ks=null;function sy(t){mf(t,0)}function _a(t){var e=hr(t);if(Oh(e))return t}function iy(t,e){if(t==="change")return e}var af=!1;if(Lt){var so;if(Lt){var io="oninput"in document;if(!io){var vc=document.createElement("div");vc.setAttribute("oninput","return;"),io=typeof vc.oninput=="function"}so=io}else so=!1;af=so&&(!document.documentMode||9<document.documentMode)}function wc(){os&&(os.detachEvent("onpropertychange",of),ks=os=null)}function of(t){if(t.propertyName==="value"&&_a(ks)){var e=[];sf(e,ks,t,nu(t)),Mh(sy,e)}}function ay(t,e,n){t==="focusin"?(wc(),os=e,ks=n,os.attachEvent("onpropertychange",of)):t==="focusout"&&wc()}function oy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _a(ks)}function ly(t,e){if(t==="click")return _a(e)}function uy(t,e){if(t==="input"||t==="change")return _a(e)}function cy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mt=typeof Object.is=="function"?Object.is:cy;function bs(t,e){if(mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mo.call(e,s)||!mt(t[s],e[s]))return!1}return!0}function _c(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sc(t,e){var n=_c(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_c(n)}}function lf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uf(){for(var t=window,e=Di();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Di(t.document)}return e}function du(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dy(t){var e=uf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lf(n.ownerDocument.documentElement,n)){if(r!==null&&du(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Sc(n,i);var a=Sc(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hy=Lt&&"documentMode"in document&&11>=document.documentMode,cr=null,sl=null,ls=null,il=!1;function kc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;il||cr==null||cr!==Di(r)||(r=cr,"selectionStart"in r&&du(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ls&&bs(ls,r)||(ls=r,r=Vi(sl,"onSelect"),0<r.length&&(e=new lu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cr)))}function ai(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dr={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},ao={},cf={};Lt&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Sa(t){if(ao[t])return ao[t];if(!dr[t])return t;var e=dr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cf)return ao[t]=e[n];return t}var df=Sa("animationend"),hf=Sa("animationiteration"),ff=Sa("animationstart"),pf=Sa("transitionend"),gf=new Map,bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(t,e){gf.set(t,e),Mn(e,[t])}for(var oo=0;oo<bc.length;oo++){var lo=bc[oo],fy=lo.toLowerCase(),py=lo[0].toUpperCase()+lo.slice(1);hn(fy,"on"+py)}hn(df,"onAnimationEnd");hn(hf,"onAnimationIteration");hn(ff,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(pf,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function xc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fm(r,e,void 0,t),t.currentTarget=null}function mf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;xc(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;xc(s,o,u),i=l}}}if(Ui)throw t=el,Ui=!1,el=null,t}function Z(t,e){var n=e[cl];n===void 0&&(n=e[cl]=new Set);var r=t+"__bubble";n.has(r)||(yf(e,t,2,!1),n.add(r))}function uo(t,e,n){var r=0;e&&(r|=4),yf(n,t,r,e)}var oi="_reactListening"+Math.random().toString(36).slice(2);function xs(t){if(!t[oi]){t[oi]=!0,bh.forEach(function(n){n!=="selectionchange"&&(gy.has(n)||uo(n,!1,t),uo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oi]||(e[oi]=!0,uo("selectionchange",!1,e))}}function yf(t,e,n,r){switch(Zh(e)){case 1:var s=Nm;break;case 4:s=Pm;break;default:s=au}n=s.bind(null,e,n,t),s=void 0,!Zo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function co(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Cn(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Mh(function(){var u=i,c=nu(n),h=[];e:{var d=gf.get(t);if(d!==void 0){var p=lu,v=t;switch(t){case"keypress":if(Oi(n)===0)break e;case"keydown":case"keyup":p=Wm;break;case"focusin":v="focus",p=ro;break;case"focusout":v="blur",p=ro;break;case"beforeblur":case"afterblur":p=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ym;break;case df:case hf:case ff:p=Dm;break;case pf:p=Jm;break;case"scroll":p=Rm;break;case"wheel":p=Xm;break;case"copy":case"cut":case"paste":p=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pc}var w=(e&4)!==0,k=!w&&t==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var f=u,y;f!==null;){y=f;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,m!==null&&(_=vs(f,m),_!=null&&w.push(Es(f,_,y)))),k)break;f=f.return}0<w.length&&(d=new p(d,v,null,n,c),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Qo&&(v=n.relatedTarget||n.fromElement)&&(Cn(v)||v[Dt]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Cn(v):null,v!==null&&(k=Fn(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=hc,_="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(w=pc,_="onPointerLeave",m="onPointerEnter",f="pointer"),k=p==null?d:hr(p),y=v==null?d:hr(v),d=new w(_,f+"leave",p,n,c),d.target=k,d.relatedTarget=y,_=null,Cn(c)===u&&(w=new w(m,f+"enter",v,n,c),w.target=y,w.relatedTarget=k,_=w),k=_,p&&v)t:{for(w=p,m=v,f=0,y=w;y;y=Hn(y))f++;for(y=0,_=m;_;_=Hn(_))y++;for(;0<f-y;)w=Hn(w),f--;for(;0<y-f;)m=Hn(m),y--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=Hn(w),m=Hn(m)}w=null}else w=null;p!==null&&Ec(h,d,p,w,!1),v!==null&&k!==null&&Ec(h,k,v,w,!0)}}e:{if(d=u?hr(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=iy;else if(yc(d))if(af)x=uy;else{x=oy;var b=ay}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=ly);if(x&&(x=x(t,u))){sf(h,x,n,c);break e}b&&b(t,d,u),t==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&Ho(d,"number",d.value)}switch(b=u?hr(u):window,t){case"focusin":(yc(b)||b.contentEditable==="true")&&(cr=b,sl=u,ls=null);break;case"focusout":ls=sl=cr=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,kc(h,n,c);break;case"selectionchange":if(hy)break;case"keydown":case"keyup":kc(h,n,c)}var C;if(cu)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ur?nf(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(tf&&n.locale!=="ko"&&(ur||P!=="onCompositionStart"?P==="onCompositionEnd"&&ur&&(C=ef()):(Xt=c,ou="value"in Xt?Xt.value:Xt.textContent,ur=!0)),b=Vi(u,P),0<b.length&&(P=new fc(P,t,null,n,c),h.push({event:P,listeners:b}),C?P.data=C:(C=rf(n),C!==null&&(P.data=C)))),(C=ey?ty(t,n):ny(t,n))&&(u=Vi(u,"onBeforeInput"),0<u.length&&(c=new fc("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}mf(h,e)})}function Es(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vs(t,n),i!=null&&r.unshift(Es(t,i,s)),i=vs(t,e),i!=null&&r.push(Es(t,i,s))),t=t.return}return r}function Hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ec(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=vs(n,i),l!=null&&a.unshift(Es(n,l,o))):s||(l=vs(n,i),l!=null&&a.push(Es(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var my=/\r\n?/g,yy=/\u0000|\uFFFD/g;function Cc(t){return(typeof t=="string"?t:""+t).replace(my,`
`).replace(yy,"")}function li(t,e,n){if(e=Cc(e),Cc(t)!==e&&n)throw Error(T(425))}function qi(){}var al=null,ol=null;function ll(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,vy=typeof clearTimeout=="function"?clearTimeout:void 0,Tc=typeof Promise=="function"?Promise:void 0,wy=typeof queueMicrotask=="function"?queueMicrotask:typeof Tc<"u"?function(t){return Tc.resolve(null).then(t).catch(_y)}:ul;function _y(t){setTimeout(function(){throw t})}function ho(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ss(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ss(e)}function rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Oc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $r=Math.random().toString(36).slice(2),bt="__reactFiber$"+$r,Cs="__reactProps$"+$r,Dt="__reactContainer$"+$r,cl="__reactEvents$"+$r,Sy="__reactListeners$"+$r,ky="__reactHandles$"+$r;function Cn(t){var e=t[bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dt]||n[bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Oc(t);t!==null;){if(n=t[bt])return n;t=Oc(t)}return e}t=n,n=t.parentNode}return null}function Hs(t){return t=t[bt]||t[Dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ka(t){return t[Cs]||null}var dl=[],fr=-1;function fn(t){return{current:t}}function ee(t){0>fr||(t.current=dl[fr],dl[fr]=null,fr--)}function Q(t,e){fr++,dl[fr]=t.current,t.current=e}var cn={},Ne=fn(cn),Me=fn(!1),In=cn;function Or(t,e){var n=t.type.contextTypes;if(!n)return cn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(t){return t=t.childContextTypes,t!=null}function Wi(){ee(Me),ee(Ne)}function Nc(t,e,n){if(Ne.current!==cn)throw Error(T(168));Q(Ne,e),Q(Me,n)}function vf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,am(t)||"Unknown",s));return se({},n,r)}function Hi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cn,In=Ne.current,Q(Ne,t),Q(Me,Me.current),!0}function Pc(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=vf(t,e,In),r.__reactInternalMemoizedMergedChildContext=t,ee(Me),ee(Ne),Q(Ne,t)):ee(Me),Q(Me,n)}var Rt=null,ba=!1,fo=!1;function wf(t){Rt===null?Rt=[t]:Rt.push(t)}function by(t){ba=!0,wf(t)}function pn(){if(!fo&&Rt!==null){fo=!0;var t=0,e=Y;try{var n=Rt;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rt=null,ba=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(t+1)),Vh(ru,pn),s}finally{Y=e,fo=!1}}return null}var pr=[],gr=0,Ki=null,Yi=0,Ze=[],et=0,Ln=null,jt=1,At="";function wn(t,e){pr[gr++]=Yi,pr[gr++]=Ki,Ki=t,Yi=e}function _f(t,e,n){Ze[et++]=jt,Ze[et++]=At,Ze[et++]=Ln,Ln=t;var r=jt;t=At;var s=32-pt(r)-1;r&=~(1<<s),n+=1;var i=32-pt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,jt=1<<32-pt(e)+s|n<<s|r,At=i+t}else jt=1<<i|n<<s|r,At=t}function hu(t){t.return!==null&&(wn(t,1),_f(t,1,0))}function fu(t){for(;t===Ki;)Ki=pr[--gr],pr[gr]=null,Yi=pr[--gr],pr[gr]=null;for(;t===Ln;)Ln=Ze[--et],Ze[et]=null,At=Ze[--et],Ze[et]=null,jt=Ze[--et],Ze[et]=null}var He=null,We=null,te=!1,ft=null;function Sf(t,e){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,He=t,We=rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,He=t,We=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ln!==null?{id:jt,overflow:At}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,He=t,We=null,!0):!1;default:return!1}}function hl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fl(t){if(te){var e=We;if(e){var n=e;if(!Rc(t,e)){if(hl(t))throw Error(T(418));e=rn(n.nextSibling);var r=He;e&&Rc(t,e)?Sf(r,n):(t.flags=t.flags&-4097|2,te=!1,He=t)}}else{if(hl(t))throw Error(T(418));t.flags=t.flags&-4097|2,te=!1,He=t}}}function jc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function ui(t){if(t!==He)return!1;if(!te)return jc(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ll(t.type,t.memoizedProps)),e&&(e=We)){if(hl(t))throw kf(),Error(T(418));for(;e;)Sf(t,e),e=rn(e.nextSibling)}if(jc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){We=rn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}We=null}}else We=He?rn(t.stateNode.nextSibling):null;return!0}function kf(){for(var t=We;t;)t=rn(t.nextSibling)}function Nr(){We=He=null,te=!1}function pu(t){ft===null?ft=[t]:ft.push(t)}var xy=Mt.ReactCurrentBatchConfig;function Hr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function ci(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ac(t){var e=t._init;return e(t._payload)}function bf(t){function e(m,f){if(t){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=ln(m,f),m.index=0,m.sibling=null,m}function i(m,f,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=2,f):y):(m.flags|=2,f)):(m.flags|=1048576,f)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,f,y,_){return f===null||f.tag!==6?(f=_o(y,m.mode,_),f.return=m,f):(f=s(f,y),f.return=m,f)}function l(m,f,y,_){var x=y.type;return x===lr?c(m,f,y.props.children,_,y.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ht&&Ac(x)===f.type)?(_=s(f,y.props),_.ref=Hr(m,f,y),_.return=m,_):(_=Li(y.type,y.key,y.props,null,m.mode,_),_.ref=Hr(m,f,y),_.return=m,_)}function u(m,f,y,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=So(y,m.mode,_),f.return=m,f):(f=s(f,y.children||[]),f.return=m,f)}function c(m,f,y,_,x){return f===null||f.tag!==7?(f=jn(y,m.mode,_,x),f.return=m,f):(f=s(f,y),f.return=m,f)}function h(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=_o(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zs:return y=Li(f.type,f.key,f.props,null,m.mode,y),y.ref=Hr(m,null,f),y.return=m,y;case or:return f=So(f,m.mode,y),f.return=m,f;case Ht:var _=f._init;return h(m,_(f._payload),y)}if(es(f)||zr(f))return f=jn(f,m.mode,y,null),f.return=m,f;ci(m,f)}return null}function d(m,f,y,_){var x=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:o(m,f,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zs:return y.key===x?l(m,f,y,_):null;case or:return y.key===x?u(m,f,y,_):null;case Ht:return x=y._init,d(m,f,x(y._payload),_)}if(es(y)||zr(y))return x!==null?null:c(m,f,y,_,null);ci(m,y)}return null}function p(m,f,y,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(y)||null,o(f,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zs:return m=m.get(_.key===null?y:_.key)||null,l(f,m,_,x);case or:return m=m.get(_.key===null?y:_.key)||null,u(f,m,_,x);case Ht:var b=_._init;return p(m,f,y,b(_._payload),x)}if(es(_)||zr(_))return m=m.get(y)||null,c(f,m,_,x,null);ci(f,_)}return null}function v(m,f,y,_){for(var x=null,b=null,C=f,P=f=0,B=null;C!==null&&P<y.length;P++){C.index>P?(B=C,C=null):B=C.sibling;var z=d(m,C,y[P],_);if(z===null){C===null&&(C=B);break}t&&C&&z.alternate===null&&e(m,C),f=i(z,f,P),b===null?x=z:b.sibling=z,b=z,C=B}if(P===y.length)return n(m,C),te&&wn(m,P),x;if(C===null){for(;P<y.length;P++)C=h(m,y[P],_),C!==null&&(f=i(C,f,P),b===null?x=C:b.sibling=C,b=C);return te&&wn(m,P),x}for(C=r(m,C);P<y.length;P++)B=p(C,m,P,y[P],_),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?P:B.key),f=i(B,f,P),b===null?x=B:b.sibling=B,b=B);return t&&C.forEach(function(fe){return e(m,fe)}),te&&wn(m,P),x}function w(m,f,y,_){var x=zr(y);if(typeof x!="function")throw Error(T(150));if(y=x.call(y),y==null)throw Error(T(151));for(var b=x=null,C=f,P=f=0,B=null,z=y.next();C!==null&&!z.done;P++,z=y.next()){C.index>P?(B=C,C=null):B=C.sibling;var fe=d(m,C,z.value,_);if(fe===null){C===null&&(C=B);break}t&&C&&fe.alternate===null&&e(m,C),f=i(fe,f,P),b===null?x=fe:b.sibling=fe,b=fe,C=B}if(z.done)return n(m,C),te&&wn(m,P),x;if(C===null){for(;!z.done;P++,z=y.next())z=h(m,z.value,_),z!==null&&(f=i(z,f,P),b===null?x=z:b.sibling=z,b=z);return te&&wn(m,P),x}for(C=r(m,C);!z.done;P++,z=y.next())z=p(C,m,P,z.value,_),z!==null&&(t&&z.alternate!==null&&C.delete(z.key===null?P:z.key),f=i(z,f,P),b===null?x=z:b.sibling=z,b=z);return t&&C.forEach(function(at){return e(m,at)}),te&&wn(m,P),x}function k(m,f,y,_){if(typeof y=="object"&&y!==null&&y.type===lr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Zs:e:{for(var x=y.key,b=f;b!==null;){if(b.key===x){if(x=y.type,x===lr){if(b.tag===7){n(m,b.sibling),f=s(b,y.props.children),f.return=m,m=f;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ht&&Ac(x)===b.type){n(m,b.sibling),f=s(b,y.props),f.ref=Hr(m,b,y),f.return=m,m=f;break e}n(m,b);break}else e(m,b);b=b.sibling}y.type===lr?(f=jn(y.props.children,m.mode,_,y.key),f.return=m,m=f):(_=Li(y.type,y.key,y.props,null,m.mode,_),_.ref=Hr(m,f,y),_.return=m,m=_)}return a(m);case or:e:{for(b=y.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),f=s(f,y.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=So(y,m.mode,_),f.return=m,m=f}return a(m);case Ht:return b=y._init,k(m,f,b(y._payload),_)}if(es(y))return v(m,f,y,_);if(zr(y))return w(m,f,y,_);ci(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,y),f.return=m,m=f):(n(m,f),f=_o(y,m.mode,_),f.return=m,m=f),a(m)):n(m,f)}return k}var Pr=bf(!0),xf=bf(!1),Gi=fn(null),Ji=null,mr=null,gu=null;function mu(){gu=mr=Ji=null}function yu(t){var e=Gi.current;ee(Gi),t._currentValue=e}function pl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xr(t,e){Ji=t,gu=mr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ue=!0),t.firstContext=null)}function rt(t){var e=t._currentValue;if(gu!==t)if(t={context:t,memoizedValue:e,next:null},mr===null){if(Ji===null)throw Error(T(308));mr=t,Ji.dependencies={lanes:0,firstContext:t}}else mr=mr.next=t;return e}var Tn=null;function vu(t){Tn===null?Tn=[t]:Tn.push(t)}function Ef(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,vu(e)):(n.next=s.next,s.next=n),e.interleaved=n,$t(t,r)}function $t(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kt=!1;function wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function It(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,$t(t,n)}return s=r.interleaved,s===null?(e.next=e,vu(r)):(e.next=s.next,s.next=e),r.interleaved=e,$t(t,n)}function Ni(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,su(t,n)}}function Ic(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qi(t,e,n,r){var s=t.updateQueue;Kt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,c=u=l=null,o=i;do{var d=o.lane,p=o.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,w=o;switch(d=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(p,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(p,h,d):v,d==null)break e;h=se({},h,d);break e;case 2:Kt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;d=o,o=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);$n|=a,t.lanes=a,t.memoizedState=h}}function Lc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Ks={},Ct=fn(Ks),Ts=fn(Ks),Os=fn(Ks);function On(t){if(t===Ks)throw Error(T(174));return t}function _u(t,e){switch(Q(Os,e),Q(Ts,t),Q(Ct,Ks),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yo(e,t)}ee(Ct),Q(Ct,e)}function Rr(){ee(Ct),ee(Ts),ee(Os)}function Tf(t){On(Os.current);var e=On(Ct.current),n=Yo(e,t.type);e!==n&&(Q(Ts,t),Q(Ct,n))}function Su(t){Ts.current===t&&(ee(Ct),ee(Ts))}var ne=fn(0);function Xi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var po=[];function ku(){for(var t=0;t<po.length;t++)po[t]._workInProgressVersionPrimary=null;po.length=0}var Pi=Mt.ReactCurrentDispatcher,go=Mt.ReactCurrentBatchConfig,Dn=0,re=null,me=null,ve=null,Zi=!1,us=!1,Ns=0,Ey=0;function Ce(){throw Error(T(321))}function bu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mt(t[n],e[n]))return!1;return!0}function xu(t,e,n,r,s,i){if(Dn=i,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pi.current=t===null||t.memoizedState===null?Ny:Py,t=n(r,s),us){i=0;do{if(us=!1,Ns=0,25<=i)throw Error(T(301));i+=1,ve=me=null,e.updateQueue=null,Pi.current=Ry,t=n(r,s)}while(us)}if(Pi.current=ea,e=me!==null&&me.next!==null,Dn=0,ve=me=re=null,Zi=!1,e)throw Error(T(300));return t}function Eu(){var t=Ns!==0;return Ns=0,t}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?re.memoizedState=ve=t:ve=ve.next=t,ve}function st(){if(me===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=ve===null?re.memoizedState:ve.next;if(e!==null)ve=e,me=t;else{if(t===null)throw Error(T(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ve===null?re.memoizedState=ve=t:ve=ve.next=t}return ve}function Ps(t,e){return typeof e=="function"?e(t):e}function mo(t){var e=st(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Dn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,re.lanes|=c,$n|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,mt(r,e.memoizedState)||(Ue=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,re.lanes|=i,$n|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yo(t){var e=st(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);mt(i,e.memoizedState)||(Ue=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Of(){}function Nf(t,e){var n=re,r=st(),s=e(),i=!mt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ue=!0),r=r.queue,Cu(jf.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Rs(9,Rf.bind(null,n,r,s,e),void 0,null),we===null)throw Error(T(349));Dn&30||Pf(n,e,s)}return s}function Pf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rf(t,e,n,r){e.value=n,e.getSnapshot=r,Af(e)&&If(t)}function jf(t,e,n){return n(function(){Af(e)&&If(t)})}function Af(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mt(t,n)}catch{return!0}}function If(t){var e=$t(t,1);e!==null&&gt(e,t,1,-1)}function Dc(t){var e=kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},e.queue=t,t=t.dispatch=Oy.bind(null,re,t),[e.memoizedState,t]}function Rs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lf(){return st().memoizedState}function Ri(t,e,n,r){var s=kt();re.flags|=t,s.memoizedState=Rs(1|e,n,void 0,r===void 0?null:r)}function xa(t,e,n,r){var s=st();r=r===void 0?null:r;var i=void 0;if(me!==null){var a=me.memoizedState;if(i=a.destroy,r!==null&&bu(r,a.deps)){s.memoizedState=Rs(e,n,i,r);return}}re.flags|=t,s.memoizedState=Rs(1|e,n,i,r)}function $c(t,e){return Ri(8390656,8,t,e)}function Cu(t,e){return xa(2048,8,t,e)}function Df(t,e){return xa(4,2,t,e)}function $f(t,e){return xa(4,4,t,e)}function Uf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mf(t,e,n){return n=n!=null?n.concat([t]):null,xa(4,4,Uf.bind(null,e,t),n)}function Tu(){}function Ff(t,e){var n=st();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zf(t,e){var n=st();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bf(t,e,n){return Dn&21?(mt(n,e)||(n=Hh(),re.lanes|=n,$n|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ue=!0),t.memoizedState=n)}function Cy(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=go.transition;go.transition={};try{t(!1),e()}finally{Y=n,go.transition=r}}function Vf(){return st().memoizedState}function Ty(t,e,n){var r=on(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qf(t))Wf(e,n);else if(n=Ef(t,e,n,r),n!==null){var s=Ie();gt(n,t,r,s),Hf(n,e,r)}}function Oy(t,e,n){var r=on(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qf(t))Wf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,mt(o,a)){var l=e.interleaved;l===null?(s.next=s,vu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ef(t,e,s,r),n!==null&&(s=Ie(),gt(n,t,r,s),Hf(n,e,r))}}function qf(t){var e=t.alternate;return t===re||e!==null&&e===re}function Wf(t,e){us=Zi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,su(t,n)}}var ea={readContext:rt,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Ny={readContext:rt,useCallback:function(t,e){return kt().memoizedState=[t,e===void 0?null:e],t},useContext:rt,useEffect:$c,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ri(4194308,4,Uf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ri(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ri(4,2,t,e)},useMemo:function(t,e){var n=kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ty.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=kt();return t={current:t},e.memoizedState=t},useState:Dc,useDebugValue:Tu,useDeferredValue:function(t){return kt().memoizedState=t},useTransition:function(){var t=Dc(!1),e=t[0];return t=Cy.bind(null,t[1]),kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=re,s=kt();if(te){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),we===null)throw Error(T(349));Dn&30||Pf(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$c(jf.bind(null,r,i,t),[t]),r.flags|=2048,Rs(9,Rf.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=kt(),e=we.identifierPrefix;if(te){var n=At,r=jt;n=(r&~(1<<32-pt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ns++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ey++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Py={readContext:rt,useCallback:Ff,useContext:rt,useEffect:Cu,useImperativeHandle:Mf,useInsertionEffect:Df,useLayoutEffect:$f,useMemo:zf,useReducer:mo,useRef:Lf,useState:function(){return mo(Ps)},useDebugValue:Tu,useDeferredValue:function(t){var e=st();return Bf(e,me.memoizedState,t)},useTransition:function(){var t=mo(Ps)[0],e=st().memoizedState;return[t,e]},useMutableSource:Of,useSyncExternalStore:Nf,useId:Vf,unstable_isNewReconciler:!1},Ry={readContext:rt,useCallback:Ff,useContext:rt,useEffect:Cu,useImperativeHandle:Mf,useInsertionEffect:Df,useLayoutEffect:$f,useMemo:zf,useReducer:yo,useRef:Lf,useState:function(){return yo(Ps)},useDebugValue:Tu,useDeferredValue:function(t){var e=st();return me===null?e.memoizedState=t:Bf(e,me.memoizedState,t)},useTransition:function(){var t=yo(Ps)[0],e=st().memoizedState;return[t,e]},useMutableSource:Of,useSyncExternalStore:Nf,useId:Vf,unstable_isNewReconciler:!1};function ut(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ea={isMounted:function(t){return(t=t._reactInternals)?Fn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ie(),s=on(t),i=It(r,s);i.payload=e,n!=null&&(i.callback=n),e=sn(t,i,s),e!==null&&(gt(e,t,s,r),Ni(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ie(),s=on(t),i=It(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=sn(t,i,s),e!==null&&(gt(e,t,s,r),Ni(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ie(),r=on(t),s=It(n,r);s.tag=2,e!=null&&(s.callback=e),e=sn(t,s,r),e!==null&&(gt(e,t,r,n),Ni(e,t,r))}};function Uc(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!bs(n,r)||!bs(s,i):!0}function Kf(t,e,n){var r=!1,s=cn,i=e.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=Fe(e)?In:Ne.current,r=e.contextTypes,i=(r=r!=null)?Or(t,s):cn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ea,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Mc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ea.enqueueReplaceState(e,e.state,null)}function ml(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=Fe(e)?In:Ne.current,s.context=Or(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gl(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ea.enqueueReplaceState(s,s.state,null),Qi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function jr(t,e){try{var n="",r=e;do n+=im(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jy=typeof WeakMap=="function"?WeakMap:Map;function Yf(t,e,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){na||(na=!0,Tl=r),yl(t,e)},n}function Gf(t,e,n){n=It(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){yl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yl(t,e),typeof r!="function"&&(an===null?an=new Set([this]):an.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Fc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jy;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Hy.bind(null,t,e,n),e.then(t,t))}function zc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=It(-1,1),e.tag=2,sn(n,e,1))),n.lanes|=1),t)}var Ay=Mt.ReactCurrentOwner,Ue=!1;function je(t,e,n,r){e.child=t===null?xf(e,null,n,r):Pr(e,t.child,n,r)}function Vc(t,e,n,r,s){n=n.render;var i=e.ref;return xr(e,s),r=xu(t,e,n,r,i,s),n=Eu(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ut(t,e,s)):(te&&n&&hu(e),e.flags|=1,je(t,e,r,s),e.child)}function qc(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Lu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Jf(t,e,i,r,s)):(t=Li(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:bs,n(a,r)&&t.ref===e.ref)return Ut(t,e,s)}return e.flags|=1,t=ln(i,r),t.ref=e.ref,t.return=e,e.child=t}function Jf(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(bs(i,r)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ue=!0);else return e.lanes=t.lanes,Ut(t,e,s)}return vl(t,e,n,r,s)}function Qf(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(vr,Ve),Ve|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(vr,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(vr,Ve),Ve|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Q(vr,Ve),Ve|=r;return je(t,e,s,n),e.child}function Xf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vl(t,e,n,r,s){var i=Fe(n)?In:Ne.current;return i=Or(e,i),xr(e,s),n=xu(t,e,n,r,i,s),r=Eu(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ut(t,e,s)):(te&&r&&hu(e),e.flags|=1,je(t,e,n,s),e.child)}function Wc(t,e,n,r,s){if(Fe(n)){var i=!0;Hi(e)}else i=!1;if(xr(e,s),e.stateNode===null)ji(t,e),Kf(e,n,r),ml(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=Fe(n)?In:Ne.current,u=Or(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Mc(e,a,r,u),Kt=!1;var d=e.memoizedState;a.state=d,Qi(e,r,a,s),l=e.memoizedState,o!==r||d!==l||Me.current||Kt?(typeof c=="function"&&(gl(e,n,c,r),l=e.memoizedState),(o=Kt||Uc(e,n,o,r,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Cf(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ut(e.type,o),a.props=u,h=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=rt(l):(l=Fe(n)?In:Ne.current,l=Or(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&Mc(e,a,r,l),Kt=!1,d=e.memoizedState,a.state=d,Qi(e,r,a,s);var v=e.memoizedState;o!==h||d!==v||Me.current||Kt?(typeof p=="function"&&(gl(e,n,p,r),v=e.memoizedState),(u=Kt||Uc(e,n,u,r,d,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return wl(t,e,n,r,i,s)}function wl(t,e,n,r,s,i){Xf(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Pc(e,n,!1),Ut(t,e,i);r=e.stateNode,Ay.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Pr(e,t.child,null,i),e.child=Pr(e,null,o,i)):je(t,e,o,i),e.memoizedState=r.state,s&&Pc(e,n,!0),e.child}function Zf(t){var e=t.stateNode;e.pendingContext?Nc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nc(t,e.context,!1),_u(t,e.containerInfo)}function Hc(t,e,n,r,s){return Nr(),pu(s),e.flags|=256,je(t,e,n,r),e.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function Sl(t){return{baseLanes:t,cachePool:null,transitions:null}}function ep(t,e,n){var r=e.pendingProps,s=ne.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Q(ne,s&1),t===null)return fl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Oa(a,r,0,null),t=jn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Sl(n),e.memoizedState=_l,t):Ou(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Iy(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ln(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=ln(o,i):(i=jn(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Sl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=_l,r}return i=t.child,t=i.sibling,r=ln(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ou(t,e){return e=Oa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function di(t,e,n,r){return r!==null&&pu(r),Pr(e,t.child,null,n),t=Ou(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Iy(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=vo(Error(T(422))),di(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Oa({mode:"visible",children:r.children},s,0,null),i=jn(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Pr(e,t.child,null,a),e.child.memoizedState=Sl(a),e.memoizedState=_l,i);if(!(e.mode&1))return di(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(T(419)),r=vo(i,r,void 0),di(t,e,a,r)}if(o=(a&t.childLanes)!==0,Ue||o){if(r=we,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$t(t,s),gt(r,t,s,-1))}return Iu(),r=vo(Error(T(421))),di(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ky.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,We=rn(s.nextSibling),He=e,te=!0,ft=null,t!==null&&(Ze[et++]=jt,Ze[et++]=At,Ze[et++]=Ln,jt=t.id,At=t.overflow,Ln=e),e=Ou(e,r.children),e.flags|=4096,e)}function Kc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pl(t.return,e,n)}function wo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function tp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(je(t,e,r.children,n),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kc(t,n,e);else if(t.tag===19)Kc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wo(e,!0,n,null,i);break;case"together":wo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ji(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ut(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$n|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ly(t,e,n){switch(e.tag){case 3:Zf(e),Nr();break;case 5:Tf(e);break;case 1:Fe(e.type)&&Hi(e);break;case 4:_u(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Q(Gi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?ep(t,e,n):(Q(ne,ne.current&1),t=Ut(t,e,n),t!==null?t.sibling:null);Q(ne,ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Qf(t,e,n)}return Ut(t,e,n)}var np,kl,rp,sp;np=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kl=function(){};rp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,On(Ct.current);var i=null;switch(n){case"input":s=qo(t,s),r=qo(t,r),i=[];break;case"select":s=se({},s,{value:void 0}),r=se({},r,{value:void 0}),i=[];break;case"textarea":s=Ko(t,s),r=Ko(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qi)}Go(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ms.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ms.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};sp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kr(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Dy(t,e,n){var r=e.pendingProps;switch(fu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return Fe(e.type)&&Wi(),Te(e),null;case 3:return r=e.stateNode,Rr(),ee(Me),ee(Ne),ku(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ui(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(Pl(ft),ft=null))),kl(t,e),Te(e),null;case 5:Su(e);var s=On(Os.current);if(n=e.type,t!==null&&e.stateNode!=null)rp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return Te(e),null}if(t=On(Ct.current),ui(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[bt]=e,r[Cs]=i,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(s=0;s<ns.length;s++)Z(ns[s],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":nc(r,i),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Z("invalid",r);break;case"textarea":sc(r,i),Z("invalid",r)}Go(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&li(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&li(r.textContent,o,t),s=["children",""+o]):ms.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Z("scroll",r)}switch(n){case"input":ei(r),rc(r,i,!0);break;case"textarea":ei(r),ic(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[bt]=e,t[Cs]=r,np(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jo(n,r),n){case"dialog":Z("cancel",t),Z("close",t),s=r;break;case"iframe":case"object":case"embed":Z("load",t),s=r;break;case"video":case"audio":for(s=0;s<ns.length;s++)Z(ns[s],t);s=r;break;case"source":Z("error",t),s=r;break;case"img":case"image":case"link":Z("error",t),Z("load",t),s=r;break;case"details":Z("toggle",t),s=r;break;case"input":nc(t,r),s=qo(t,r),Z("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=se({},r,{value:void 0}),Z("invalid",t);break;case"textarea":sc(t,r),s=Ko(t,r),Z("invalid",t);break;default:s=r}Go(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Ih(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jh(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ys(t,l):typeof l=="number"&&ys(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ms.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",t):l!=null&&Xl(t,i,l,a))}switch(n){case"input":ei(t),rc(t,r,!1);break;case"textarea":ei(t),ic(t);break;case"option":r.value!=null&&t.setAttribute("value",""+un(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?_r(t,!!r.multiple,i,!1):r.defaultValue!=null&&_r(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)sp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=On(Os.current),On(Ct.current),ui(e)){if(r=e.stateNode,n=e.memoizedProps,r[bt]=e,(i=r.nodeValue!==n)&&(t=He,t!==null))switch(t.tag){case 3:li(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&li(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=e,e.stateNode=r}return Te(e),null;case 13:if(ee(ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&We!==null&&e.mode&1&&!(e.flags&128))kf(),Nr(),e.flags|=98560,i=!1;else if(i=ui(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[bt]=e}else Nr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else ft!==null&&(Pl(ft),ft=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?ye===0&&(ye=3):Iu())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return Rr(),kl(t,e),t===null&&xs(e.stateNode.containerInfo),Te(e),null;case 10:return yu(e.type._context),Te(e),null;case 17:return Fe(e.type)&&Wi(),Te(e),null;case 19:if(ee(ne),i=e.memoizedState,i===null)return Te(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Kr(i,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Xi(t),a!==null){for(e.flags|=128,Kr(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(ne,ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&le()>Ar&&(e.flags|=128,r=!0,Kr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xi(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!te)return Te(e),null}else 2*le()-i.renderingStartTime>Ar&&n!==1073741824&&(e.flags|=128,r=!0,Kr(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=ne.current,Q(ne,r?n&1|2:n&1),e):(Te(e),null);case 22:case 23:return Au(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ve&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function $y(t,e){switch(fu(e),e.tag){case 1:return Fe(e.type)&&Wi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rr(),ee(Me),ee(Ne),ku(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Su(e),null;case 13:if(ee(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Nr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(ne),null;case 4:return Rr(),null;case 10:return yu(e.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var hi=!1,Oe=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,j=null;function yr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(t,e,r)}else n.current=null}function bl(t,e,n){try{n()}catch(r){ae(t,e,r)}}var Yc=!1;function My(t,e){if(al=zi,t=uf(),du(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===s&&(o=a),d===i&&++c===r&&(l=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ol={focusedElem:t,selectionRange:n},zi=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:ut(e.type,w),k);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){ae(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return v=Yc,Yc=!1,v}function cs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bl(e,n,i)}s=s.next}while(s!==r)}}function Ca(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ip(t){var e=t.alternate;e!==null&&(t.alternate=null,ip(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bt],delete e[Cs],delete e[cl],delete e[Sy],delete e[ky])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ap(t){return t.tag===5||t.tag===3||t.tag===4}function Gc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function El(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qi));else if(r!==4&&(t=t.child,t!==null))for(El(t,e,n),t=t.sibling;t!==null;)El(t,e,n),t=t.sibling}function Cl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cl(t,e,n),t=t.sibling;t!==null;)Cl(t,e,n),t=t.sibling}var ke=null,dt=!1;function qt(t,e,n){for(n=n.child;n!==null;)op(t,e,n),n=n.sibling}function op(t,e,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(va,n)}catch{}switch(n.tag){case 5:Oe||yr(n,e);case 6:var r=ke,s=dt;ke=null,qt(t,e,n),ke=r,dt=s,ke!==null&&(dt?(t=ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(dt?(t=ke,n=n.stateNode,t.nodeType===8?ho(t.parentNode,n):t.nodeType===1&&ho(t,n),Ss(t)):ho(ke,n.stateNode));break;case 4:r=ke,s=dt,ke=n.stateNode.containerInfo,dt=!0,qt(t,e,n),ke=r,dt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&bl(n,e,a),s=s.next}while(s!==r)}qt(t,e,n);break;case 1:if(!Oe&&(yr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ae(n,e,o)}qt(t,e,n);break;case 21:qt(t,e,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,qt(t,e,n),Oe=r):qt(t,e,n);break;default:qt(t,e,n)}}function Jc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Uy),e.forEach(function(r){var s=Yy.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ot(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ke=o.stateNode,dt=!1;break e;case 3:ke=o.stateNode.containerInfo,dt=!0;break e;case 4:ke=o.stateNode.containerInfo,dt=!0;break e}o=o.return}if(ke===null)throw Error(T(160));op(i,a,s),ke=null,dt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lp(e,t),e=e.sibling}function lp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ot(e,t),St(t),r&4){try{cs(3,t,t.return),Ca(3,t)}catch(w){ae(t,t.return,w)}try{cs(5,t,t.return)}catch(w){ae(t,t.return,w)}}break;case 1:ot(e,t),St(t),r&512&&n!==null&&yr(n,n.return);break;case 5:if(ot(e,t),St(t),r&512&&n!==null&&yr(n,n.return),t.flags&32){var s=t.stateNode;try{ys(s,"")}catch(w){ae(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Nh(s,i),Jo(o,a);var u=Jo(o,i);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?Ih(s,h):c==="dangerouslySetInnerHTML"?jh(s,h):c==="children"?ys(s,h):Xl(s,c,h,u)}switch(o){case"input":Wo(s,i);break;case"textarea":Ph(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_r(s,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?_r(s,!!i.multiple,i.defaultValue,!0):_r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cs]=i}catch(w){ae(t,t.return,w)}}break;case 6:if(ot(e,t),St(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ae(t,t.return,w)}}break;case 3:if(ot(e,t),St(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ss(e.containerInfo)}catch(w){ae(t,t.return,w)}break;case 4:ot(e,t),St(t);break;case 13:ot(e,t),St(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ru=le())),r&4&&Jc(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Oe=(u=Oe)||c,ot(e,t),Oe=u):ot(e,t),St(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(h=j=c;j!==null;){switch(d=j,p=d.child,d.tag){case 0:case 11:case 14:case 15:cs(4,d,d.return);break;case 1:yr(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ae(r,n,w)}}break;case 5:yr(d,d.return);break;case 22:if(d.memoizedState!==null){Xc(h);continue}}p!==null?(p.return=d,j=p):Xc(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Ah("display",a))}catch(w){ae(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ae(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ot(e,t),St(t),r&4&&Jc(t);break;case 21:break;default:ot(e,t),St(t)}}function St(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ap(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ys(s,""),r.flags&=-33);var i=Gc(t);Cl(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Gc(t);El(t,o,a);break;default:throw Error(T(161))}}catch(l){ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fy(t,e,n){j=t,up(t)}function up(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||hi;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Oe;o=hi;var u=Oe;if(hi=a,(Oe=l)&&!u)for(j=s;j!==null;)a=j,l=a.child,a.tag===22&&a.memoizedState!==null?Zc(s):l!==null?(l.return=a,j=l):Zc(s);for(;i!==null;)j=i,up(i),i=i.sibling;j=s,hi=o,Oe=u}Qc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):Qc(t)}}function Qc(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oe||Ca(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ut(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lc(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lc(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ss(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Oe||e.flags&512&&xl(e)}catch(d){ae(e,e.return,d)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Xc(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Zc(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ca(4,e)}catch(l){ae(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ae(e,s,l)}}var i=e.return;try{xl(e)}catch(l){ae(e,i,l)}break;case 5:var a=e.return;try{xl(e)}catch(l){ae(e,a,l)}}}catch(l){ae(e,e.return,l)}if(e===t){j=null;break}var o=e.sibling;if(o!==null){o.return=e.return,j=o;break}j=e.return}}var zy=Math.ceil,ta=Mt.ReactCurrentDispatcher,Nu=Mt.ReactCurrentOwner,nt=Mt.ReactCurrentBatchConfig,q=0,we=null,he=null,be=0,Ve=0,vr=fn(0),ye=0,js=null,$n=0,Ta=0,Pu=0,ds=null,$e=null,Ru=0,Ar=1/0,Nt=null,na=!1,Tl=null,an=null,fi=!1,Zt=null,ra=0,hs=0,Ol=null,Ai=-1,Ii=0;function Ie(){return q&6?le():Ai!==-1?Ai:Ai=le()}function on(t){return t.mode&1?q&2&&be!==0?be&-be:xy.transition!==null?(Ii===0&&(Ii=Hh()),Ii):(t=Y,t!==0||(t=window.event,t=t===void 0?16:Zh(t.type)),t):1}function gt(t,e,n,r){if(50<hs)throw hs=0,Ol=null,Error(T(185));qs(t,n,r),(!(q&2)||t!==we)&&(t===we&&(!(q&2)&&(Ta|=n),ye===4&&Jt(t,be)),ze(t,r),n===1&&q===0&&!(e.mode&1)&&(Ar=le()+500,ba&&pn()))}function ze(t,e){var n=t.callbackNode;xm(t,e);var r=Fi(t,t===we?be:0);if(r===0)n!==null&&lc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lc(n),e===1)t.tag===0?by(ed.bind(null,t)):wf(ed.bind(null,t)),wy(function(){!(q&6)&&pn()}),n=null;else{switch(Kh(r)){case 1:n=ru;break;case 4:n=qh;break;case 16:n=Mi;break;case 536870912:n=Wh;break;default:n=Mi}n=yp(n,cp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cp(t,e){if(Ai=-1,Ii=0,q&6)throw Error(T(327));var n=t.callbackNode;if(Er()&&t.callbackNode!==n)return null;var r=Fi(t,t===we?be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sa(t,r);else{e=r;var s=q;q|=2;var i=hp();(we!==t||be!==e)&&(Nt=null,Ar=le()+500,Rn(t,e));do try{qy();break}catch(o){dp(t,o)}while(!0);mu(),ta.current=i,q=s,he!==null?e=0:(we=null,be=0,e=ye)}if(e!==0){if(e===2&&(s=tl(t),s!==0&&(r=s,e=Nl(t,s))),e===1)throw n=js,Rn(t,0),Jt(t,r),ze(t,le()),n;if(e===6)Jt(t,r);else{if(s=t.current.alternate,!(r&30)&&!By(s)&&(e=sa(t,r),e===2&&(i=tl(t),i!==0&&(r=i,e=Nl(t,i))),e===1))throw n=js,Rn(t,0),Jt(t,r),ze(t,le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:_n(t,$e,Nt);break;case 3:if(Jt(t,r),(r&130023424)===r&&(e=Ru+500-le(),10<e)){if(Fi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ie(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ul(_n.bind(null,t,$e,Nt),e);break}_n(t,$e,Nt);break;case 4:if(Jt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-pt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zy(r/1960))-r,10<r){t.timeoutHandle=ul(_n.bind(null,t,$e,Nt),r);break}_n(t,$e,Nt);break;case 5:_n(t,$e,Nt);break;default:throw Error(T(329))}}}return ze(t,le()),t.callbackNode===n?cp.bind(null,t):null}function Nl(t,e){var n=ds;return t.current.memoizedState.isDehydrated&&(Rn(t,e).flags|=256),t=sa(t,e),t!==2&&(e=$e,$e=n,e!==null&&Pl(e)),t}function Pl(t){$e===null?$e=t:$e.push.apply($e,t)}function By(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jt(t,e){for(e&=~Pu,e&=~Ta,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pt(e),r=1<<n;t[n]=-1,e&=~r}}function ed(t){if(q&6)throw Error(T(327));Er();var e=Fi(t,0);if(!(e&1))return ze(t,le()),null;var n=sa(t,e);if(t.tag!==0&&n===2){var r=tl(t);r!==0&&(e=r,n=Nl(t,r))}if(n===1)throw n=js,Rn(t,0),Jt(t,e),ze(t,le()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_n(t,$e,Nt),ze(t,le()),null}function ju(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Ar=le()+500,ba&&pn())}}function Un(t){Zt!==null&&Zt.tag===0&&!(q&6)&&Er();var e=q;q|=1;var n=nt.transition,r=Y;try{if(nt.transition=null,Y=1,t)return t()}finally{Y=r,nt.transition=n,q=e,!(q&6)&&pn()}}function Au(){Ve=vr.current,ee(vr)}function Rn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vy(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wi();break;case 3:Rr(),ee(Me),ee(Ne),ku();break;case 5:Su(r);break;case 4:Rr();break;case 13:ee(ne);break;case 19:ee(ne);break;case 10:yu(r.type._context);break;case 22:case 23:Au()}n=n.return}if(we=t,he=t=ln(t.current,null),be=Ve=e,ye=0,js=null,Pu=Ta=$n=0,$e=ds=null,Tn!==null){for(e=0;e<Tn.length;e++)if(n=Tn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Tn=null}return t}function dp(t,e){do{var n=he;try{if(mu(),Pi.current=ea,Zi){for(var r=re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zi=!1}if(Dn=0,ve=me=re=null,us=!1,Ns=0,Nu.current=null,n===null||n.return===null){ye=1,js=e,he=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=be,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=zc(a);if(p!==null){p.flags&=-257,Bc(p,a,o,i,e),p.mode&1&&Fc(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Fc(i,u,e),Iu();break e}l=Error(T(426))}}else if(te&&o.mode&1){var k=zc(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Bc(k,a,o,i,e),pu(jr(l,o));break e}}i=l=jr(l,o),ye!==4&&(ye=2),ds===null?ds=[i]:ds.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Yf(i,l,e);Ic(i,m);break e;case 1:o=l;var f=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(an===null||!an.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Gf(i,o,e);Ic(i,_);break e}}i=i.return}while(i!==null)}pp(n)}catch(x){e=x,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function hp(){var t=ta.current;return ta.current=ea,t===null?ea:t}function Iu(){(ye===0||ye===3||ye===2)&&(ye=4),we===null||!($n&268435455)&&!(Ta&268435455)||Jt(we,be)}function sa(t,e){var n=q;q|=2;var r=hp();(we!==t||be!==e)&&(Nt=null,Rn(t,e));do try{Vy();break}catch(s){dp(t,s)}while(!0);if(mu(),q=n,ta.current=r,he!==null)throw Error(T(261));return we=null,be=0,ye}function Vy(){for(;he!==null;)fp(he)}function qy(){for(;he!==null&&!gm();)fp(he)}function fp(t){var e=mp(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?pp(t):he=e,Nu.current=null}function pp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$y(n,e),n!==null){n.flags&=32767,he=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,he=null;return}}else if(n=Dy(n,e,Ve),n!==null){he=n;return}if(e=e.sibling,e!==null){he=e;return}he=e=t}while(e!==null);ye===0&&(ye=5)}function _n(t,e,n){var r=Y,s=nt.transition;try{nt.transition=null,Y=1,Wy(t,e,n,r)}finally{nt.transition=s,Y=r}return null}function Wy(t,e,n,r){do Er();while(Zt!==null);if(q&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Em(t,i),t===we&&(he=we=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fi||(fi=!0,yp(Mi,function(){return Er(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var a=Y;Y=1;var o=q;q|=4,Nu.current=null,My(t,n),lp(n,t),dy(ol),zi=!!al,ol=al=null,t.current=n,Fy(n),mm(),q=o,Y=a,nt.transition=i}else t.current=n;if(fi&&(fi=!1,Zt=t,ra=s),i=t.pendingLanes,i===0&&(an=null),wm(n.stateNode),ze(t,le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(na)throw na=!1,t=Tl,Tl=null,t;return ra&1&&t.tag!==0&&Er(),i=t.pendingLanes,i&1?t===Ol?hs++:(hs=0,Ol=t):hs=0,pn(),null}function Er(){if(Zt!==null){var t=Kh(ra),e=nt.transition,n=Y;try{if(nt.transition=null,Y=16>t?16:t,Zt===null)var r=!1;else{if(t=Zt,Zt=null,ra=0,q&6)throw Error(T(331));var s=q;for(q|=4,j=t.current;j!==null;){var i=j,a=i.child;if(j.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:cs(8,c,i)}var h=c.child;if(h!==null)h.return=c,j=h;else for(;j!==null;){c=j;var d=c.sibling,p=c.return;if(ip(c),c===u){j=null;break}if(d!==null){d.return=p,j=d;break}j=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}j=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,j=a;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,j=m;break e}j=i.return}}var f=t.current;for(j=f;j!==null;){a=j;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,j=y;else e:for(a=f;j!==null;){if(o=j,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ca(9,o)}}catch(x){ae(o,o.return,x)}if(o===a){j=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,j=_;break e}j=o.return}}if(q=s,pn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(va,t)}catch{}r=!0}return r}finally{Y=n,nt.transition=e}}return!1}function td(t,e,n){e=jr(n,e),e=Yf(t,e,1),t=sn(t,e,1),e=Ie(),t!==null&&(qs(t,1,e),ze(t,e))}function ae(t,e,n){if(t.tag===3)td(t,t,n);else for(;e!==null;){if(e.tag===3){td(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(an===null||!an.has(r))){t=jr(n,t),t=Gf(e,t,1),e=sn(e,t,1),t=Ie(),e!==null&&(qs(e,1,t),ze(e,t));break}}e=e.return}}function Hy(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&n,we===t&&(be&n)===n&&(ye===4||ye===3&&(be&130023424)===be&&500>le()-Ru?Rn(t,0):Pu|=n),ze(t,e)}function gp(t,e){e===0&&(t.mode&1?(e=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):e=1);var n=Ie();t=$t(t,e),t!==null&&(qs(t,e,n),ze(t,n))}function Ky(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gp(t,n)}function Yy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),gp(t,n)}var mp;mp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Me.current)Ue=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ue=!1,Ly(t,e,n);Ue=!!(t.flags&131072)}else Ue=!1,te&&e.flags&1048576&&_f(e,Yi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ji(t,e),t=e.pendingProps;var s=Or(e,Ne.current);xr(e,n),s=xu(null,e,r,t,s,n);var i=Eu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fe(r)?(i=!0,Hi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wu(e),s.updater=Ea,e.stateNode=s,s._reactInternals=e,ml(e,r,t,n),e=wl(null,e,r,!0,i,n)):(e.tag=0,te&&i&&hu(e),je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ji(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Jy(r),t=ut(r,t),s){case 0:e=vl(null,e,r,t,n);break e;case 1:e=Wc(null,e,r,t,n);break e;case 11:e=Vc(null,e,r,t,n);break e;case 14:e=qc(null,e,r,ut(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ut(r,s),vl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ut(r,s),Wc(t,e,r,s,n);case 3:e:{if(Zf(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Cf(t,e),Qi(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=jr(Error(T(423)),e),e=Hc(t,e,r,n,s);break e}else if(r!==s){s=jr(Error(T(424)),e),e=Hc(t,e,r,n,s);break e}else for(We=rn(e.stateNode.containerInfo.firstChild),He=e,te=!0,ft=null,n=xf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===s){e=Ut(t,e,n);break e}je(t,e,r,n)}e=e.child}return e;case 5:return Tf(e),t===null&&fl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,ll(r,s)?a=null:i!==null&&ll(r,i)&&(e.flags|=32),Xf(t,e),je(t,e,a,n),e.child;case 6:return t===null&&fl(e),null;case 13:return ep(t,e,n);case 4:return _u(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pr(e,null,r,n):je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ut(r,s),Vc(t,e,r,s,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Q(Gi,r._currentValue),r._currentValue=a,i!==null)if(mt(i.value,a)){if(i.children===s.children&&!Me.current){e=Ut(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=It(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),pl(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),pl(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xr(e,n),s=rt(s),r=r(s),e.flags|=1,je(t,e,r,n),e.child;case 14:return r=e.type,s=ut(r,e.pendingProps),s=ut(r.type,s),qc(t,e,r,s,n);case 15:return Jf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ut(r,s),ji(t,e),e.tag=1,Fe(r)?(t=!0,Hi(e)):t=!1,xr(e,n),Kf(e,r,s),ml(e,r,s,n),wl(null,e,r,!0,t,n);case 19:return tp(t,e,n);case 22:return Qf(t,e,n)}throw Error(T(156,e.tag))};function yp(t,e){return Vh(t,e)}function Gy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,n,r){return new Gy(t,e,n,r)}function Lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jy(t){if(typeof t=="function")return Lu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eu)return 11;if(t===tu)return 14}return 2}function ln(t,e){var n=t.alternate;return n===null?(n=tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Li(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Lu(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case lr:return jn(n.children,s,i,e);case Zl:a=8,s|=8;break;case Fo:return t=tt(12,n,e,s|2),t.elementType=Fo,t.lanes=i,t;case zo:return t=tt(13,n,e,s),t.elementType=zo,t.lanes=i,t;case Bo:return t=tt(19,n,e,s),t.elementType=Bo,t.lanes=i,t;case Ch:return Oa(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xh:a=10;break e;case Eh:a=9;break e;case eu:a=11;break e;case tu:a=14;break e;case Ht:a=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=tt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function jn(t,e,n,r){return t=tt(7,t,r,e),t.lanes=n,t}function Oa(t,e,n,r){return t=tt(22,t,r,e),t.elementType=Ch,t.lanes=n,t.stateNode={isHidden:!1},t}function _o(t,e,n){return t=tt(6,t,null,e),t.lanes=n,t}function So(t,e,n){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qy(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Du(t,e,n,r,s,i,a,o,l){return t=new Qy(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(i),t}function Xy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vp(t){if(!t)return cn;t=t._reactInternals;e:{if(Fn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(Fe(n))return vf(t,n,e)}return e}function wp(t,e,n,r,s,i,a,o,l){return t=Du(n,r,!0,t,s,i,a,o,l),t.context=vp(null),n=t.current,r=Ie(),s=on(n),i=It(r,s),i.callback=e??null,sn(n,i,s),t.current.lanes=s,qs(t,s,r),ze(t,r),t}function Na(t,e,n,r){var s=e.current,i=Ie(),a=on(s);return n=vp(n),e.context===null?e.context=n:e.pendingContext=n,e=It(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sn(s,e,a),t!==null&&(gt(t,s,a,i),Ni(t,s,a)),a}function ia(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $u(t,e){nd(t,e),(t=t.alternate)&&nd(t,e)}function Zy(){return null}var _p=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uu(t){this._internalRoot=t}Pa.prototype.render=Uu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Na(t,e,null,null)};Pa.prototype.unmount=Uu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Un(function(){Na(null,t,null,null)}),e[Dt]=null}};function Pa(t){this._internalRoot=t}Pa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gt.length&&e!==0&&e<Gt[n].priority;n++);Gt.splice(n,0,t),n===0&&Xh(t)}};function Mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ra(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rd(){}function ev(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ia(a);i.call(u)}}var a=wp(e,r,t,0,null,!1,!1,"",rd);return t._reactRootContainer=a,t[Dt]=a.current,xs(t.nodeType===8?t.parentNode:t),Un(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=ia(l);o.call(u)}}var l=Du(t,0,!1,null,null,!1,!1,"",rd);return t._reactRootContainer=l,t[Dt]=l.current,xs(t.nodeType===8?t.parentNode:t),Un(function(){Na(e,l,n,r)}),l}function ja(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=ia(a);o.call(l)}}Na(e,a,t,s)}else a=ev(n,e,t,s,r);return ia(a)}Yh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ts(e.pendingLanes);n!==0&&(su(e,n|1),ze(e,le()),!(q&6)&&(Ar=le()+500,pn()))}break;case 13:Un(function(){var r=$t(t,1);if(r!==null){var s=Ie();gt(r,t,1,s)}}),$u(t,1)}};iu=function(t){if(t.tag===13){var e=$t(t,134217728);if(e!==null){var n=Ie();gt(e,t,134217728,n)}$u(t,134217728)}};Gh=function(t){if(t.tag===13){var e=on(t),n=$t(t,e);if(n!==null){var r=Ie();gt(n,t,e,r)}$u(t,e)}};Jh=function(){return Y};Qh=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};Xo=function(t,e,n){switch(e){case"input":if(Wo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ka(r);if(!s)throw Error(T(90));Oh(r),Wo(r,s)}}}break;case"textarea":Ph(t,n);break;case"select":e=n.value,e!=null&&_r(t,!!n.multiple,e,!1)}};$h=ju;Uh=Un;var tv={usingClientEntryPoint:!1,Events:[Hs,hr,ka,Lh,Dh,ju]},Yr={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nv={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zh(t),t===null?null:t.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||Zy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{va=pi.inject(nv),Et=pi}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tv;Ye.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mu(e))throw Error(T(200));return Xy(t,e,null,n)};Ye.createRoot=function(t,e){if(!Mu(t))throw Error(T(299));var n=!1,r="",s=_p;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Du(t,1,!1,null,null,n,!1,r,s),t[Dt]=e.current,xs(t.nodeType===8?t.parentNode:t),new Uu(e)};Ye.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=zh(e),t=t===null?null:t.stateNode,t};Ye.flushSync=function(t){return Un(t)};Ye.hydrate=function(t,e,n){if(!Ra(e))throw Error(T(200));return ja(null,t,e,!0,n)};Ye.hydrateRoot=function(t,e,n){if(!Mu(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=_p;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=wp(e,null,t,1,n??null,s,!1,i,a),t[Dt]=e.current,xs(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pa(e)};Ye.render=function(t,e,n){if(!Ra(e))throw Error(T(200));return ja(null,t,e,!1,n)};Ye.unmountComponentAtNode=function(t){if(!Ra(t))throw Error(T(40));return t._reactRootContainer?(Un(function(){ja(null,null,t,!1,function(){t._reactRootContainer=null,t[Dt]=null})}),!0):!1};Ye.unstable_batchedUpdates=ju;Ye.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ra(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ja(t,e,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function Sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sp)}catch(t){console.error(t)}}Sp(),_h.exports=Ye;var rv=_h.exports,sd=rv;Uo.createRoot=sd.createRoot,Uo.hydrateRoot=sd.hydrateRoot;const sv="modulepreload",iv=function(t){return"/"+t},id={},av=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=iv(l),l in id)return;id[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":sv,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((d,p)=>{h.addEventListener("load",d),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function ov(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];An(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const ad={};function Rl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];An(e[0])&&ad[e[0]]||(An(e[0])&&(ad[e[0]]=new Date),ov(...e))}const kp=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},od=(t,e,n)=>{t.loadNamespaces(e,kp(t,n))},ld=(t,e,n,r)=>{An(n)&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,kp(t,r))},lv=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,t)&&(!s||a(i,t)))},uv=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Rl("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):lv(t,e,n)},An=t=>typeof t=="string",cv=t=>typeof t=="object"&&t!==null,dv=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hv={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},fv=t=>hv[t],pv=t=>t.replace(dv,fv);let jl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pv};const gv=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jl={...jl,...t}},mv=()=>jl;let bp;const yv=t=>{bp=t},vv=()=>bp,wv={type:"3rdParty",init(t){gv(t.options.react),yv(t)}},_v=O.createContext();class Sv{constructor(){Gu(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const kv=(t,e)=>{const n=O.useRef();return O.useEffect(()=>{n.current=t},[t,e]),n.current},xp=(t,e,n,r)=>t.getFixedT(e,n,r),bv=(t,e,n,r)=>O.useCallback(xp(t,e,n,r),[t,e,n,r]),zn=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:s}=O.useContext(_v)||{},i=n||r||vv();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Sv),!i){Rl("You will need to pass in an i18next instance by using initReactI18next");const _=(b,C)=>An(C)?C:cv(C)&&An(C.defaultValue)?C.defaultValue:Array.isArray(b)?b[b.length-1]:b,x=[_,{},!1];return x.t=_,x.i18n={},x.ready=!1,x}i.options.react&&i.options.react.wait!==void 0&&Rl("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...mv(),...i.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=s||i.options&&i.options.defaultNS;u=An(u)?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every(_=>uv(_,i,a)),h=bv(i,e.lng||null,a.nsMode==="fallback"?u:u[0],l),d=()=>h,p=()=>xp(i,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[v,w]=O.useState(d);let k=u.join();e.lng&&(k=`${e.lng}${k}`);const m=kv(k),f=O.useRef(!0);O.useEffect(()=>{const{bindI18n:_,bindI18nStore:x}=a;f.current=!0,!c&&!o&&(e.lng?ld(i,e.lng,u,()=>{f.current&&w(p)}):od(i,u,()=>{f.current&&w(p)})),c&&m&&m!==k&&f.current&&w(p);const b=()=>{f.current&&w(p)};return _&&i&&i.on(_,b),x&&i&&i.store.on(x,b),()=>{f.current=!1,_&&i&&_.split(" ").forEach(C=>i.off(C,b)),x&&i&&x.split(" ").forEach(C=>i.store.off(C,b))}},[i,k]),O.useEffect(()=>{f.current&&c&&w(d)},[i,l,c]);const y=[v,i,c];if(y.t=v,y.i18n=i,y.ready=c,c||!c&&!o)return y;throw new Promise(_=>{e.lng?ld(i,e.lng,u,()=>_()):od(i,u,()=>_())})};function Ep(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Ep(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ce(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Ep(t))&&(r&&(r+=" "),r+=e);return r}function Aa(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function xv(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(h){a(h)}}function l(c){try{u(r.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}const Ev=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Fu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Cv extends Fu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ud extends Fu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cd extends Fu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Al;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Al||(Al={}));class Tv{constructor(e,{headers:n={},customFetch:r,region:s=Al.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Ev(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xv(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:h}=r;let d={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(d["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(d["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(d["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let k=c;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),c?(k=a.signal,c.addEventListener("abort",()=>a.abort())):k=a.signal);const m=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:w,signal:k}).catch(x=>{throw new Cv(x)}),f=m.headers.get("x-relay-error");if(f&&f==="true")throw new ud(m);if(!m.ok)throw new cd(m);let y=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield m.json():y==="application/octet-stream"||y==="application/pdf"?_=yield m.blob():y==="text/event-stream"?_=m:y==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(o){return{data:null,error:o,response:o instanceof cd||o instanceof ud?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ov=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Nv=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,d;if(n.method!=="HEAD"){var p;const m=await i.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=m:o=JSON.parse(m))}const w=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&k&&k.length>1&&(l=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new Ov(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const c=i==null?void 0:i.cause;if(c){var h,d,p,v;const m=(h=c==null?void 0:c.message)!==null&&h!==void 0?h:"",f=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";o=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${m}`,f&&(o+=` (${f})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var w;o=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const k=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(l+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Pv=class extends Nv{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const dd=new RegExp("[,()]");var rr=class extends Pv{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&dd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&dd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Rv=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new rr({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new rr({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",c.join(","))}}return new rr({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new rr({method:r,url:s,headers:i,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new rr({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function jv(t,e){if(As(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Av(t){var e=jv(t,"string");return As(e)=="symbol"?e:e+""}function Iv(t,e,n){return(e=Av(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hd(Object(n),!0).forEach(function(r){Iv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Lv=class Cp{constructor(e,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,h=setTimeout(()=>c.abort(),i),d=u==null?void 0:u.signal;if(d){if(d.aborted)return clearTimeout(h),o(l,u);const p=()=>{clearTimeout(h),c.abort()};return d.addEventListener("abort",p,{once:!0}),o(l,gi(gi({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(h),d.removeEventListener("abort",p)})}return o(l,gi(gi({},u),{},{signal:c.signal})).finally(()=>clearTimeout(h))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Rv(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Cp(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(c)),h=r&&Object.values(n).some(c);h?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{l.searchParams.append(p,v)})):(o="POST",u=n);const d=new Headers(this.headers);return h?d.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&d.set("Prefer",`count=${i}`),new rr({method:o,url:l,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class Dv{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $v="2.95.3",Uv=`realtime-js/${$v}`,Mv="1.0.0",Tp="2.0.0",fd=Tp,Il=1e4,Fv=1e3,zv=100;var Yt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yt||(Yt={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ht||(ht={}));var Ll;(function(t){t.websocket="websocket"})(Ll||(Ll={}));var xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xn||(xn={}));class Bv{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+d);let v=new DataView(p),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,o.length),v.setUint8(w++,a.length),v.setUint8(w++,u.length),v.setUint8(w++,h.length),v.setUint8(w++,n),Array.from(l,m=>v.setUint8(w++,m.charCodeAt(0))),Array.from(o,m=>v.setUint8(w++,m.charCodeAt(0))),Array.from(a,m=>v.setUint8(w++,m.charCodeAt(0))),Array.from(u,m=>v.setUint8(w++,m.charCodeAt(0))),Array.from(h,m=>v.setUint8(w++,m.charCodeAt(0)));var k=new Uint8Array(p.byteLength+r.byteLength);return k.set(new Uint8Array(p),0),k.set(new Uint8Array(r),p.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,a,o,l]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+a));l=l+a;const d=e.slice(l,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,v={type:this.BROADCAST_EVENT,event:c,payload:p};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Op{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const pd=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=Vv(a,t,e,s),i),{}):{}},Vv=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Np(i,a):Dl(a)},Np=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Kv(e,n)}switch(t){case J.bool:return qv(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Wv(e);case J.json:case J.jsonb:return Hv(e);case J.timestamp:return Yv(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return Dl(e);default:return Dl(e)}},Dl=t=>t,qv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Wv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Kv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Np(e,o))}return t},Yv=t=>typeof t=="string"?t.replace(" ","T"):t,Pp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ko{constructor(e,n,r={},s=Il){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gd||(gd={}));class fs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=fs.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fs.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const h=i[u];if(h){const d=c.map(k=>k.presence_ref),p=h.map(k=>k.presence_ref),v=c.filter(k=>p.indexOf(k.presence_ref)<0),w=h.filter(k=>d.indexOf(k.presence_ref)<0);v.length>0&&(o[u]=v),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const h=e[o].map(p=>p.presence_ref),d=c.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...d)}r(o,c,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var md;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(md||(md={}));var ps;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ps||(ps={}));var Pt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pt||(Pt={}));class wr{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ko(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Op(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new fs(this),this.broadcastEndpointURL=Pp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ps.PRESENCE]&&this.bindings[ps.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Pt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Pt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Pt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,m=[];for(let f=0;f<k;f++){const y=w[f],{filter:{event:_,schema:x,table:b,filter:C}}=y,P=p&&p[f];if(P&&P.event===_&&wr.isFilterValueEqual(P.schema,x)&&wr.isFilterValueEqual(P.table,b)&&wr.isFilterValueEqual(P.filter,C))m.push(Object.assign(Object.assign({},y),{id:P.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(Pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Pt.SUBSCRIBED);return}}).receive("error",p=>{this.state=pe.errored,e==null||e(Pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===pe.joined&&e===ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ko(this,ht.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ko(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>zv){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=ht;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let d=this._onMessage(a,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,k;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=p.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(p=>p.callback(d,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var v,w,k,m,f,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,x=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const _=(f=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:w,table:k,commit_timestamp:m,type:f,errors:y}=v;d=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:m,eventType:f,new:{},old:{},errors:y}),this._getPayloadRecords(v))}p.callback(d,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&wr.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ht.close,{},e)}_onError(e){this._on(ht.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pd(e.columns,e.old_record)),n}}const bo=()=>{},mi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gv=[1e3,2e3,5e3,1e4],Jv=1e4,Qv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xv{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Il,this.transport=null,this.heartbeatIntervalMs=mi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bo,this.ref=0,this.reconnectTimer=null,this.vsn=fd,this.logger=bo,this.conn=null,this.sendBuffer=[],this.serializer=new Bv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ll.websocket}`,this.httpEndpoint=Pp(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yt.connecting:return xn.Connecting;case Yt.open:return xn.Open;case Yt.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new wr(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Fv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Yt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yt.open||this.conn.readyState===Yt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ht.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Qv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Uv};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ht.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Op(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,o,l,u,c,h,d,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Il,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:mi.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:bo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:fd,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>Gv[v-1]||Jv,this.vsn){case Mv:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,w)=>w(JSON.parse(v));break;case Tp:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Is=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Zv(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function ew(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function tw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=Zv(t.baseUrl,r,s),l=await ew(t.auth),u=await e(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){const p=h?d:void 0,v=p==null?void 0:p.error;throw new Is((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:d}}}}function yi(t){return t.join("")}var nw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:yi(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yi(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yi(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yi(t.namespace)}`}),!0}catch(e){if(e instanceof Is&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Is&&n.status===409)return;throw n}}};function Kn(t){return t.join("")}var rw=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kn(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Is&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Is&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},sw=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=tw({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new nw(this.client,e),this.tableOps=new rw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ia=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function La(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var vi=class extends Ia{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rp=class extends Ia{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const iw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$l=t=>{if(Array.isArray(t))return t.map(n=>$l(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=$l(r)}),e},ow=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function lw(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uw(t){var e=lw(t,"string");return Ls(e)=="symbol"?e:e+""}function cw(t,e,n){return(e=uw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yd(Object(n),!0).forEach(function(r){cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const vd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},dw=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new vi(vd(a),i,o,r))}).catch(()=>{if(r==="vectors"){const a=i+"";e(new vi(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";e(new vi(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";e(new vi(s.statusText||`HTTP ${i} error`,i,a,r))}}else e(new Rp(vd(t),t,r))},hw=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?U(U({},s),n):(aw(r)?(s.headers=U({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),U(U({},s),n))};async function Gr(t,e,n,r,s,i,a){return new Promise((o,l)=>{t(n,hw(e,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>dw(u,l,r,a))})}function jp(t="storage"){return{get:async(e,n,r,s)=>Gr(e,"GET",n,r,s,void 0,t),post:async(e,n,r,s,i)=>Gr(e,"POST",n,s,i,r,t),put:async(e,n,r,s,i)=>Gr(e,"PUT",n,s,i,r,t),head:async(e,n,r,s)=>Gr(e,"HEAD",n,U(U({},r),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,n,r,s,i)=>Gr(e,"DELETE",n,s,i,r,t)}}const fw=jp("storage"),{get:Ds,post:ct,put:Ul,head:pw,remove:zu}=fw,qe=jp("vectors");var Ur=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=iw(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(La(n))return{data:null,error:n};throw n}}},gw=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(La(e))return{data:null,error:e};throw e}}};let Ap;Ap=Symbol.toStringTag;var mw=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ap]="BlobDownloadBuilder",this.promise=null}asStream(){return new gw(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(La(e))return{data:null,error:e};throw e}}};const yw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vw=class extends Ur{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=U(U({},wd),r);let o=U(U({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=U(U({},o),r.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),h=await(t=="PUT"?Ul:ct)(s.fetch,`${s.url}/object/${c}`,i,U({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),s.handleOperation(async()=>{let l;const u=U({upsert:wd.upsert},r),c=U(U({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await Ul(s.fetch,o.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const s=U({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await ct(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new Ia("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await ct(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await ct(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t),i=await ct(r.fetch,`${r.url}/object/sign/${s}`,U({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const s=await ct(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>U(U({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(t,e,n){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(t),o=()=>Ds(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0},n);return new mw(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>$l(await Ds(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await pw(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(La(r)&&r instanceof Rp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await zu(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const s=U(U(U({},yw),e),{},{prefix:t||""});return await ct(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=U({},t);return await ct(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const ww="2.95.3",Ys={"X-Client-Info":`storage-js/${ww}`};var _w=class extends Ur{constructor(t,e={},n,r){const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=U(U({},Ys),e);super(i,a,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Ds(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ds(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await ct(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await Ul(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await ct(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zu(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Sw=class extends Ur{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=U(U({},Ys),e);super(r,s,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ct(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Ds(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zu(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!ow(t))throw new Ia("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new sw({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},kw=class extends Ur{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=U(U({},Ys),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await qe.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await qe.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},bw=class extends Ur{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=U(U({},Ys),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},xw=class extends Ur{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=U(U({},Ys),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await qe.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Ew=class extends xw{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Cw(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Cw=class extends kw{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Tw(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Tw=class extends bw{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,U(U({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Ow=class extends _w{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new vw(this.url,this.headers,t,this.fetch)}get vectors(){return new Ew(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sw(this.url+"/iceberg",this.headers,this.fetch)}};const Ip="2.95.3",sr=30*1e3,Ml=3,xo=Ml*sr,Nw="http://localhost:9999",Pw="supabase.auth.token",Rw={"X-Client-Info":`gotrue-js/${Ip}`},Fl="X-Supabase-Api-Version",Lp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Aw=10*60*1e3;class $s extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Iw extends $s{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Lw(t){return I(t)&&t.name==="AuthApiError"}class En extends $s{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ft extends $s{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Be extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Eo(t){return I(t)&&t.name==="AuthSessionMissingError"}class Yn extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wi extends Ft{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _i extends Ft{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dw(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class _d extends Ft{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $w extends Ft{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class zl extends Ft{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Co(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Sd extends Ft{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Bl extends Ft{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kd=` 	
\r=`.split(""),Uw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kd.length;e+=1)t[kd[e].charCodeAt(0)]=-2;for(let e=0;e<aa.length;e+=1)t[aa[e].charCodeAt(0)]=e;return t})();function bd(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(aa[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(aa[r]),e.queuedBits-=6}}function Dp(t,e,n){const r=Uw[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xd(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{zw(a,r,n)};for(let a=0;a<t.length;a+=1)Dp(t.charCodeAt(a),s,i);return e.join("")}function Mw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Fw(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Mw(r,e)}}function zw(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Cr(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Dp(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Bw(t){const e=[];return Fw(t,n=>e.push(n)),new Uint8Array(e)}function Nn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>bd(s,n,r)),bd(null,n,r),e.join("")}function Vw(t){return Math.round(Date.now()/1e3)+t}function qw(){return Symbol("auth-callback")}const Se=()=>typeof window<"u"&&typeof document<"u",yn={tested:!1,writable:!1},$p=()=>{if(!Se())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yn.tested)return yn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yn.tested=!0,yn.writable=!0}catch{yn.tested=!0,yn.writable=!1}return yn.writable};function Ww(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Up=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Hw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ir=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},vn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_e=async(t,e)=>{await t.removeItem(e)};class Da{constructor(){this.promise=new Da.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Da.promiseConstructor=Promise;function Si(t){const e=t.split(".");if(e.length!==3)throw new Bl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!jw.test(e[r]))throw new Bl("JWT not in base64url format");return{header:JSON.parse(xd(e[0])),payload:JSON.parse(xd(e[1])),signature:Cr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Kw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Yw(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Gw(t){return("0"+t.toString(16)).substr(-2)}function Jw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Gw).join("")}async function Qw(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Xw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Qw(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(t,e,n=!1){const r=Jw();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ir(t,`${e}-code-verifier`,s);const i=await Xw(r);return[i,r===i?"plain":"s256"]}const Zw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e0(t){const e=t.headers.get(Fl);if(!e||!e.match(Zw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function t0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function n0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jn(t){if(!r0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function To(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s0(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Ed(t){return JSON.parse(JSON.stringify(t))}const Sn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i0=[502,503,504];async function Cd(t){var e;if(!Hw(t))throw new zl(Sn(t),0);if(i0.includes(t.status))throw new zl(Sn(t),t.status);let n;try{n=await t.json()}catch(i){throw new En(Sn(i),i)}let r;const s=e0(t);if(s&&s.getTime()>=Lp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sd(Sn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Be}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Sd(Sn(n),t.status,n.weak_password.reasons);throw new Iw(Sn(n),t.status||500,r)}const a0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Fl]||(i[Fl]=Lp["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await o0(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function o0(t,e,n,r,s,i){const a=a0(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new zl(Sn(l),0)}if(o.ok||await Cd(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Cd(l)}}function lt(t){var e;let n=null;c0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Vw(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Td(t){const e=lt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function l0(t){return{data:t,error:null}}function u0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=Aa(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Od(t){return t}function c0(t){return t.access_token&&t.refresh_token&&t.expires_in}const Oo=["global","local","others"];class d0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Up(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Oo[0]){if(Oo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oo.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Aa(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:u0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Od});if(c.error)throw c.error;const h=await c.json(),d=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Jn(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Jn(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Jn(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Jn(e.userId);try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Jn(e.userId),Jn(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Od});if(c.error)throw c.error;const h=await c.json(),d=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}}function Nd(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Qn={debug:!!(globalThis&&$p()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class h0 extends Mp{}async function f0(t,e,n){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new h0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function p0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function g0(t){return parseInt(t,16)}function m0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function y0(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:h,version:d}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Fp(t.address),v=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",k=`${v} wants you to sign in with your Ethereum account:
${p}

${w}`;let m=`URI: ${h}
Version: ${d}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),o&&(m+=`
Not Before: ${o.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);f+=`
- ${y}`}m+=f}return`${k}
${m}`}class de extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class oa extends de{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function v0({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new de({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new de({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new de({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new de({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new de({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new de({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new de({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new de({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(zp(a)){if(i.rp.id!==a)return new de({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new de({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new de({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new de({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new de({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function w0({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new de({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new de({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(zp(r)){if(n.rpId!==r)return new de({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new de({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new de({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new de({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class _0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const S0=new _0;function k0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Aa(t,["challenge","user","excludeCredentials"]),i=Cr(e).buffer,a=Object.assign(Object.assign({},n),{id:Cr(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Cr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function b0(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Aa(t,["challenge","allowCredentials"]),s=Cr(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Cr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function x0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function E0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nn(new Uint8Array(s.authenticatorData)),clientDataJSON:Nn(new Uint8Array(s.clientDataJSON)),signature:Nn(new Uint8Array(s.signature)),userHandle:s.userHandle?Nn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Pd(){var t,e;return!!(Se()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function C0(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new oa("Browser returned unexpected credential type",e)}:{data:null,error:new oa("Empty credential response",e)}}catch(e){return{data:null,error:v0({error:e,options:t})}}}async function T0(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new oa("Browser returned unexpected credential type",e)}:{data:null,error:new oa("Empty credential response",e)}}catch(e){return{data:null,error:w0({error:e,options:t})}}}const O0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},N0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function la(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const o=r[i];e(o)?r[i]=la(o,a):r[i]=la(a)}else r[i]=a}return r}function P0(t,e){return la(O0,t,e||{})}function R0(t,e){return la(N0,t,e||{})}class j0{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const u=s??S0.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;if(!c.name){const h=r;if(h)c.name=`${c.id}:${h}`;else{const p=(await this.client.getUser()).data.user,v=((a=p==null?void 0:p.user_metadata)===null||a===void 0?void 0:a.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=P0(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:d}=await C0({publicKey:c,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const c=R0(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:d}=await T0(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new En("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new $s("rpId is required for WebAuthn authentication")};try{if(!Pd())return{data:null,error:new En("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new En("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new $s("rpId is required for WebAuthn registration")};try{if(!Pd())return{data:null,error:new En("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new En("Unexpected error in register",a)}}}}p0();const A0={url:Nw,storageKey:Pw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Rd(t,e,n){return await n()}const Xn={};class Us{get jwks(){var e,n;return(n=(e=Xn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Xn[this.storageKey]=Object.assign(Object.assign({},Xn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Xn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xn[this.storageKey]=Object.assign(Object.assign({},Xn[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},A0),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Us.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Us.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Se()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new d0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Up(i.fetch),this.lock=i.lock||Rd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Se()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=f0:this.lock=Rd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new j0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:$p()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),Se()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ip}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Se()&&(n=Ww(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Se()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Dw(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?this._returnResult({error:n}):this._returnResult({error:new En("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:lt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Gn(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:v},xform:lt})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:lt})}else throw new wi("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await _e(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Td})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Td})}else throw new wi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Yn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,o,l,u,c,h,d;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:w,wallet:k,statement:m,options:f}=e;let y;if(Se())if(typeof k=="object")y=k;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")y=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=k}const _=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href),x=await y.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Fp(x[0]);let C=(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const B=await y.request({method:"eth_chainId"});C=g0(B)}const P={domain:_.host,address:b,statement:m,uri:_.href,version:"1",chainId:C,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=y0(P),v=await y.request({method:"personal_sign",params:[m0(p),b]})}try{const{data:w,error:k}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:lt});if(k)throw k;if(!w||!w.session||!w.user){const m=new Yn;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:k})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,a,o,l,u,c,h,d,p;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:k,wallet:m,statement:f,options:y}=e;let _;if(Se())if(typeof m=="object")_=m;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const x=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),f?{statement:f}:null));let C;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")C=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)C=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:k,error:m}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Nn(w)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:lt});if(m)throw m;if(!k||!k.session||!k.user){const f=new Yn;return this._returnResult({data:{user:null,session:null},error:f})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:m})}catch(k){if(I(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await vn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new $w;const{data:i,error:a}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:lt});if(await _e(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Yn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Yn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Gn(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new wi("You must provide either an email or phone number.")}catch(o){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:lt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Gn(this.storage,this.storageKey));const u=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:l0});return!((i=u.data)===null||i===void 0)&&i.url&&Se()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Be;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new wi("You must provide either an email or phone number and a type")}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<xo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await vn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=To()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=s0(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qt}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Be}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Qt})})}catch(n){if(I(n))return Eo(n)&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Be;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Gn(this.storage,this.storageKey));const{data:u,error:c}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Qt});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Be;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Si(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Be;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Se())throw new _i("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _i(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _d("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _i("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _d("No code detected.");const{data:f,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new _i("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(o);let d=c+h;l&&(d=parseInt(l));const p=d-c;p*1e3<=sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=d-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await vn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Eo(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Lw(o)&&(o.status===404||o.status===401||o.status===403)||Eo(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=qw(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gn(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:h,error:d}=i;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Se()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(I(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=e,h=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lt}),{data:d,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Yn}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:p}))}catch(s){if(await _e(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Yw(async s=>(s>0&&await Kw(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Co(i)&&Date.now()+a-r<sr})}catch(r){if(this._debug(n,"error",r),I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Se()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await vn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ir(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:To()}else if(s&&!s.user&&!s.user){const a=await vn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await _e(this.storage,this.storageKey+"-user"),await ir(this.storage,this.storageKey,s)):s.user=To()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<xo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${xo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Co(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Da;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Be;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),I(i)){const a={data:null,error:i};return Co(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _e(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ir(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Ed(s);await ir(this.storage,this.storageKey,i)}else{const s=Ed(n);await ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _e(this.storage,this.storageKey),await _e(this.storage,this.storageKey+"-code-verifier"),await _e(this.storage,this.storageKey+"-user"),this.userStorage&&await _e(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Se()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sr}ms, refresh threshold is ${Ml} ticks`),s<=Ml&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Se()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Gn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?x0(e.webauthn.credential_response):E0(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:k0(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:b0(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,s,i;if(e)try{const{payload:p}=Si(e);let v=null;p.aal&&(v=p.aal);let w=v;const{data:{user:k},error:m}=await this.getUser(e);if(m)return this._returnResult({data:null,error:m});((r=(n=k==null?void 0:k.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const y=p.amr||[];return{data:{currentLevel:v,nextLevel:w,currentAuthenticationMethods:y},error:null}}catch(p){if(I(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Si(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Be})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Be});const a=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Se()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Be});const a=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Se()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Be})})}catch(e){if(I(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Be})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Aw>s)return r;const{data:i,error:a}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Si(r);n!=null&&n.allowExpired||t0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const c=n0(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,Bw(`${o}.${l}`)))throw new Bl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}}Us.nextInstanceID={};const I0=Us,L0="2.95.3";let rs="";typeof Deno<"u"?rs="deno":typeof document<"u"?rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rs="react-native":rs="node";const D0={"X-Client-Info":`supabase-js-${rs}/${L0}`},$0={headers:D0},U0={schema:"public"},M0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F0={};function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function z0(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0(t){var e=z0(t,"string");return Ms(e)=="symbol"?e:e+""}function V0(t,e,n){return(e=B0(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jd(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const q0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W0=()=>Headers,H0=(t,e,n)=>{const r=q0(n),s=W0();return async(i,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,ie(ie({},a),{},{headers:u}))}};function K0(t){return t.endsWith("/")?t:t+"/"}function Y0(t,e){var n,r;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:ie(ie({},l),s),auth:ie(ie({},u),i),realtime:ie(ie({},c),a),storage:{},global:ie(ie(ie({},h),o),{},{headers:ie(ie({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function G0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(K0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var J0=class extends I0{constructor(t){super(t)}},Q0=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=G0(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:U0,realtime:F0,auth:ie(ie({},M0),{},{storageKey:a}),global:$0},l=Y0(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=H0(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Lv(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Ow(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Tv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new J0({url:this.authUrl.href,headers:ie(ie({},d),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Xv(this.realtimeUrl.href,ie(ie({},t),{},{params:ie(ie({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const X0=(t,e,n)=>new Q0(t,e,n);function Z0(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Z0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e_="https://ysswamnkarliovhfoczj.supabase.co",t_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlzc3dhbW5rYXJsaW92aGZvY3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2NjQwNzUsImV4cCI6MjA4NjI0MDA3NX0.gSoDBZ_oMczmZnHkHN4n0v_NUCUPkWj5I-ajUX81Wzs",Ee=X0(e_,t_),Vl="schedule-sync-admin-password";function Bp(){try{return localStorage.getItem(Vl)}catch{return null}}function Fs(t){try{t?localStorage.setItem(Vl,t):localStorage.removeItem(Vl)}catch{}}function Tt(){const t=Bp();if(!t)throw new Error("Admin session not found. Login required.");return t}async function n_(){const{data:t,error:e}=await Ee.from("schedule_configs").select("*").eq("id",1).single();if(e){if(e.code==="PGRST116")return null;throw e}return t}async function r_(){const{data:t,error:e}=await Ee.from("schedule_profiles").select("*").order("created_at",{ascending:!0});if(e)throw e;return t??[]}async function s_(t){const{data:e,error:n}=await Ee.from("schedule_profiles").select("*").eq("slug",t).maybeSingle();if(n)throw n;return e??null}async function i_(){const t=Tt(),{data:e,error:n}=await Ee.rpc("admin_get_profiles",{input_password:t});if(n)throw n;return e??[]}async function a_(t){const e=Tt(),{data:n,error:r}=await Ee.rpc("admin_upsert_profile",{input_password:e,payload:t});if(r)throw r;return n}async function o_(t){const e=Tt(),{error:n}=await Ee.rpc("admin_delete_profile",{input_password:e,p_profile_id:t});if(n)throw n}async function l_(t){const{data:e,error:n}=await Ee.from("slots").select("*").eq("profile_id",t).order("slot_date",{ascending:!0,nullsFirst:!1}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(n)throw n;return e??[]}async function u_(t){const e=Tt(),{data:n,error:r}=await Ee.rpc("admin_get_slots",{input_password:e,p_profile_id:t});if(r)throw r;return n??[]}async function c_(t){const e=Tt(),{data:n,error:r}=await Ee.rpc("admin_upsert_slot",{input_password:e,payload:t});if(r)throw r;return n}async function d_(t){const e=Tt(),{error:n}=await Ee.rpc("admin_delete_slot",{input_password:e,p_id:t});if(n)throw n}async function Vp(t){const{data:e,error:n}=await Ee.rpc("verify_admin_password",{input_password:t});if(n)throw n;const r=e===!0;return r&&Fs(t),r}async function h_(){const t=Bp();if(!t)return!1;try{const e=await Vp(t);return e||Fs(null),e}catch{return Fs(null),!1}}function f_(){Fs(null)}async function p_(t,e){const{data:n,error:r}=await Ee.rpc("admin_change_password",{input_password:t,new_password:e});if(r)throw r;const s=n===!0;return s&&Fs(e),s}async function g_(t){const{data:e,error:n}=await Ee.rpc("submit_slot_request",{p_slot_id:t.slotId,p_student_name:t.studentName,p_student_contact:t.studentContact,p_student_class:t.studentClass,p_student_note:t.studentNote});if(n)throw n;return e}async function m_(){const t=Tt(),{data:e,error:n}=await Ee.rpc("admin_get_slot_requests",{input_password:t});if(n)throw n;return e??[]}async function y_(t){const e=Tt(),{data:n,error:r}=await Ee.rpc("admin_review_slot_request",{input_password:e,p_request_id:t.requestId,p_status:t.status,p_admin_note:t.adminNote});if(r)throw r;return n}async function v_(t){const e=Tt(),{data:n,error:r}=await Ee.rpc("admin_update_slot_request",{input_password:e,p_request_id:t.requestId,p_student_name:t.studentName,p_student_contact:t.studentContact,p_student_class:t.studentClass,p_student_note:t.studentNote});if(r)throw r;return n}async function w_(t){const e=Tt(),{error:n}=await Ee.rpc("admin_delete_slot_request",{input_password:e,p_request_id:t});if(n)throw n}const X={getConfig:n_,getPublicProfiles:r_,getPublicProfileBySlug:s_,getAdminProfiles:i_,saveProfile:a_,deleteProfile:o_,getPublicSlots:l_,getAdminSlotsForProfile:u_,saveSlot:c_,deleteSlot:d_,loginAdmin:Vp,restoreAdminSession:h_,logoutAdmin:f_,changeAdminPassword:p_,submitSlotRequest:g_,getAdminSlotRequests:m_,reviewSlotRequest:y_,updateSlotRequest:v_,deleteSlotRequest:w_};function it(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function dn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function qp(t,e){const n=it(t);return isNaN(e)?dn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const Wp=6048e5,__=864e5;let S_={};function Gs(){return S_}function Ir(t,e){var o,l,u,c;const n=Gs(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=it(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function ua(t){return Ir(t,{weekStartsOn:1})}function Hp(t){const e=it(t),n=e.getFullYear(),r=dn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ua(r),i=dn(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=ua(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Ad(t){const e=it(t);return e.setHours(0,0,0,0),e}function Id(t){const e=it(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function k_(t,e){const n=Ad(t),r=Ad(e),s=+n-Id(n),i=+r-Id(r);return Math.round((s-i)/__)}function b_(t){const e=Hp(t),n=dn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ua(n)}function x_(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function E_(t){if(!x_(t)&&typeof t!="number")return!1;const e=it(t);return!isNaN(Number(e))}function C_(t){const e=it(t),n=dn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const T_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O_=(t,e,n)=>{let r;const s=T_[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function No(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const N_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j_={date:No({formats:N_,defaultWidth:"full"}),time:No({formats:P_,defaultWidth:"full"}),dateTime:No({formats:R_,defaultWidth:"full"})},A_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I_=(t,e,n,r)=>A_[t];function Jr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const L_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},D_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},z_=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},B_={ordinalNumber:z_,era:Jr({values:L_,defaultWidth:"wide"}),quarter:Jr({values:D_,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jr({values:$_,defaultWidth:"wide"}),day:Jr({values:U_,defaultWidth:"wide"}),dayPeriod:Jr({values:M_,defaultWidth:"wide",formattingValues:F_,defaultFormattingWidth:"wide"})};function Qr(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?q_(o,h=>h.test(a)):V_(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function V_(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function q_(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function W_(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const H_=/^(\d+)(th|st|nd|rd)?/i,K_=/\d+/i,Y_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G_={any:[/^b/i,/^(a|c)/i]},J_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q_={any:[/1/i,/2/i,/3/i,/4/i]},X_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sS={ordinalNumber:W_({matchPattern:H_,parsePattern:K_,valueCallback:t=>parseInt(t,10)}),era:Qr({matchPatterns:Y_,defaultMatchWidth:"wide",parsePatterns:G_,defaultParseWidth:"any"}),quarter:Qr({matchPatterns:J_,defaultMatchWidth:"wide",parsePatterns:Q_,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qr({matchPatterns:X_,defaultMatchWidth:"wide",parsePatterns:Z_,defaultParseWidth:"any"}),day:Qr({matchPatterns:eS,defaultMatchWidth:"wide",parsePatterns:tS,defaultParseWidth:"any"}),dayPeriod:Qr({matchPatterns:nS,defaultMatchWidth:"any",parsePatterns:rS,defaultParseWidth:"any"})},iS={code:"en-US",formatDistance:O_,formatLong:j_,formatRelative:I_,localize:B_,match:sS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aS(t){const e=it(t);return k_(e,C_(e))+1}function oS(t){const e=it(t),n=+ua(e)-+b_(e);return Math.round(n/Wp)+1}function Kp(t,e){var c,h,d,p;const n=it(t),r=n.getFullYear(),s=Gs(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(d=s.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=dn(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Ir(a,e),l=dn(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Ir(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function lS(t,e){var o,l,u,c;const n=Gs(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=Kp(t,e),i=dn(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ir(i,e)}function uS(t,e){const n=it(t),r=+Ir(n,e)-+lS(n,e);return Math.round(r/Wp)+1}function K(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Wt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return K(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):K(n+1,2)},d(t,e){return K(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return K(t.getHours()%12||12,e.length)},H(t,e){return K(t.getHours(),e.length)},m(t,e){return K(t.getMinutes(),e.length)},s(t,e){return K(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return K(s,e.length)}},Zn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ld={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Wt.y(t,e)},Y:function(t,e,n,r){const s=Kp(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return K(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):K(i,e.length)},R:function(t,e){const n=Hp(t);return K(n,e.length)},u:function(t,e){const n=t.getFullYear();return K(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return K(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return K(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Wt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return K(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=uS(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):K(s,e.length)},I:function(t,e,n){const r=oS(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):K(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wt.d(t,e)},D:function(t,e,n){const r=aS(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):K(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return K(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return K(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return K(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Zn.noon:r===0?s=Zn.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Zn.evening:r>=12?s=Zn.afternoon:r>=4?s=Zn.morning:s=Zn.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Wt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):K(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):K(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wt.s(t,e)},S:function(t,e){return Wt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $d(r);case"XXXX":case"XX":return kn(r);case"XXXXX":case"XXX":default:return kn(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $d(r);case"xxxx":case"xx":return kn(r);case"xxxxx":case"xxx":default:return kn(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Dd(r,":");case"OOOO":default:return"GMT"+kn(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Dd(r,":");case"zzzz":default:return"GMT"+kn(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return K(r,e.length)},T:function(t,e,n){const r=t.getTime();return K(r,e.length)}};function Dd(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+K(i,2)}function $d(t,e){return t%60===0?(t>0?"-":"+")+K(Math.abs(t)/60,2):kn(t,e)}function kn(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=K(Math.trunc(r/60),2),i=K(r%60,2);return n+s+e+i}const Ud=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Yp=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cS=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Ud(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Ud(r,e)).replace("{{time}}",Yp(s,e))},dS={p:Yp,P:cS},hS=/^D+$/,fS=/^Y+$/,pS=["D","DD","YY","YYYY"];function gS(t){return hS.test(t)}function mS(t){return fS.test(t)}function yS(t,e,n){const r=vS(t,e,n);if(console.warn(r),pS.includes(t))throw new RangeError(r)}function vS(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_S=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SS=/^'([^]*?)'?$/,kS=/''/g,bS=/[a-zA-Z]/;function bn(t,e,n){var c,h,d,p,v,w,k,m;const r=Gs(),s=(n==null?void 0:n.locale)??r.locale??iS,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((w=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((m=(k=r.locale)==null?void 0:k.options)==null?void 0:m.weekStartsOn)??0,o=it(t);if(!E_(o))throw new RangeError("Invalid time value");let l=e.match(_S).map(f=>{const y=f[0];if(y==="p"||y==="P"){const _=dS[y];return _(f,s.formatLong)}return f}).join("").match(wS).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const y=f[0];if(y==="'")return{isToken:!1,value:xS(f)};if(Ld[y])return{isToken:!0,value:f};if(y.match(bS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:f}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(f=>{if(!f.isToken)return f.value;const y=f.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&mS(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&gS(y))&&yS(y,e,String(t));const _=Ld[y[0]];return _(o,y,s.localize,u)}).join("")}function xS(t){const e=t.match(SS);return e?e[1].replace(kS,"'"):t}function ES(){return Object.assign({},Gs())}function Md(t,e,n){const r=ES(),s=OS(t,n.timeZone,n.locale??r.locale);return"formatToParts"in s?CS(s,e):TS(s,e)}function CS(t,e){const n=t.formatToParts(e);for(let r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function TS(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function OS(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function NS(t,e){const n=IS(e);return"formatToParts"in n?RS(n,t):jS(n,t)}const PS={year:0,month:1,day:2,hour:3,minute:4,second:5};function RS(t,e){try{const n=t.formatToParts(e),r=[];for(let s=0;s<n.length;s++){const i=PS[n[s].type];i!==void 0&&(r[i]=parseInt(n[s].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function jS(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const Po={},Fd=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),AS=Fd==="06/25/2014, 00:00:00"||Fd==="06/25/2014 00:00:00";function IS(t){return Po[t]||(Po[t]=AS?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Po[t]}function Bu(t,e,n,r,s,i,a){const o=new Date(0);return o.setUTCFullYear(t,e,n),o.setUTCHours(r,s,i,a),o}const zd=36e5,LS=6e4,Ro={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function $a(t,e,n){if(!t)return 0;let r=Ro.timezoneZ.exec(t);if(r)return 0;let s,i;if(r=Ro.timezoneHH.exec(t),r)return s=parseInt(r[1],10),Bd(s)?-(s*zd):NaN;if(r=Ro.timezoneHHMM.exec(t),r){s=parseInt(r[2],10);const a=parseInt(r[3],10);return Bd(s,a)?(i=Math.abs(s)*zd+a*LS,r[1]==="+"?-i:i):NaN}if(US(t)){e=new Date(e||Date.now());const a=n?e:DS(e),o=ql(a,t);return-(n?o:$S(e,o,t))}return NaN}function DS(t){return Bu(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function ql(t,e){const n=NS(t,e),r=Bu(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let s=t.getTime();const i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function $S(t,e,n){let s=t.getTime()-e;const i=ql(new Date(s),n);if(e===i)return e;s-=i-e;const a=ql(new Date(s),n);return i===a?i:Math.max(i,a)}function Bd(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const Vd={};function US(t){if(Vd[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Vd[t]=!0,!0}catch{return!1}}const MS=60*1e3,FS={X:function(t,e,n){const r=jo(n.timeZone,t);if(r===0)return"Z";switch(e){case"X":return qd(r);case"XXXX":case"XX":return ar(r);case"XXXXX":case"XXX":default:return ar(r,":")}},x:function(t,e,n){const r=jo(n.timeZone,t);switch(e){case"x":return qd(r);case"xxxx":case"xx":return ar(r);case"xxxxx":case"xxx":default:return ar(r,":")}},O:function(t,e,n){const r=jo(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+zS(r,":");case"OOOO":default:return"GMT"+ar(r,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return Md("short",t,n);case"zzzz":default:return Md("long",t,n)}}};function jo(t,e){const n=t?$a(t,e,!0)/MS:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function ca(t,e){const n=t<0?"-":"";let r=Math.abs(t).toString();for(;r.length<e;)r="0"+r;return n+r}function ar(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ca(Math.floor(r/60),2),i=ca(Math.floor(r%60),2);return n+s+e+i}function qd(t,e){return t%60===0?(t>0?"-":"+")+ca(Math.abs(t)/60,2):ar(t,e)}function zS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ca(i,2)}function Wd(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Gp=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Ao=36e5,Hd=6e4,BS=2,Ae={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Gp};function da(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?BS:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=VS(t),{year:s,restDateString:i}=qS(r.date,n),a=WS(i,s);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const o=a.getTime();let l=0,u;if(r.time&&(l=HS(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(u=$a(r.timeZone||e.timeZone,new Date(o+l)),isNaN(u))return new Date(NaN)}else u=Wd(new Date(o+l)),u=Wd(new Date(o+l+u));return new Date(o+l+u)}else return new Date(NaN)}function VS(t){const e={};let n=Ae.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Ae.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const s=Ae.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function qS(t,e){if(t){const n=Ae.YYY[e],r=Ae.YYYYY[e];let s=Ae.YYYY.exec(t)||r.exec(t);if(s){const i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=Ae.YY.exec(t)||n.exec(t),s){const i=s[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function WS(t,e){if(e===null)return null;let n,r,s;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=Ae.MM.exec(t);if(i)return n=new Date(0),r=parseInt(i[1],10)-1,Yd(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(i=Ae.DDD.exec(t),i){n=new Date(0);const a=parseInt(i[1],10);return GS(e,a)?(n.setUTCFullYear(e,0,a),n):new Date(NaN)}if(i=Ae.MMDD.exec(t),i){n=new Date(0),r=parseInt(i[1],10)-1;const a=parseInt(i[2],10);return Yd(e,r,a)?(n.setUTCFullYear(e,r,a),n):new Date(NaN)}if(i=Ae.Www.exec(t),i)return s=parseInt(i[1],10)-1,Gd(s)?Kd(e,s):new Date(NaN);if(i=Ae.WwwD.exec(t),i){s=parseInt(i[1],10)-1;const a=parseInt(i[2],10)-1;return Gd(s,a)?Kd(e,s,a):new Date(NaN)}return null}function HS(t){let e,n,r=Ae.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),Io(e)?e%24*Ao:NaN;if(r=Ae.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),Io(e,n)?e%24*Ao+n*Hd:NaN;if(r=Ae.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const s=parseFloat(r[3].replace(",","."));return Io(e,n,s)?e%24*Ao+n*Hd+s*1e3:NaN}return null}function Kd(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const KS=[31,28,31,30,31,30,31,31,30,31,30,31],YS=[31,29,31,30,31,30,31,31,30,31,30,31];function Jp(t){return t%400===0||t%4===0&&t%100!==0}function Yd(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=Jp(t);if(r&&n>YS[e]||!r&&n>KS[e])return!1}return!0}function GS(t,e){if(e<1)return!1;const n=Jp(t);return!(n&&e>366||!n&&e>365)}function Gd(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function Io(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const JS=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function QS(t,e,n={}){e=String(e);const r=e.match(JS);if(r){const s=da(n.originalDate||t,n);e=r.reduce(function(i,a){if(a[0]==="'")return i;const o=i.indexOf(a),l=i[o-1]==="'",u=i.replace(a,"'"+FS[a[0]](s,a,n)+"'");return l?u.substring(0,o-1)+u.substring(o+1):u},e)}return bn(t,e,n)}function ha(t,e,n){t=da(t,n);const r=$a(e,t,!0),s=new Date(t.getTime()-r),i=new Date(0);return i.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),i.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),i}function Pn(t,e,n,r){return r={...r,timeZone:e,originalDate:t},QS(ha(t,e,{timeZone:r.timeZone}),n,r)}function Jd(t,e,n){if(typeof t=="string"&&!t.match(Gp))return da(t,{...n,timeZone:e});t=da(t,n);const r=Bu(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).getTime(),s=$a(e,new Date(r));return new Date(r+s)}const XS=1;function Qp(t){const n=ha(new Date,t);return Ir(n,{weekStartsOn:XS})}function ZS(t,e,n){if(t==="calendar"){const u=Pn(new Date,e,"LLLL yyyy");return n==="ro"?`Calendar: ${u}`:n==="ru"?`: ${u}`:`Calendar: ${u}`}const r=Qp(e),s=qp(r,6),i="d MMM",a=Pn(r,e,i),o=Pn(s,e,i);return n==="ro"?`Sptmna: ${a}${o}`:n==="ru"?`: ${a}${o}`:`Week: ${a}${o}`}function ek(t,e,n){let r,s,i;if(t.slot_date){const c=new Date(`${t.slot_date}T00:00:00`);r=bn(c,"yyyy"),s=bn(c,"MM"),i=bn(c,"dd")}else{const c=Qp(n),h=t.day_of_week===0?6:t.day_of_week-1,d=qp(c,h);r=bn(d,"yyyy"),s=bn(d,"MM"),i=bn(d,"dd")}const a=`${r}-${s}-${i}T${t.start_time}:00`,o=`${r}-${s}-${i}T${t.end_time}:00`,l=Jd(a,e),u=Jd(o,e);return{start:ha(l,n),end:ha(u,n)}}function zs(t,e,n,r){const{start:s,end:i}=ek(t,e,n),a=t.slot_date?Pn(s,n,"EEE, d MMM yyyy"):Pn(s,n,"EEE, d MMM"),o=Pn(s,n,"HH:mm"),l=Pn(i,n,"HH:mm");return{dayLabel:a,range:`${o}${l}`}}function tk(t){const e=t.lang==="ro"?`Bun! A dori s rezerv o sesiune.

${t.title}
${t.weekRangeLabel}`:t.lang==="ru"?`!     .

${t.title}
${t.weekRangeLabel}`:`Hi! I would like to book a session.

${t.title}
${t.weekRangeLabel}`,n=t.slots.length===0?t.lang==="ro"?"- (nimic selectat)":t.lang==="ru"?"- (  )":"- (nothing selected)":t.slots.map(s=>{const i=zs(s,t.configTimezone,t.viewTimezone);return`- ${i.dayLabel} ${i.range}  ${s.label}`}).join(`
`),r=t.lang==="ro"?`

Fus orar: ${t.viewTimezone}`:t.lang==="ru"?`

 : ${t.viewTimezone}`:`

Timezone: ${t.viewTimezone}`;return`${e}

${n}${r}`}function nk(){return Intl.DateTimeFormat().resolvedOptions().timeZone||"Europe/Chisinau"}function er(){const t=new URL(window.location.href),e=t.searchParams.get("lang")??void 0,n=t.searchParams.get("tz")??void 0,r=t.searchParams.get("view")??void 0;return{lang:e,tz:n,view:r}}function rk(t){const e=new URL(window.location.href);e.searchParams.set("lang",t.lang),e.searchParams.set("tz",t.tz),t.view?e.searchParams.set("view",t.view):e.searchParams.delete("view"),window.history.replaceState(window.history.state,"",e.toString())}var ge=(t=>(t.Available="Available",t.FewLeft="FewLeft",t.Full="Full",t.Occupied="Occupied",t.Hidden="Hidden",t))(ge||{});const Xp=[{code:"ro",name:"Romana"},{code:"en",name:"English"},{code:"ru",name:"Russkiy"}],sk={en:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ro:["Lun","Mar","Mie","Joi","Vin","Sam","Dum"],ru:["Pn","Vt","Sr","Cht","Pt","Sb","Vs"]},Qd="schedule-sync-lang";function Zp(t){return t===0?6:t-1}function eg(t){return t===6?0:t+1}function Lo(t){return t===ge.Available||t===ge.FewLeft}function ik(t){return t.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function ak(t){return t==="ro"?"ro-RO":t==="ru"?"ru-RU":"en-US"}function ok(t,e,n){const r=new Date(`${t}T12:00:00Z`);return new Intl.DateTimeFormat(ak(e),{weekday:"short",day:"numeric",month:"short",year:"numeric",timeZone:n}).format(r)}function ki(t,e){const n=e.slice();return t==="calendar"?(n.sort((r,s)=>{const i=r.slot_date??"9999-12-31",a=s.slot_date??"9999-12-31";return i!==a?i.localeCompare(a):r.start_time.localeCompare(s.start_time)}),n):(n.sort((r,s)=>r.day_of_week!==s.day_of_week?r.day_of_week-s.day_of_week:r.start_time.localeCompare(s.start_time)),n)}function lk(){const{i18n:t,t:e}=zn(),[n,r]=O.useState(null),[s,i]=O.useState([]),[a,o]=O.useState("default"),[l,u]=O.useState([]),[c,h]=O.useState([]),[d,p]=O.useState(!0),[v,w]=O.useState(!1),[k,m]=O.useState("ro"),[f,y]=O.useState(nk()),[_,x]=O.useState(!1),[b,C]=O.useState([]),[P,B]=O.useState("all"),[z,fe]=O.useState(()=>{const S=new Date().getDay();return S===0?6:S-1}),[at,Je]=O.useState(!1),[Qe,yt]=O.useState(""),[G,vt]=O.useState(!1),[N,D]=O.useState("schedule"),[L,H]=O.useState(!1),[ue,gn]=O.useState(!1),[wt,oe]=O.useState(null),[Ot,zt]=O.useState(!1),[Bt,Mr]=O.useState(null),[sg,Bn]=O.useState(!1),[Vu,Ma]=O.useState(null),[Fa,ig]=O.useState(()=>new Date().toISOString().slice(0,10)),[ag,za]=O.useState(!1),[qu,Ba]=O.useState(null),[Js,og]=O.useState("all"),[Va,lg]=O.useState(""),qa=O.useRef(null),A=O.useMemo(()=>s.find(S=>S.slug===a)??s[0]??null,[s,a]),mn=(A==null?void 0:A.timezone)??(n==null?void 0:n.timezone)??f,_t=(A==null?void 0:A.mode)??"weekly",Wa="DISPONIBILITATE",ug=(A==null?void 0:A.description)||e("subtitle"),cg=O.useMemo(()=>{var R;const S=Intl,E=(R=S.supportedValuesOf)==null?void 0:R.call(S,"timeZone");return Array.isArray(E)&&E.length?E:["Europe/Chisinau","Europe/Bucharest","Europe/London","America/New_York","Asia/Tokyo"]},[]),Vn=O.useMemo(()=>{const S=(n==null?void 0:n.show_full_slots)??!0,E=L?l:l.filter(W=>(W.visibility??!0)===!0),M=(S?E:E.filter(W=>W.status!==ge.Full)).filter(W=>P==="all"?!0:P==="open"?W.status===ge.Available||W.status===ge.FewLeft:P==="available"?W.status===ge.Available:P==="few"?W.status===ge.FewLeft:P==="full"?W.status===ge.Full||W.status===ge.Occupied:!0);return ki(_t,M)},[n==null?void 0:n.show_full_slots,L,_t,P,l]),Fr=O.useMemo(()=>{const S={all:l.length,open:0,available:0,few:0,full:0};for(const E of l)E.status===ge.Available?(S.open+=1,S.available+=1):E.status===ge.FewLeft?(S.open+=1,S.few+=1):(E.status===ge.Full||E.status===ge.Occupied)&&(S.full+=1);return S},[l]),qn=O.useMemo(()=>{const S=new Map(Vn.map(E=>[E.id,E]));return b.map(E=>S.get(E)).filter(Boolean)},[b,Vn]),Qs=O.useMemo(()=>ZS(_t,f,k),[_t,f,k]),Ha=O.useMemo(()=>{const S=new Map;for(const E of Vn){const R=Zp(E.day_of_week),M=S.get(R)??[];M.push(E),S.set(R,M)}return S},[Vn]),Wu=O.useMemo(()=>{const S=new Map;for(const E of Vn){const R=E.slot_date??"__unscheduled__",M=S.get(R)??[];M.push(E),S.set(R,M)}return Array.from(S.entries()).sort(([E],[R])=>E.localeCompare(R)).map(([E,R])=>({date:E,items:R}))},[Vn]),dg=O.useMemo(()=>{const S=Va.trim().toLowerCase();return c.filter(E=>A?E.profile_id===A.id:!0).filter(E=>Js==="all"?!0:E.status===Js).filter(E=>S?[E.student_name,E.student_contact,E.student_class,E.student_note,E.slot_label].filter(Boolean).join(" ").toLowerCase().includes(S):!0)},[A,Js,Va,c]),Hu=O.useCallback(async()=>{if(G){const W=await X.getAdminProfiles();return i(W),W}const E=er().view??a??"default",R=await X.getPublicProfileBySlug(E)??await X.getPublicProfileBySlug("default")??await(async()=>(await X.getPublicProfiles())[0]??null)(),M=R?[R]:[];return i(M),M},[a,G]),Xe=O.useCallback(async S=>{const E=G?await X.getAdminSlotsForProfile(S):await X.getPublicSlots(S);u(E)},[G]),Wn=O.useCallback(async()=>{if(G){w(!0);try{const S=await X.getAdminSlotRequests();h(S)}finally{w(!1)}}},[G]);O.useEffect(()=>{const S=er(),E=localStorage.getItem(Qd)??null,R=S.lang&&(S.lang==="ro"||S.lang==="en"||S.lang==="ru")?S.lang:E&&(E==="ro"||E==="en"||E==="ru")?E:"ro";m(R),t.changeLanguage(R),S.view&&o(S.view),S.tz&&y(S.tz)},[t]),O.useEffect(()=>{localStorage.setItem(Qd,k),rk({lang:k,tz:f,view:(A==null?void 0:A.slug)??a}),t.changeLanguage(k)},[A==null?void 0:A.slug,a,t,k,f]),O.useEffect(()=>{let S=!0;return(async()=>{var E;p(!0);try{const[R,M]=await Promise.all([X.getConfig(),Hu()]);if(!S)return;r(R);const W=er().view??((E=M[0])==null?void 0:E.slug)??"default",Re=M.find(Vt=>Vt.slug===W)??M[0]??null;Re&&(o(Re.slug),!er().tz&&Re.timezone&&y(Re.timezone),!er().lang&&Re.default_language&&m(Re.default_language),await Xe(Re.id))}catch{}finally{S&&p(!1)}})(),()=>{S=!1}},[Hu,Xe]),O.useEffect(()=>{let S=!0;return(async()=>{const E=await X.restoreAdminSession();S&&(vt(E),E||(H(!1),D("schedule")))})(),()=>{S=!1}},[]),O.useEffect(()=>{A&&Xe(A.id)},[A,G,Xe]),O.useEffect(()=>{if(!G){h([]);return}Wn()},[G,Wn]),O.useEffect(()=>{const S=E=>{(E.ctrlKey||E.metaKey)&&E.shiftKey&&E.key.toLowerCase()==="a"&&(E.preventDefault(),Je(R=>!R))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]);const Ka=O.useCallback(S=>{if(!A)return;const E=typeof S=="number"?eg(S):1,R=A.mode==="calendar"?Fa:null,M={id:crypto.randomUUID(),profile_id:A.id,slot_date:R,day_of_week:R?new Date(`${R}T12:00:00`).getDay():E,start_time:"10:00",end_time:"11:00",status:ge.Available,spots_total:1,spots_available:1,label:e("newSlotLabel"),note:null,visibility:!0};Ma(M),Bn(!0)},[A,Fa,e]),hg=O.useCallback(S=>{if(L){Ma(S),Bn(!0);return}Lo(S.status)&&C(E=>E.includes(S.id)?E.filter(R=>R!==S.id):E.length>=3?E:[...E,S.id])},[L]),fg=O.useCallback(async S=>{if(!A)return;const E={...S,profile_id:A.id},R=await X.saveSlot(E);u(M=>{const W=M.findIndex(Vt=>Vt.id===R.id);if(W===-1)return ki(_t,[...M,R]);const Re=M.slice();return Re[W]=R,ki(_t,Re)}),Bn(!1)},[A,_t]),pg=O.useCallback(async S=>{window.confirm(e("confirmDelete"))&&(await X.deleteSlot(S),u(E=>E.filter(R=>R.id!==S)),Bn(!1))},[e]),gg=O.useCallback(async S=>{const E={...S,id:crypto.randomUUID(),label:`${S.label} (Copy)`},R=await X.saveSlot(E);u(M=>ki(_t,[...M,R])),Ma(R),Bn(!0)},[_t]),mg=O.useCallback(async()=>{const S=Qe.trim();if(S){gn(!0),oe(null);try{if(!await X.loginAdmin(S)){oe(e("adminLoginFailed"));return}vt(!0),H(!1),D("schedule"),Je(!1),yt(""),oe(e("adminLoginSuccess"));const R=await X.getAdminProfiles();i(R);const M=R.find(W=>W.slug===a)??R[0]??null;M&&(o(M.slug),await Xe(M.id)),await Wn()}catch{oe(e("adminLoginFailed"))}finally{gn(!1)}}},[a,Qe,Wn,Xe,e]),yg=O.useCallback(async()=>{X.logoutAdmin(),vt(!1),H(!1),D("schedule"),h([]);const S=er().view??a??"default",E=await X.getPublicProfileBySlug(S)??await X.getPublicProfileBySlug("default")??await(async()=>(await X.getPublicProfiles())[0]??null)(),R=E?[E]:[];i(R);const M=R[0]??null;M?(o(M.slug),await Xe(M.id)):u([]),oe(e("adminLoggedOut"))},[a,Xe,e]),vg=O.useCallback(async()=>{if(!Bt)return;const S=ik(Bt.slug||Bt.title);if(!S)return;const E={...Bt,slug:S,title:Bt.title.trim()||"Disponibilitate",mode:Bt.mode==="calendar"?"calendar":"weekly"},R=await X.saveProfile(E);i(M=>{const W=M.findIndex(Vt=>Vt.id===R.id);if(W===-1)return[...M,R];const Re=M.slice();return Re[W]=R,Re}),zt(!1),Mr(null),o(R.slug),await Xe(R.id)},[Xe,Bt]),wg=O.useCallback(async()=>{if(!A||!window.confirm(e("confirmDeleteProfile")))return;await X.deleteProfile(A.id);const S=await X.getAdminProfiles();i(S);const E=S[0]??null;E?(o(E.slug),await Xe(E.id)):u([])},[A,Xe,e]),_g=O.useCallback(async S=>{await X.submitSlotRequest({slotId:S.slot.id,studentName:S.name,studentContact:S.contact,studentClass:S.classGrade,studentNote:S.note}),za(!1),Ba(null),oe(e("joinSubmitted")),window.setTimeout(()=>oe(null),2400),G&&Wn()},[G,Wn,e]),Sg=O.useCallback(async S=>{const E=await X.updateSlotRequest(S);h(R=>R.map(M=>M.id===E.id?{...M,student_name:E.student_name,student_contact:E.student_contact,student_class:E.student_class,student_note:E.student_note}:M)),oe(e("requestUpdated")),window.setTimeout(()=>oe(null),2e3)},[e]),kg=O.useCallback(async(S,E,R)=>{await X.reviewSlotRequest({requestId:S,status:E,adminNote:R}),h(M=>M.map(W=>W.id===S?{...W,status:E,admin_note:R||null,reviewed_at:new Date().toISOString()}:W)),oe(e(E==="approved"?"requestApproved":"requestRejected")),window.setTimeout(()=>oe(null),2e3)},[e]),bg=O.useCallback(async S=>{window.confirm(e("confirmDeleteRequest"))&&(await X.deleteSlotRequest(S),h(E=>E.filter(R=>R.id!==S)),oe(e("requestDeleted")),window.setTimeout(()=>oe(null),2e3))},[e]),xg=O.useCallback(async()=>{const S=tk({lang:k,title:(A==null?void 0:A.title)??Wa,configTimezone:mn,viewTimezone:f,weekRangeLabel:Qs,slots:qn});try{await navigator.clipboard.writeText(S),oe(e("copied")),window.setTimeout(()=>oe(null),1800)}catch{window.prompt(e("copyFallback"),S)}},[A==null?void 0:A.title,mn,k,Qs,qn,e,f]),Ku=O.useCallback(async()=>{const S=new URL(window.location.href);A&&S.searchParams.set("view",A.slug),S.searchParams.set("lang",k),S.searchParams.set("tz",f);try{await navigator.clipboard.writeText(S.toString()),oe(e("linkCopied")),window.setTimeout(()=>oe(null),1800)}catch{window.prompt(e("copyFallback"),S.toString())}},[A,k,e,f]),Eg=O.useCallback(async()=>{if(!qa.current)return;const{toPng:S}=await av(async()=>{const{toPng:M}=await import("./index-xVp0PEHv.js");return{toPng:M}},[]),E=await S(qa.current,{cacheBust:!0,pixelRatio:Math.max(2,window.devicePixelRatio||1),backgroundColor:"transparent"}),R=document.createElement("a");R.download=`disponibilitate-${(A==null?void 0:A.slug)??"view"}-${k}.png`,R.href=E,R.click()},[A==null?void 0:A.slug,k]),Ya=S=>{const E=b.includes(S.id),R=zs(S,mn,f),M=!L&&!Lo(S.status),W=typeof S.spots_total=="number"&&S.spots_total>0?`${S.spots_available??0}/${S.spots_total} ${e("spotsLeft")}`:null,Re=S.status===ge.Available?"statusAvailable":S.status===ge.FewLeft?"statusFew":"statusFull";return g.jsxs("button",{className:ce("slotCard",E&&"slotCardSelected"),type:"button",disabled:M,"aria-disabled":M,onClick:()=>hg(S),children:[g.jsxs("div",{className:"slotTop",children:[g.jsx("div",{className:ce("statusPill",Re),children:e(S.status)}),E?g.jsx("div",{className:"slotSelectedMark",children:"+"}):null]}),g.jsx("div",{className:"slotLabel",children:R.range}),g.jsx("div",{className:"slotMeta",children:R.dayLabel}),g.jsx("div",{className:"slotMeta",children:S.label}),W?g.jsx("div",{className:"slotMeta",children:W}):null,S.note?g.jsx("div",{className:"slotMeta",children:S.note}):null,!L&&Lo(S.status)?g.jsx("div",{className:"slotJoinRow",children:g.jsx("button",{className:ce("btn","btnPrimary"),type:"button",onClick:Vt=>{Vt.preventDefault(),Vt.stopPropagation(),Ba(S),za(!0)},children:e("joinSlot")})}):null]},S.id)},Yu=sk[k];return g.jsxs("div",{className:"appShell",children:[g.jsx("div",{className:"bgMesh","aria-hidden":!0}),g.jsxs("header",{className:"headerGlass",children:[g.jsxs("div",{className:"headerInner",children:[g.jsxs("div",{className:"brandColumn",children:[g.jsx("h1",{className:"title",children:Wa}),g.jsx("p",{className:"subtitle",children:ug}),A?g.jsxs("div",{className:"activeViewLabel",children:["/",A.slug]}):null]}),g.jsxs("div",{className:"toolbarCluster",children:[G?g.jsxs("div",{className:"pill glassPill",children:[g.jsx("span",{children:e("view")}),g.jsx("select",{value:(A==null?void 0:A.slug)??"",onChange:S=>o(S.target.value),"aria-label":e("view"),children:s.map(S=>g.jsxs("option",{value:S.slug,children:[S.title," / ",S.slug]},S.id))})]}):g.jsxs("div",{className:"pill glassPill",children:[g.jsx("span",{children:e("view")}),g.jsxs("strong",{style:{fontSize:12,fontWeight:800,color:"var(--ink)"},children:["/ ",(A==null?void 0:A.slug)??"default"]})]}),g.jsx("button",{className:"btn",type:"button",onClick:()=>void Ku(),children:e("copyViewLink")}),G?g.jsx("button",{className:"btn",type:"button",onClick:()=>zt(!0),children:e("manageViews")}):null,G?g.jsxs("div",{className:"viewTabs",role:"tablist","aria-label":e("adminAccess"),children:[g.jsx("button",{type:"button",role:"tab",className:ce("viewTab",N==="schedule"&&"viewTabActive"),"aria-selected":N==="schedule",onClick:()=>D("schedule"),children:e("scheduleTab")}),g.jsx("button",{type:"button",role:"tab",className:ce("viewTab",N==="requests"&&"viewTabActive"),"aria-selected":N==="requests",onClick:()=>D("requests"),children:e("requestsTab")})]}):null,G?g.jsx("button",{className:"btn",type:"button",onClick:()=>H(S=>!S),children:e(L?"viewPublic":"editMode")}):null,G?g.jsx("button",{className:"btn",type:"button",onClick:()=>void yg(),children:e("logoutAdmin")}):null,g.jsxs("div",{className:"pill glassPill",children:[g.jsx("span",{children:e("language")}),g.jsx("select",{value:k,onChange:S=>m(S.target.value),children:Xp.map(S=>g.jsx("option",{value:S.code,children:S.name},S.code))})]}),g.jsxs("div",{className:"pill glassPill tzPill",children:[g.jsx("span",{children:e("timesShownIn")}),_?g.jsxs(g.Fragment,{children:[g.jsx("select",{value:f,onChange:S=>y(S.target.value),children:cg.map(S=>g.jsx("option",{value:S,children:S},S))}),g.jsx("button",{className:"pillLink",type:"button",onClick:()=>x(!1),children:e("done")})]}):g.jsx("button",{className:"pillLink",type:"button",onClick:()=>x(!0),children:f})]})]})]}),g.jsxs("div",{className:"headerMetaRow",children:[g.jsx("div",{className:"metaBadge",children:Qs}),wt?g.jsx("div",{className:"metaInfo",children:wt}):null,g.jsx("button",{className:ce("secretAdminTrigger",at&&"secretAdminTriggerOpen"),type:"button",onClick:()=>Je(S=>!S),"aria-label":e(at?"adminClose":"adminOpen"),title:e(at?"adminClose":"adminOpen")})]})]}),g.jsx("main",{className:"container",children:d?g.jsx("section",{className:"surfaceCard centered",children:e("loading")}):A?g.jsx(g.Fragment,{children:G&&N==="requests"?g.jsx(fk,{timezone:f,lang:k,requests:dg,loading:v,query:Va,filter:Js,onQueryChange:lg,onFilterChange:og,onReview:kg,onUpdate:Sg,onDelete:bg}):g.jsxs("section",{className:"surfaceCard",children:[g.jsxs("div",{className:"scheduleHeader",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"sectionTitle",children:A.title}),g.jsx("p",{className:"sectionSub",children:A.mode==="calendar"?e("calendarMode"):e("recurringMode")})]}),g.jsxs("div",{className:"sectionActions",children:[L&&A.mode==="calendar"?g.jsxs(g.Fragment,{children:[g.jsx("input",{className:"dateInput",type:"date",value:Fa,onChange:S=>ig(S.target.value)}),g.jsx("button",{className:"btn",type:"button",onClick:()=>Ka(),children:e("addDateSlot")})]}):null,g.jsx("button",{className:"btn",type:"button",onClick:()=>void Ku(),children:e("share")})]})]}),g.jsxs("div",{className:"slotRibbon",role:"tablist","aria-label":e("status"),children:[g.jsxs("button",{type:"button",className:ce("slotChip",P==="all"&&"slotChipActive"),onClick:()=>B("all"),children:[e("all"),"  ",Fr.all]}),g.jsxs("button",{type:"button",className:ce("slotChip",P==="open"&&"slotChipActive"),onClick:()=>B("open"),children:[e("open"),"  ",Fr.open]}),g.jsxs("button",{type:"button",className:ce("slotChip",P==="available"&&"slotChipActive"),onClick:()=>B("available"),children:[e("Available"),"  ",Fr.available]}),g.jsxs("button",{type:"button",className:ce("slotChip",P==="few"&&"slotChipActive"),onClick:()=>B("few"),children:[e("FewLeft"),"  ",Fr.few]}),g.jsxs("button",{type:"button",className:ce("slotChip",P==="full"&&"slotChipActive"),onClick:()=>B("full"),children:[e("Full"),"  ",Fr.full]})]}),A.mode==="weekly"?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"scheduleGrid desktopGrid",role:"table","aria-label":e("schedule"),children:Yu.map((S,E)=>{const R=Ha.get(E)??[];return g.jsxs("div",{className:"dayCol",role:"rowgroup",children:[g.jsxs("div",{className:"dayHeader",role:"row",children:[g.jsx("span",{children:S}),L?g.jsx("button",{className:"tinyAdd",type:"button",onClick:()=>Ka(E),children:e("add")}):g.jsx("small",{children:R.length})]}),R.length===0?g.jsx("div",{className:"emptyDay",children:e("noOpeningsDay")}):R.map(Ya)]},S)})}),g.jsxs("div",{className:"mobileOnly",children:[g.jsx("div",{className:"dayTabs",role:"tablist","aria-label":e("days"),children:Yu.map((S,E)=>g.jsx("button",{type:"button",className:ce("tab",z===E&&"tabActive"),"aria-selected":z===E,onClick:()=>fe(E),children:S},S))}),g.jsxs("div",{className:"mobileList",children:[(Ha.get(z)??[]).length?(Ha.get(z)??[]).map(Ya):g.jsx("div",{className:"emptyDay",children:e("noOpeningsDay")}),L?g.jsx("button",{className:"btn mobileAdd",type:"button",onClick:()=>Ka(z),children:e("add")}):null]})]})]}):g.jsxs("div",{className:"calendarList",children:[Wu.length===0?g.jsx("div",{className:"emptyDay",children:e("noOpenings")}):null,Wu.map(S=>g.jsxs("section",{className:"calendarSection",children:[g.jsx("div",{className:"calendarSectionHeader",children:g.jsx("h3",{children:S.date==="__unscheduled__"?e("unscheduled"):ok(S.date,k,f)})}),g.jsx("div",{className:"calendarCards",children:S.items.map(Ya)})]},S.date))]})]})}):g.jsx("section",{className:"surfaceCard centered",children:e("noViews")})}),qn.length>0&&!L?g.jsx("div",{className:"selectionBarWrap",children:g.jsxs("div",{className:"selectionBar",children:[g.jsxs("div",{className:"selectionLeft",children:[g.jsx("div",{className:"countBubble",children:qn.length}),g.jsxs("div",{children:[g.jsx("div",{className:"selectionTitle",children:e("selected",{count:qn.length})}),g.jsx("button",{className:"clearBtn",type:"button",onClick:()=>C([]),children:e("clearAll")})]})]}),g.jsxs("div",{className:"actions",children:[g.jsx("button",{className:"btn",type:"button",onClick:()=>void xg(),children:e("copyMessage")}),g.jsx("button",{className:ce("btn","btnPrimary"),type:"button",onClick:()=>void Eg(),children:e("downloadImage")})]})]})}):null,g.jsxs("div",{className:"shareCard",ref:qa,"aria-hidden":!0,children:[g.jsx("h3",{children:(A==null?void 0:A.title)??Wa}),g.jsx("p",{children:Qs}),g.jsx("div",{children:qn.map(S=>{const E=zs(S,mn,f);return g.jsxs("div",{className:"shareLine",children:[g.jsx("span",{children:E.dayLabel}),g.jsx("b",{children:E.range})]},S.id)})})]}),ag&&qu?g.jsx(ck,{slot:qu,timezone:f,configTimezone:mn,lang:k,onClose:()=>{za(!1),Ba(null)},onSubmit:_g}):null,!G&&at?g.jsx(uk,{adminPassword:Qe,authSending:ue,onChangePassword:yt,onClose:()=>Je(!1),onSubmit:mg}):null,L&&sg&&Vu?g.jsx(dk,{slot:Vu,mode:_t,timezone:mn,onClose:()=>Bn(!1),onSave:fg,onDelete:pg,onDuplicate:gg}):null,G&&Ot?g.jsx(hk,{profiles:s,activeProfileId:(A==null?void 0:A.id)??null,draft:Bt,onPick:S=>Mr({...S}),onNew:()=>{const S=`view-${Math.random().toString(36).slice(2,8)}`;Mr({id:crypto.randomUUID(),slug:S,title:"Disponibilitate",description:null,mode:"weekly",timezone:mn,default_language:k,is_public:!0})},onClose:()=>{zt(!1),Mr(null)},onDeleteActive:()=>void wg(),onSave:()=>void vg(),onDraftChange:Mr}):null]})}function uk(t){const{t:e}=zn();return g.jsx("div",{role:"dialog","aria-modal":"true",className:"modalBackdrop",onMouseDown:n=>{n.target===n.currentTarget&&t.onClose()},children:g.jsxs("div",{className:"modalCard",children:[g.jsxs("div",{className:"modalTop",children:[g.jsx("h3",{children:e("adminAccess")}),g.jsx("button",{className:"pillLink",type:"button",onClick:t.onClose,children:e("close")})]}),g.jsxs("form",{className:"modalForm",onSubmit:n=>{n.preventDefault(),t.onSubmit()},children:[g.jsx("p",{className:"modalHint",children:e("adminHint")}),g.jsx("p",{className:"modalHint",children:e("adminShortcut")}),g.jsx("input",{value:t.adminPassword,onChange:n=>t.onChangePassword(n.target.value),placeholder:e("password"),type:"password",autoComplete:"current-password",className:"modalInput"}),g.jsxs("div",{className:"actions end",children:[g.jsx("button",{className:"btn",type:"button",onClick:t.onClose,children:e("cancel")}),g.jsx("button",{className:ce("btn","btnPrimary"),type:"submit",disabled:t.authSending||!t.adminPassword.trim(),children:t.authSending?e("sending"):e("login")})]})]})]})})}function ck(t){const{t:e}=zn(),[n,r]=O.useState(""),[s,i]=O.useState(""),[a,o]=O.useState(""),[l,u]=O.useState(""),[c,h]=O.useState(!1),d=zs(t.slot,t.configTimezone,t.timezone,t.lang),p=async()=>{if(n.trim()){h(!0);try{await t.onSubmit({slot:t.slot,name:n.trim(),contact:s.trim(),classGrade:a.trim(),note:l.trim()})}finally{h(!1)}}};return g.jsx("div",{role:"dialog","aria-modal":"true",className:"modalBackdrop",onMouseDown:v=>{v.target===v.currentTarget&&t.onClose()},children:g.jsxs("div",{className:"modalCard",children:[g.jsxs("div",{className:"modalTop",children:[g.jsx("h3",{children:e("joinSlot")}),g.jsx("button",{className:"pillLink",type:"button",onClick:t.onClose,children:e("close")})]}),g.jsxs("form",{className:"modalForm",onSubmit:v=>{v.preventDefault(),p()},children:[g.jsxs("div",{className:"slotMeta",children:[d.dayLabel,"  ",d.range]}),g.jsx("div",{className:"slotMeta",children:t.slot.label}),g.jsx("input",{className:"modalInput",value:n,onChange:v=>r(v.target.value),placeholder:e("yourName"),required:!0}),g.jsx("input",{className:"modalInput",value:s,onChange:v=>i(v.target.value),placeholder:e("yourContact")}),g.jsx("input",{className:"modalInput",value:a,onChange:v=>o(v.target.value),placeholder:e("classGrade")}),g.jsx("textarea",{className:"modalInput",value:l,onChange:v=>u(v.target.value),placeholder:e("yourMessage"),rows:4}),g.jsx("div",{className:"privacyNote",children:e("privacyNote")}),g.jsxs("div",{className:"actions end",children:[g.jsx("button",{className:"btn",type:"button",onClick:t.onClose,children:e("cancel")}),g.jsx("button",{className:ce("btn","btnPrimary"),type:"submit",disabled:c||!n.trim(),children:e(c?"sending":"submitJoin")})]})]})]})})}function dk(t){const{t:e}=zn(),[n,r]=O.useState(()=>structuredClone(t.slot)),[s,i]=O.useState(!1);O.useEffect(()=>{r(structuredClone(t.slot))},[t.slot]);const a=async()=>{i(!0);try{const o={...n};t.mode==="calendar"&&n.slot_date&&(o.day_of_week=new Date(`${n.slot_date}T12:00:00`).getDay()),await t.onSave(o)}finally{i(!1)}};return g.jsx("div",{role:"dialog","aria-modal":"true",className:"modalBackdrop",onMouseDown:o=>{o.target===o.currentTarget&&t.onClose()},children:g.jsxs("div",{className:"modalCard wide",children:[g.jsxs("div",{className:"modalTop",children:[g.jsx("h3",{children:e("editSlot")}),g.jsx("button",{className:"pillLink",type:"button",onClick:t.onClose,children:e("close")})]}),g.jsxs("div",{className:"editorGrid",children:[t.mode==="calendar"?g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("date")}),g.jsx("input",{type:"date",className:"modalInput",value:n.slot_date??"",onChange:o=>r(l=>({...l,slot_date:o.target.value||null}))})]}):g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("day")}),g.jsx("select",{className:"modalInput",value:Zp(n.day_of_week),onChange:o=>r(l=>({...l,day_of_week:eg(Number(o.target.value))})),children:[0,1,2,3,4,5,6].map(o=>g.jsx("option",{value:o,children:o+1},o))})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("start")}),g.jsx("input",{type:"time",className:"modalInput",value:n.start_time,onChange:o=>r(l=>({...l,start_time:o.target.value}))})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("end")}),g.jsx("input",{type:"time",className:"modalInput",value:n.end_time,onChange:o=>r(l=>({...l,end_time:o.target.value}))})]}),g.jsxs("label",{className:"field wideField",children:[g.jsx("span",{children:e("label")}),g.jsx("input",{className:"modalInput",value:n.label,onChange:o=>r(l=>({...l,label:o.target.value}))})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("status")}),g.jsx("select",{className:"modalInput",value:n.status,onChange:o=>r(l=>({...l,status:o.target.value})),children:Object.values(ge).map(o=>g.jsx("option",{value:o,children:e(o)},o))})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("visible")}),g.jsxs("select",{className:"modalInput",value:n.visibility??!0?"1":"0",onChange:o=>r(l=>({...l,visibility:o.target.value==="1"})),children:[g.jsx("option",{value:"1",children:e("yes")}),g.jsx("option",{value:"0",children:e("no")})]})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("spotsAvailable")}),g.jsx("input",{className:"modalInput",type:"number",value:n.spots_available??0,onChange:o=>r(l=>({...l,spots_available:Number.parseInt(o.target.value||"0",10)}))})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("spotsTotal")}),g.jsx("input",{className:"modalInput",type:"number",value:n.spots_total??0,onChange:o=>r(l=>({...l,spots_total:Number.parseInt(o.target.value||"0",10)}))})]}),g.jsxs("label",{className:"field wideField",children:[g.jsx("span",{children:e("note")}),g.jsx("textarea",{className:"modalInput",rows:3,value:n.note??"",onChange:o=>r(l=>({...l,note:o.target.value||null}))})]})]}),g.jsxs("div",{className:"actions between",children:[g.jsxs("div",{className:"actions",children:[g.jsx("button",{className:"btn",type:"button",onClick:()=>void t.onDuplicate(n),children:e("duplicate")}),g.jsx("button",{className:"btn",type:"button",onClick:()=>void t.onDelete(n.id),children:e("delete")})]}),g.jsx("button",{className:ce("btn","btnPrimary"),type:"button",onClick:()=>void a(),disabled:s,children:e(s?"saving":"save")})]})]})})}function hk(t){const{t:e}=zn();return g.jsx("div",{role:"dialog","aria-modal":"true",className:"modalBackdrop",onMouseDown:n=>{n.target===n.currentTarget&&t.onClose()},children:g.jsxs("div",{className:"modalCard wide",children:[g.jsxs("div",{className:"modalTop",children:[g.jsx("h3",{children:e("manageViews")}),g.jsx("button",{className:"pillLink",type:"button",onClick:t.onClose,children:e("close")})]}),g.jsxs("div",{className:"profileEditorLayout",children:[g.jsxs("aside",{className:"profileList",children:[t.profiles.map(n=>g.jsxs("button",{className:ce("profileItem",n.id===t.activeProfileId&&"profileItemActive"),type:"button",onClick:()=>t.onPick(n),children:[g.jsx("b",{children:n.title}),g.jsxs("span",{children:["/",n.slug]})]},n.id)),g.jsx("button",{className:"btn",type:"button",onClick:t.onNew,children:e("newView")})]}),g.jsxs("div",{className:"profileForm",children:[t.draft?null:g.jsx("div",{className:"emptyDay",children:e("pickView")}),t.draft?g.jsxs(g.Fragment,{children:[g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("title")}),g.jsx("input",{className:"modalInput",value:t.draft.title,onChange:n=>t.onDraftChange({...t.draft,title:n.target.value})})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("slug")}),g.jsx("input",{className:"modalInput",value:t.draft.slug,onChange:n=>t.onDraftChange({...t.draft,slug:n.target.value})})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("description")}),g.jsx("textarea",{className:"modalInput",rows:3,value:t.draft.description??"",onChange:n=>t.onDraftChange({...t.draft,description:n.target.value||null})})]}),g.jsxs("div",{className:"editorGrid twoCol",children:[g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("mode")}),g.jsxs("select",{className:"modalInput",value:t.draft.mode,onChange:n=>t.onDraftChange({...t.draft,mode:n.target.value}),children:[g.jsx("option",{value:"weekly",children:e("recurringMode")}),g.jsx("option",{value:"calendar",children:e("calendarMode")})]})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("language")}),g.jsx("select",{className:"modalInput",value:t.draft.default_language??"ro",onChange:n=>t.onDraftChange({...t.draft,default_language:n.target.value}),children:Xp.map(n=>g.jsx("option",{value:n.code,children:n.name},n.code))})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("timezone")}),g.jsx("input",{className:"modalInput",value:t.draft.timezone??"",onChange:n=>t.onDraftChange({...t.draft,timezone:n.target.value||null})})]}),g.jsxs("label",{className:"field",children:[g.jsx("span",{children:e("publicView")}),g.jsxs("select",{className:"modalInput",value:t.draft.is_public?"1":"0",onChange:n=>t.onDraftChange({...t.draft,is_public:n.target.value==="1"}),children:[g.jsx("option",{value:"1",children:e("yes")}),g.jsx("option",{value:"0",children:e("no")})]})]})]}),g.jsxs("div",{className:"actions between",children:[g.jsx("button",{className:"btn",type:"button",onClick:t.onDeleteActive,children:e("delete")}),g.jsx("button",{className:ce("btn","btnPrimary"),type:"button",onClick:t.onSave,children:e("save")})]})]}):null]})]})]})})}function fk(t){const{t:e}=zn();return g.jsxs("section",{className:"surfaceCard",children:[g.jsxs("div",{className:"scheduleHeader",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"sectionTitle",children:e("adminRequests")}),g.jsx("p",{className:"sectionSub",children:e("requestsHelper")})]}),g.jsxs("div",{className:"requestToolbar",children:[g.jsx("input",{className:"modalInput searchInput",value:t.query,onChange:n=>t.onQueryChange(n.target.value),placeholder:e("searchRequests")}),g.jsxs("select",{className:"modalInput statusFilter",value:t.filter,onChange:n=>t.onFilterChange(n.target.value),children:[g.jsx("option",{value:"all",children:e("all")}),g.jsx("option",{value:"pending",children:e("pending")}),g.jsx("option",{value:"approved",children:e("approved")}),g.jsx("option",{value:"rejected",children:e("rejected")})]})]})]}),t.loading?g.jsx("div",{className:"emptyDay",children:e("loading")}):t.requests.length===0?g.jsx("div",{className:"emptyDay",children:e("noRequests")}):g.jsx("div",{className:"adminRequestsGrid",children:t.requests.map(n=>{const r={id:n.slot_id,profile_id:n.profile_id,slot_date:n.slot_date,day_of_week:n.slot_day_of_week??1,start_time:n.slot_start_time??"00:00",end_time:n.slot_end_time??"00:00",status:ge.Available,label:n.slot_label??"-"},s=zs(r,t.timezone,t.timezone,t.lang);return g.jsx(pk,{request:n,display:s,onUpdate:t.onUpdate,onReview:t.onReview,onDelete:t.onDelete},n.id)})})]})}function pk(t){const{t:e}=zn(),[n,r]=O.useState(t.request.student_name??""),[s,i]=O.useState(t.request.student_contact??""),[a,o]=O.useState(t.request.student_class??""),[l,u]=O.useState(t.request.student_note??""),[c,h]=O.useState(t.request.admin_note??""),[d,p]=O.useState(!1),v=async()=>{if(n.trim()){p(!0);try{await t.onUpdate({requestId:t.request.id,studentName:n,studentContact:s,studentClass:a,studentNote:l})}finally{p(!1)}}},w=async m=>{p(!0);try{await t.onReview(t.request.id,m,c)}finally{p(!1)}},k=async()=>{p(!0);try{await t.onDelete(t.request.id)}finally{p(!1)}};return g.jsxs("article",{className:"adminRequestCard",children:[g.jsxs("div",{className:"adminRequestTop",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"slotLabel compact",children:[t.display.dayLabel,"  ",t.display.range]}),g.jsx("div",{className:"slotMeta",children:t.request.slot_label??"-"}),g.jsxs("div",{className:"slotMeta",children:["/",t.request.profile_slug??"-"]})]}),g.jsx("div",{className:ce("statusPill",t.request.status==="pending"?"statusFew":t.request.status==="approved"?"statusAvailable":"statusFull"),children:e(t.request.status)})]}),g.jsx("input",{className:"modalInput",value:n,onChange:m=>r(m.target.value),placeholder:e("student")}),g.jsx("input",{className:"modalInput",value:s,onChange:m=>i(m.target.value),placeholder:e("contact")}),g.jsx("input",{className:"modalInput",value:a,onChange:m=>o(m.target.value),placeholder:e("classGrade")}),g.jsx("textarea",{className:"modalInput",rows:3,value:l,onChange:m=>u(m.target.value),placeholder:e("message")}),g.jsx("textarea",{className:"modalInput",rows:2,value:c,onChange:m=>h(m.target.value),placeholder:e("adminNote")}),g.jsxs("div",{className:"actions wrap",children:[g.jsx("button",{className:"btn",type:"button",onClick:()=>void v(),disabled:d||!n.trim(),children:e("saveChanges")}),g.jsx("button",{className:ce("btn","btnPrimary"),type:"button",onClick:()=>void w("approved"),disabled:d||t.request.status!=="pending",children:e("accept")}),g.jsx("button",{className:"btn",type:"button",onClick:()=>void w("rejected"),disabled:d||t.request.status!=="pending",children:e("reject")}),g.jsx("button",{className:"btn danger",type:"button",onClick:()=>void k(),disabled:d,children:e("delete")})]})]})}const F=t=>typeof t=="string",Xr=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},Xd=t=>t==null?"":""+t,gk=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},mk=/###/g,Zd=t=>t&&t.indexOf("###")>-1?t.replace(mk,"."):t,eh=t=>!t||F(t),gs=(t,e,n)=>{const r=F(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(eh(t))return{};const i=Zd(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return eh(t)?{}:{obj:t,k:Zd(r[s])}},th=(t,e,n)=>{const{obj:r,k:s}=gs(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=gs(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=gs(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},yk=(t,e,n,r)=>{const{obj:s,k:i}=gs(t,e,Object);s[i]=s[i]||[],s[i].push(n)},fa=(t,e)=>{const{obj:n,k:r}=gs(t,e);if(n)return n[r]},vk=(t,e,n)=>{const r=fa(t,n);return r!==void 0?r:fa(e,n)},tg=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?F(t[r])||t[r]instanceof String||F(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):tg(t[r],e[r],n):t[r]=e[r]);return t},tr=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var wk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _k=t=>F(t)?t.replace(/[&<>"'\/]/g,e=>wk[e]):t;class Sk{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const kk=[" ",",","?","!",";"],bk=new Sk(20),xk=(t,e,n)=>{e=e||"",n=n||"";const r=kk.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=bk.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},Wl=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=n),o+=r[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=a}return s},pa=t=>t&&t.replace("_","-"),Ek={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ga{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Ek,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(F(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ga(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ga(this.logger,e)}}var xt=new ga;class Ua{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...r])})}}class nh extends Ua{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):F(r)&&i?o.push(...r.split(i)):o.push(r)));const l=fa(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!F(r)?l:Wl(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=n,n=o[1]),this.addNamespaces(n),th(this.data,o,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(F(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let l=fa(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?tg(l,r,i):l={...l,...r},th(this.data,o,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var ng={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const rh={};class ma extends Ua{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),gk(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=xt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!xk(e,r,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:F(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:F(i)?[i]:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],n),l=o[o.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const _=n.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${_}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${_}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const h=this.resolve(e,n);let d=h&&h.res;const p=h&&h.usedKey||a,v=h&&h.exactUsedKey||a,w=Object.prototype.toString.apply(d),k=["[object Number]","[object Function]","[object RegExp]"],m=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,y=!F(d)&&typeof d!="boolean"&&typeof d!="number";if(f&&d&&y&&k.indexOf(w)<0&&!(F(m)&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...n,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(h.res=_,h.usedParams=this.getUsedParamsDetails(n),h):_}if(i){const _=Array.isArray(d),x=_?[]:{},b=_?v:p;for(const C in d)if(Object.prototype.hasOwnProperty.call(d,C)){const P=`${b}${i}${C}`;x[C]=this.translate(P,{...n,joinArrays:!1,ns:o}),x[C]===P&&(x[C]=d[C])}d=x}}else if(f&&F(m)&&Array.isArray(d))d=d.join(m),d&&(d=this.extendTranslation(d,e,n,r));else{let _=!1,x=!1;const b=n.count!==void 0&&!F(n.count),C=ma.hasDefaultValue(n),P=b?this.pluralResolver.getSuffix(u,n.count,n):"",B=n.ordinal&&b?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",z=b&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),fe=z&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${P}`]||n[`defaultValue${B}`]||n.defaultValue;!this.isValidLookup(d)&&C&&(_=!0,d=fe),this.isValidLookup(d)||(x=!0,d=a);const Je=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:d,Qe=C&&fe!==d&&this.options.updateMissing;if(x||_||Qe){if(this.logger.log(Qe?"updateKey":"missingKey",u,l,a,Qe?fe:d),i){const N=this.resolve(a,{...n,keySeparator:!1});N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let yt=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let N=0;N<G.length;N++)yt.push(G[N]);else this.options.saveMissingTo==="all"?yt=this.languageUtils.toResolveHierarchy(n.lng||this.language):yt.push(n.lng||this.language);const vt=(N,D,L)=>{const H=C&&L!==d?L:Je;this.options.missingKeyHandler?this.options.missingKeyHandler(N,l,D,H,Qe,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(N,l,D,H,Qe,n),this.emit("missingKey",N,l,D,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?yt.forEach(N=>{const D=this.pluralResolver.getSuffixes(N,n);z&&n[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(L=>{vt([N],a+L,n[`defaultValue${L}`]||fe)})}):vt(yt,a,fe))}d=this.extendTranslation(d,e,n,h,r),x&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(x||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,_?d:void 0):d=this.options.parseMissingKeyHandler(d))}return s?(h.res=d,h.usedParams=this.getUsedParamsDetails(n),h):d}extendTranslation(e,n,r,s,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=F(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let h=r.replace&&!F(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return i&&i[0]===p[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):a.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=F(o)?[o]:o;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=ng.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,a,o;return F(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;s=c;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=n.count!==void 0&&!F(n.count),p=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),v=n.context!==void 0&&(F(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(k=>{this.isValidLookup(r)||(o=k,!rh[`${w[0]}-${k}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(rh[`${w[0]}-${k}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(m=>{if(this.isValidLookup(r))return;a=m;const f=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(f,c,m,k,n);else{let _;d&&(_=this.pluralResolver.getSuffix(m,n.count,n));const x=`${this.options.pluralSeparator}zero`,b=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(f.push(c+_),n.ordinal&&_.indexOf(b)===0&&f.push(c+_.replace(b,this.options.pluralSeparator)),p&&f.push(c+x)),v){const C=`${c}${this.options.contextSeparator}${n.context}`;f.push(C),d&&(f.push(C+_),n.ordinal&&_.indexOf(b)===0&&f.push(C+_.replace(b,this.options.pluralSeparator)),p&&f.push(C+x))}}let y;for(;y=f.pop();)this.isValidLookup(r)||(i=y,r=this.getResource(m,k,y,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!F(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const Do=t=>t.charAt(0).toUpperCase()+t.slice(1);class sh{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xt.create("languageUtils")}getScriptPartFromCode(e){if(e=pa(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=pa(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(F(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Do(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Do(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Do(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),F(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return F(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):F(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}let Ck=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Tk={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Ok=["v1","v2","v3"],Nk=["v4"],ih={zero:0,one:1,two:2,few:3,many:4,other:5},Pk=()=>{const t={};return Ck.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Tk[e.fc]}})}),t};class Rk{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=xt.create("pluralResolver"),(!this.options.compatibilityJSON||Nk.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Pk(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=pa(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>ih[s]-ih[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Ok.includes(this.options.compatibilityJSON)}}const ah=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=vk(t,e,n);return!i&&s&&F(n)&&(i=Wl(t,n,r),i===void 0&&(i=Wl(e,n,r))),i},$o=t=>t.replace(/\$/g,"$$$$");class jk{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=xt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:w,nestingOptionsSeparator:k,maxReplaces:m,alwaysFormat:f}=e.interpolation;this.escape=n!==void 0?n:_k,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?tr(i):a||"{{",this.suffix=o?tr(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?tr(d):p||tr("$t("),this.nestingSuffix=v?tr(v):w||tr(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=m||1e3,this.alwaysFormat=f!==void 0?f:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const m=ah(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...s,...n,interpolationkey:p}):m}const v=p.split(this.formatSeparator),w=v.shift().trim(),k=v.join(this.formatSeparator).trim();return this.format(ah(n,l,w,this.options.keySeparator,this.options.ignoreJSONStructure),k,r,{...s,...n,interpolationkey:w})};this.resetRegExp();const c=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>$o(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?$o(this.escape(p)):$o(p)}].forEach(p=>{for(o=0;i=p.regex.exec(e);){const v=i[1].trim();if(a=u(v),a===void 0)if(typeof c=="function"){const k=c(e,i,s);a=F(k)?k:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),a="";else!F(a)&&!this.useRawValueToEscape&&(a=Xd(a));const w=p.safeValue(a);if(e=e.replace(i[0],w),h?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const h=l.split(new RegExp(`${c}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,a);const p=d.match(/'/g),v=d.match(/"/g);(p&&p.length%2===0&&!v||v.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),u&&(a={...u,...a})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${c}${d}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!F(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const c=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=c.shift(),l=c,u=!0}if(i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!F(i))return i;F(i)||(i=Xd(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((c,h)=>this.format(c,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const Ak=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},nr=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=e[a];return o||(o=t(pa(r),s),e[a]=o),o(n)}};class Ik{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=xt.create("formatter"),this.options=e,this.formats={number:nr((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:nr((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:nr((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:nr((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:nr((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=nr(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:u,formatOptions:c}=Ak(l);if(this.formats[u]){let h=o;try{const d=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=d.locale||d.lng||s.locale||s.lng||r;h=this.formats[u](o,p,{...c,...s,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const Lk=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Dk extends Ua{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=xt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},a={},o={},l={};return e.forEach(u=>{let c=!0;n.forEach(h=>{const d=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),i[d]===void 0&&(i[d]=!0),l[h]===void 0&&(l[h]=!0)))}),c||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{yk(l.loaded,[i],a),Lk(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,a)},i);return}a(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();F(e)&&(e=this.languageUtils.toResolveHierarchy(e)),F(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,n,r,s,l):c=u(e,n,r,s),c&&typeof c.then=="function"?c.then(h=>o(null,h)).catch(o):o(null,c)}catch(c){o(c)}else u(e,n,r,s,o,l)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const oh=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),F(t[1])&&(e.defaultValue=t[1]),F(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),lh=t=>(F(t.ns)&&(t.ns=[t.ns]),F(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),F(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),bi=()=>{},$k=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Bs extends Ua{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=lh(e),this.services={},this.logger=xt,this.modules={external:[]},$k(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(F(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=oh();this.options={...s,...this.options,...lh(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?xt.init(i(this.modules.logger),this.options):xt.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Ik);const h=new sh(this.options);this.store=new nh(this.options.resources,this.options);const d=this.services;d.logger=xt,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new Rk(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=i(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new jk(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Dk(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var v=arguments.length,w=new Array(v>1?v-1:0),k=1;k<v;k++)w[k-1]=arguments[k];e.emit(p,...w)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ma(this.services,this.options),this.translator.on("*",function(p){for(var v=arguments.length,w=new Array(v>1?v-1:0),k=1;k<v;k++)w[k-1]=arguments[k];e.emit(p,...w)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=bi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=Xr(),u=()=>{const c=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bi;const s=F(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const s=Xr();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=bi),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ng.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=Xr();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=F(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,n,r){var s=this;const i=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([a,o].concat(c))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const d=s.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(a)?p=a.map(v=>`${l.keyPrefix}${d}${v}`):p=l.keyPrefix?`${l.keyPrefix}${d}${a}`:a,s.t(p,l)};return F(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,n){const r=Xr();return this.options.ns?(F(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Xr();F(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new sh(oh());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Bs(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bi;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Bs(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new nh(this.store.data,s),i.services.resourceStore=i.store),i.translator=new ma(i.services,s),i.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];i.emit(o,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Pe=Bs.createInstance();Pe.createInstance=Bs.createInstance;Pe.createInstance;Pe.dir;Pe.init;Pe.loadResources;Pe.reloadResources;Pe.use;Pe.changeLanguage;Pe.getFixedT;Pe.t;Pe.exists;Pe.setDefaultNamespace;Pe.hasLoadedNamespace;Pe.loadNamespaces;Pe.loadLanguages;const Uk={en:{translation:{title:"DISPONIBILITATE",subtitle:"Pick a slot and send your request. Admin can manage multiple shareable views.",view:"View",noViews:"No public views available yet.",copyViewLink:"Copy view link",linkCopied:"View link copied.",share:"Share link",manageViews:"Manage views",newView:"New view",pickView:"Select or create a view.",slug:"Slug",description:"Description",mode:"Mode",calendarMode:"Calendar mode",recurringMode:"Recurring weekly mode",publicView:"Public",timezone:"Timezone",timesShownIn:"Times in",language:"Language",done:"Done",change:"Change",schedule:"Schedule",scheduleTab:"Schedule",requestsTab:"Requests",days:"Days",addDateSlot:"Add dated slot",add:"Add",date:"Date",day:"Day",start:"Start",end:"End",label:"Label",note:"Note",status:"Status",visible:"Visible",yes:"Yes",no:"No",spotsAvailable:"Spots available",spotsTotal:"Spots total",newSlotLabel:"Tutoring slot",noOpeningsDay:"No openings",noOpenings:"No openings available.",unscheduled:"Unscheduled",selected:"Selected: {{count}}",clearAll:"Clear",copyMessage:"Copy message",downloadImage:"Download image",copied:"Copied",copyFallback:"Copy this text:",loading:"Loading...",Available:"Available",FewLeft:"Few left",Full:"Full",Occupied:"Occupied",Hidden:"Hidden",spotsLeft:"spots left",joinSlot:"Join slot",submitJoin:"Send request",joinSubmitted:"Request sent. Waiting for review.",yourName:"Your name",yourContact:"Your contact (phone/email/telegram)",classGrade:"Class / group",yourMessage:"Extra details (optional)",privacyNote:"Your request is private and only visible to admin.",adminAccess:"Admin access",adminHint:"Use your admin password to unlock management.",adminShortcut:"Shortcut: Ctrl/Cmd + Shift + A",adminOpen:"Open admin login",adminClose:"Close admin login",password:"Password",login:"Login",logoutAdmin:"Logout",sending:"Sending...",adminLoginSuccess:"Admin mode enabled.",adminLoginFailed:"Invalid password.",adminLoggedOut:"Admin logged out.",viewPublic:"Public mode",editMode:"Edit mode",adminRequests:"Join requests",requestsHelper:"Edit, approve, reject, or delete requests.",searchRequests:"Search requests...",all:"All",open:"Open",noRequests:"No requests yet.",pending:"Pending",approved:"Approved",rejected:"Rejected",accept:"Accept",reject:"Reject",student:"Student",contact:"Contact",message:"Message",adminNote:"Admin note",saveChanges:"Save changes",requestApproved:"Request approved.",requestRejected:"Request rejected.",requestUpdated:"Request updated.",requestDeleted:"Request deleted.",editSlot:"Edit slot",duplicate:"Duplicate",delete:"Delete",save:"Save",saving:"Saving...",close:"Close",cancel:"Cancel",confirmDelete:"Delete this slot?",confirmDeleteRequest:"Delete this request?",confirmDeleteProfile:"Delete this view and all its slots/requests?"}},ro:{translation:{title:"DISPONIBILITATE",subtitle:"Alege un slot si trimite cererea. Adminul poate gestiona mai multe view-uri partajabile.",view:"View",noViews:"Nu exista view-uri publice momentan.",copyViewLink:"Copiaza link view",linkCopied:"Link copiat.",share:"Partajeaza link",manageViews:"Gestioneaza view-uri",newView:"View nou",pickView:"Selecteaza sau creeaza un view.",slug:"Slug",description:"Descriere",mode:"Mod",calendarMode:"Mod calendar",recurringMode:"Mod recurent saptamanal",publicView:"Public",timezone:"Fus orar",timesShownIn:"Ore in",language:"Limba",done:"Gata",change:"Schimba",schedule:"Program",scheduleTab:"Program",requestsTab:"Cereri",days:"Zile",addDateSlot:"Adauga slot cu data",add:"Adauga",date:"Data",day:"Zi",start:"Start",end:"Final",label:"Eticheta",note:"Nota",status:"Status",visible:"Vizibil",yes:"Da",no:"Nu",spotsAvailable:"Locuri disponibile",spotsTotal:"Locuri total",newSlotLabel:"Slot meditatii",noOpeningsDay:"Fara locuri",noOpenings:"Nu sunt locuri disponibile.",unscheduled:"Neprogramat",selected:"Selectate: {{count}}",clearAll:"Sterge",copyMessage:"Copiaza mesaj",downloadImage:"Descarca imagine",copied:"Copiat",copyFallback:"Copiaza textul:",loading:"Se incarca...",Available:"Disponibil",FewLeft:"Putine locuri",Full:"Complet",Occupied:"Ocupat",Hidden:"Ascuns",spotsLeft:"locuri",joinSlot:"Inscrie-ma",submitJoin:"Trimite cererea",joinSubmitted:"Cererea a fost trimisa. Asteapta confirmarea.",yourName:"Numele tau",yourContact:"Contactul tau (telefon/email/telegram)",classGrade:"Clasa / grupa",yourMessage:"Detalii extra (optional)",privacyNote:"Cererea ta este privata si vizibila doar adminului.",adminAccess:"Acces admin",adminHint:"Introdu parola de admin pentru management.",adminShortcut:"Scurtatura: Ctrl/Cmd + Shift + A",adminOpen:"Deschide login admin",adminClose:"Inchide login admin",password:"Parola",login:"Autentificare",logoutAdmin:"Iesire admin",sending:"Se trimite...",adminLoginSuccess:"Mod admin activat.",adminLoginFailed:"Parola invalida.",adminLoggedOut:"Ai iesit din modul admin.",viewPublic:"Mod public",editMode:"Mod editare",adminRequests:"Cereri de inscriere",requestsHelper:"Editeaza, accepta, respinge sau sterge cereri.",searchRequests:"Cauta cereri...",all:"Toate",open:"Libere",noRequests:"Nu exista cereri.",pending:"In asteptare",approved:"Acceptat",rejected:"Respins",accept:"Accepta",reject:"Respinge",student:"Elev",contact:"Contact",message:"Mesaj",adminNote:"Nota admin",saveChanges:"Salveaza",requestApproved:"Cerere acceptata.",requestRejected:"Cerere respinsa.",requestUpdated:"Cerere actualizata.",requestDeleted:"Cerere stearsa.",editSlot:"Editeaza slot",duplicate:"Duplica",delete:"Sterge",save:"Salveaza",saving:"Se salveaza...",close:"Inchide",cancel:"Anuleaza",confirmDelete:"Stergi acest slot?",confirmDeleteRequest:"Stergi aceasta cerere?",confirmDeleteProfile:"Stergi acest view si toate sloturile/cererile?"}},ru:{translation:{title:"DISPONIBILITATE",subtitle:"Vyberite slot i otpravte zayavku. Admin mozhet upravlyat neskolkimi view po ssylke.",view:"View",noViews:"Publichnyh view poka net.",copyViewLink:"Kopirovat ssylku",linkCopied:"Ssylka skopirovana.",share:"Podelitsya",manageViews:"Upravlenie view",newView:"Novyy view",pickView:"Vyberite ili sozdayte view.",slug:"Slug",description:"Opisanie",mode:"Rezhim",calendarMode:"Kalendar",recurringMode:"Povtoryaemoe raspisanie",publicView:"Publichnyy",timezone:"Chasovoy poyas",timesShownIn:"Vremya v",language:"Yazyk",done:"Gotovo",change:"Izmenit",schedule:"Raspisanie",scheduleTab:"Raspisanie",requestsTab:"Zayavki",days:"Dni",addDateSlot:"Dobavit slot s datoy",add:"Dobavit",date:"Data",day:"Den",start:"Nachalo",end:"Konec",label:"Metka",note:"Zametka",status:"Status",visible:"Vidimost",yes:"Da",no:"Net",spotsAvailable:"Svobodnyh mest",spotsTotal:"Vsego mest",newSlotLabel:"Slot zanyatiya",noOpeningsDay:"Net mest",noOpenings:"Svobodnyh mest net.",unscheduled:"Bez daty",selected:"Vybrano: {{count}}",clearAll:"Ochistit",copyMessage:"Kopirovat soobshchenie",downloadImage:"Skachat izobrazhenie",copied:"Skopirovano",copyFallback:"Skopiruyte tekst:",loading:"Zagruzka...",Available:"Dostupno",FewLeft:"Malo mest",Full:"Zanyato",Occupied:"Zabronirovano",Hidden:"Skryto",spotsLeft:"mest",joinSlot:"Zaprosit slot",submitJoin:"Otpravit zayavku",joinSubmitted:"Zayavka otpravlena. Ozhidayte proverku.",yourName:"Vashe imya",yourContact:"Vash kontakt (telefon/email/telegram)",classGrade:"Klass / gruppa",yourMessage:"Dop. informatsiya (neobyazatelno)",privacyNote:"Vasha zayavka privatnaya i vidna tolko adminu.",adminAccess:"Dostup admin",adminHint:"Vvedite parol dlya upravleniya.",adminShortcut:"Shortcut: Ctrl/Cmd + Shift + A",adminOpen:"Otkryt admin login",adminClose:"Zakryt admin login",password:"Parol",login:"Voyti",logoutAdmin:"Vyhod",sending:"Otpravka...",adminLoginSuccess:"Admin rezhim aktivirovan.",adminLoginFailed:"Nevernyy parol.",adminLoggedOut:"Vy vyshli iz admin rezhima.",viewPublic:"Public rezhim",editMode:"Rezhim redaktirovaniya",adminRequests:"Zayavki",requestsHelper:"Redaktirovanie, prinyat, otklonit, udalit.",searchRequests:"Poisk zayavok...",all:"Vse",open:"Otkrytye",noRequests:"Zayavok net.",pending:"V ozhidanii",approved:"Prinyato",rejected:"Otkeno",accept:"Prinyat",reject:"Otkit",student:"Uchenik",contact:"Kontakt",message:"Soobshchenie",adminNote:"Zametka admin",saveChanges:"Sokhranit",requestApproved:"Zayavka prinyata.",requestRejected:"Zayavka otklonena.",requestUpdated:"Zayavka obnovlena.",requestDeleted:"Zayavka udalyena.",editSlot:"Redaktirovat slot",duplicate:"Dublikat",delete:"Udalit",save:"Sokhranit",saving:"Sokhranenie...",close:"Zakryt",cancel:"Otmena",confirmDelete:"Udalit etot slot?",confirmDeleteRequest:"Udalit etu zayavku?",confirmDeleteProfile:"Udalit view i vse ego sloty/zayavki?"}}};Pe.use(wv).init({resources:Uk,lng:"ro",fallbackLng:"ro",interpolation:{escapeValue:!1}});const rg=document.getElementById("root");if(!rg)throw new Error("Missing #root element");Uo.createRoot(rg).render(g.jsx(Hg.StrictMode,{children:g.jsx(lk,{})}));
